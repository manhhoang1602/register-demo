{"ast":null,"code":"import _slicedToArray from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { Key } from '../../types.js';\nimport React$1, { useState, useRef, useEffect, useCallback, createElement } from 'react';\nimport { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { useIsAfterInitialMount as useIsAfterInitialMount$1 } from '../../utilities/use-is-after-initial-mount.js';\nimport { CircleCancelMinor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { VisuallyHidden as VisuallyHidden$1 } from '../VisuallyHidden/VisuallyHidden.js';\nimport { labelID } from '../Label/Label.js';\nimport { Labelled as Labelled$1, helpTextID } from '../Labelled/Labelled.js';\nimport { Connected as Connected$1 } from '../Connected/Connected.js';\nimport styles from './TextField.scss.js';\nimport { Resizer as Resizer$1 } from './components/Resizer/Resizer.js';\nimport { Spinner as Spinner$1 } from './components/Spinner/Spinner.js';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: CircleCancelMinor,\n  color: \"base\"\n});\n\nfunction TextField(_ref2) {\n  var prefix = _ref2.prefix,\n      suffix = _ref2.suffix,\n      placeholder = _ref2.placeholder,\n      value = _ref2.value,\n      helpText = _ref2.helpText,\n      label = _ref2.label,\n      labelAction = _ref2.labelAction,\n      labelHidden = _ref2.labelHidden,\n      disabled = _ref2.disabled,\n      clearButton = _ref2.clearButton,\n      readOnly = _ref2.readOnly,\n      autoFocus = _ref2.autoFocus,\n      focused = _ref2.focused,\n      multiline = _ref2.multiline,\n      error = _ref2.error,\n      connectedRight = _ref2.connectedRight,\n      connectedLeft = _ref2.connectedLeft,\n      type = _ref2.type,\n      name = _ref2.name,\n      idProp = _ref2.id,\n      role = _ref2.role,\n      step = _ref2.step,\n      autoComplete = _ref2.autoComplete,\n      max = _ref2.max,\n      maxLength = _ref2.maxLength,\n      min = _ref2.min,\n      minLength = _ref2.minLength,\n      pattern = _ref2.pattern,\n      inputMode = _ref2.inputMode,\n      spellCheck = _ref2.spellCheck,\n      ariaOwns = _ref2.ariaOwns,\n      ariaControls = _ref2.ariaControls,\n      ariaExpanded = _ref2.ariaExpanded,\n      ariaActiveDescendant = _ref2.ariaActiveDescendant,\n      ariaAutocomplete = _ref2.ariaAutocomplete,\n      showCharacterCount = _ref2.showCharacterCount,\n      align = _ref2.align,\n      onClearButtonClick = _ref2.onClearButtonClick,\n      onChange = _ref2.onChange,\n      onFocus = _ref2.onFocus,\n      onBlur = _ref2.onBlur;\n  var i18n = useI18n();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      height = _useState2[0],\n      setHeight = _useState2[1];\n\n  var _useState3 = useState(Boolean(focused)),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focus = _useState4[0],\n      setFocus = _useState4[1];\n\n  var isAfterInitial = useIsAfterInitialMount$1();\n  var id = useUniqueId('TextField', idProp);\n  var inputRef = useRef(null);\n  var prefixRef = useRef(null);\n  var suffixRef = useRef(null);\n  var buttonPressTimer = useRef();\n  useEffect(function () {\n    var input = inputRef.current;\n    if (!input || focused === undefined) return;\n    focused ? input.focus() : input.blur();\n  }, [focused]); // Use a typeof check here as Typescript mostly protects us from non-stringy\n  // values but overzealous usage of `any` in consuming apps means people have\n  // been known to pass a number in, so make it clear that doesn't work.\n\n  var normalizedValue = typeof value === 'string' ? value : '';\n  var normalizedStep = step != null ? step : 1;\n  var normalizedMax = max != null ? max : Infinity;\n  var normalizedMin = min != null ? min : -Infinity;\n  var className = classNames(styles.TextField, Boolean(normalizedValue) && styles.hasValue, disabled && styles.disabled, readOnly && styles.readOnly, error && styles.error, multiline && styles.multiline, focus && styles.focus);\n  var inputType = type === 'currency' ? 'text' : type;\n  var prefixMarkup = prefix ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Prefix,\n    id: \"\".concat(id, \"Prefix\"),\n    ref: prefixRef\n  }, prefix) : null;\n  var suffixMarkup = suffix ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Suffix,\n    id: \"\".concat(id, \"Suffix\"),\n    ref: suffixRef\n  }, suffix) : null;\n  var characterCountMarkup = null;\n\n  if (showCharacterCount) {\n    var characterCount = normalizedValue.length;\n    var characterCountLabel = maxLength ? i18n.translate('Polaris.TextField.characterCountWithMaxLength', {\n      count: characterCount,\n      limit: maxLength\n    }) : i18n.translate('Polaris.TextField.characterCount', {\n      count: characterCount\n    });\n    var characterCountClassName = classNames(styles.CharacterCount, multiline && styles.AlignFieldBottom);\n    var characterCountText = !maxLength ? characterCount : \"\".concat(characterCount, \"/\").concat(maxLength);\n    characterCountMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      id: \"\".concat(id, \"CharacterCounter\"),\n      className: characterCountClassName,\n      \"aria-label\": characterCountLabel,\n      \"aria-live\": focus ? 'polite' : 'off',\n      \"aria-atomic\": \"true\"\n    }, characterCountText);\n  }\n\n  var clearButtonVisible = normalizedValue !== '';\n  var clearButtonClassName = classNames(styles.ClearButton, !clearButtonVisible && styles['ClearButton-hidden']);\n  var clearButtonMarkup = clearButton ? /*#__PURE__*/React$1.createElement(\"button\", {\n    type: \"button\",\n    className: clearButtonClassName,\n    onClick: handleClearButtonPress,\n    disabled: disabled,\n    tabIndex: clearButtonVisible ? 0 : -1\n  }, /*#__PURE__*/React$1.createElement(VisuallyHidden$1, null, i18n.translate('Polaris.Common.clear')), _ref) : null;\n  var handleNumberChange = useCallback(function (steps) {\n    if (onChange == null) {\n      return;\n    } // Returns the length of decimal places in a number\n\n\n    var dpl = function dpl(num) {\n      return (num.toString().split('.')[1] || []).length;\n    };\n\n    var numericValue = value ? parseFloat(value) : 0;\n\n    if (isNaN(numericValue)) {\n      return;\n    } // Making sure the new value has the same length of decimal places as the\n    // step / value has.\n\n\n    var decimalPlaces = Math.max(dpl(numericValue), dpl(normalizedStep));\n    var newValue = Math.min(Number(normalizedMax), Math.max(numericValue + steps * normalizedStep, Number(normalizedMin)));\n    onChange(String(newValue.toFixed(decimalPlaces)), id);\n  }, [id, normalizedMax, normalizedMin, onChange, normalizedStep, value]);\n  var handleButtonRelease = useCallback(function () {\n    clearTimeout(buttonPressTimer.current);\n  }, []);\n  var handleButtonPress = useCallback(function (onChange) {\n    var minInterval = 50;\n    var decrementBy = 10;\n    var interval = 200;\n\n    var onChangeInterval = function onChangeInterval() {\n      if (interval > minInterval) interval -= decrementBy;\n      onChange(0);\n      buttonPressTimer.current = window.setTimeout(onChangeInterval, interval);\n    };\n\n    buttonPressTimer.current = window.setTimeout(onChangeInterval, interval);\n    document.addEventListener('mouseup', handleButtonRelease, {\n      once: true\n    });\n  }, [handleButtonRelease]);\n  var spinnerMarkup = type === 'number' && step !== 0 && !disabled && !readOnly ? /*#__PURE__*/React$1.createElement(Spinner$1, {\n    onChange: handleNumberChange,\n    onMouseDown: handleButtonPress,\n    onMouseUp: handleButtonRelease\n  }) : null;\n  var style = multiline && height ? {\n    height: height\n  } : null;\n  var handleExpandingResize = useCallback(function (height) {\n    setHeight(height);\n  }, []);\n  var resizer = multiline && isAfterInitial ? /*#__PURE__*/React$1.createElement(Resizer$1, {\n    contents: normalizedValue || placeholder,\n    currentHeight: height,\n    minimumLines: typeof multiline === 'number' ? multiline : 1,\n    onHeightChange: handleExpandingResize\n  }) : null;\n  var describedBy = [];\n\n  if (error) {\n    describedBy.push(\"\".concat(id, \"Error\"));\n  }\n\n  if (helpText) {\n    describedBy.push(helpTextID(id));\n  }\n\n  if (showCharacterCount) {\n    describedBy.push(\"\".concat(id, \"CharacterCounter\"));\n  }\n\n  var labelledBy = [];\n\n  if (prefix) {\n    labelledBy.push(\"\".concat(id, \"Prefix\"));\n  }\n\n  if (suffix) {\n    labelledBy.push(\"\".concat(id, \"Suffix\"));\n  }\n\n  labelledBy.unshift(labelID(id));\n  var inputClassName = classNames(styles.Input, align && styles[variationName('Input-align', align)], suffix && styles['Input-suffixed'], clearButton && styles['Input-hasClearButton']);\n  var input = /*#__PURE__*/createElement(multiline ? 'textarea' : 'input', _objectSpread2({\n    name: name,\n    id: id,\n    disabled: disabled,\n    readOnly: readOnly,\n    role: role,\n    autoFocus: autoFocus,\n    value: normalizedValue,\n    placeholder: placeholder,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyPress: handleKeyPress,\n    style: style,\n    autoComplete: normalizeAutoComplete(autoComplete),\n    className: inputClassName,\n    onChange: handleChange,\n    ref: inputRef,\n    min: min,\n    max: max,\n    step: step,\n    minLength: minLength,\n    maxLength: maxLength,\n    spellCheck: spellCheck,\n    pattern: pattern,\n    inputMode: inputMode,\n    type: inputType,\n    'aria-describedby': describedBy.length ? describedBy.join(' ') : undefined,\n    'aria-labelledby': labelledBy.join(' '),\n    'aria-invalid': Boolean(error),\n    'aria-owns': ariaOwns,\n    'aria-activedescendant': ariaActiveDescendant,\n    'aria-autocomplete': ariaAutocomplete,\n    'aria-controls': ariaControls,\n    'aria-expanded': ariaExpanded\n  }, normalizeAriaMultiline(multiline)));\n  var backdropClassName = classNames(styles.Backdrop, connectedLeft && styles['Backdrop-connectedLeft'], connectedRight && styles['Backdrop-connectedRight']);\n  return /*#__PURE__*/React$1.createElement(Labelled$1, {\n    label: label,\n    id: id,\n    error: error,\n    action: labelAction,\n    labelHidden: labelHidden,\n    helpText: helpText\n  }, /*#__PURE__*/React$1.createElement(Connected$1, {\n    left: connectedLeft,\n    right: connectedRight\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onClick: handleClick\n  }, prefixMarkup, input, suffixMarkup, characterCountMarkup, clearButtonMarkup, spinnerMarkup, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: backdropClassName\n  }), resizer)));\n\n  function handleClearButtonPress() {\n    onClearButtonClick && onClearButtonClick(id);\n  }\n\n  function handleKeyPress(event) {\n    var key = event.key,\n        which = event.which;\n    var numbersSpec = /[\\d.eE+-]$/;\n\n    if (type !== 'number' || which === Key.Enter || numbersSpec.test(key)) {\n      return;\n    }\n\n    event.preventDefault();\n  }\n\n  function containsAffix(target) {\n    return target instanceof HTMLElement && (prefixRef.current && prefixRef.current.contains(target) || suffixRef.current && suffixRef.current.contains(target));\n  }\n\n  function handleChange(event) {\n    onChange && onChange(event.currentTarget.value, id);\n  }\n\n  function handleFocus(_ref3) {\n    var target = _ref3.target;\n\n    if (containsAffix(target)) {\n      return;\n    }\n\n    setFocus(true);\n  }\n\n  function handleBlur() {\n    setFocus(false);\n  }\n\n  function handleClick(_ref4) {\n    var target = _ref4.target;\n\n    if (containsAffix(target)) {\n      return;\n    }\n\n    inputRef.current && inputRef.current.focus();\n  }\n}\n\nfunction normalizeAutoComplete(autoComplete) {\n  if (autoComplete === true) {\n    return 'on';\n  } else if (autoComplete === false) {\n    return 'off';\n  } else {\n    return autoComplete;\n  }\n}\n\nfunction normalizeAriaMultiline(multiline) {\n  if (!multiline) return undefined;\n  return Boolean(multiline) || multiline > 0 ? {\n    'aria-multiline': true\n  } : undefined;\n}\n\nexport { TextField };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/TextField/TextField.js"],"names":["Key","React$1","useState","useRef","useEffect","useCallback","createElement","objectSpread2","_objectSpread2","useUniqueId","useI18n","classNames","variationName","useIsAfterInitialMount","useIsAfterInitialMount$1","CircleCancelMinor","Icon","Icon$1","VisuallyHidden","VisuallyHidden$1","labelID","Labelled","Labelled$1","helpTextID","Connected","Connected$1","styles","Resizer","Resizer$1","Spinner","Spinner$1","_ref","source","color","TextField","prefix","suffix","placeholder","value","helpText","label","labelAction","labelHidden","disabled","clearButton","readOnly","autoFocus","focused","multiline","error","connectedRight","connectedLeft","type","name","idProp","id","role","step","autoComplete","max","maxLength","min","minLength","pattern","inputMode","spellCheck","ariaOwns","ariaControls","ariaExpanded","ariaActiveDescendant","ariaAutocomplete","showCharacterCount","align","onClearButtonClick","onChange","onFocus","onBlur","i18n","height","setHeight","Boolean","focus","setFocus","isAfterInitial","inputRef","prefixRef","suffixRef","buttonPressTimer","input","current","undefined","blur","normalizedValue","normalizedStep","normalizedMax","Infinity","normalizedMin","className","hasValue","inputType","prefixMarkup","Prefix","ref","suffixMarkup","Suffix","characterCountMarkup","characterCount","length","characterCountLabel","translate","count","limit","characterCountClassName","CharacterCount","AlignFieldBottom","characterCountText","clearButtonVisible","clearButtonClassName","ClearButton","clearButtonMarkup","onClick","handleClearButtonPress","tabIndex","handleNumberChange","steps","dpl","num","toString","split","numericValue","parseFloat","isNaN","decimalPlaces","Math","newValue","Number","String","toFixed","handleButtonRelease","clearTimeout","handleButtonPress","minInterval","decrementBy","interval","onChangeInterval","window","setTimeout","document","addEventListener","once","spinnerMarkup","onMouseDown","onMouseUp","style","handleExpandingResize","resizer","contents","currentHeight","minimumLines","onHeightChange","describedBy","push","labelledBy","unshift","inputClassName","Input","onKeyPress","handleKeyPress","normalizeAutoComplete","handleChange","join","normalizeAriaMultiline","backdropClassName","Backdrop","action","left","right","handleFocus","handleBlur","handleClick","event","key","which","numbersSpec","Enter","test","preventDefault","containsAffix","target","HTMLElement","contains","currentTarget"],"mappings":"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","sourcesContent":["import { Key } from '../../types.js';\nimport React$1, { useState, useRef, useEffect, useCallback, createElement } from 'react';\nimport { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { useIsAfterInitialMount as useIsAfterInitialMount$1 } from '../../utilities/use-is-after-initial-mount.js';\nimport { CircleCancelMinor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { VisuallyHidden as VisuallyHidden$1 } from '../VisuallyHidden/VisuallyHidden.js';\nimport { labelID } from '../Label/Label.js';\nimport { Labelled as Labelled$1, helpTextID } from '../Labelled/Labelled.js';\nimport { Connected as Connected$1 } from '../Connected/Connected.js';\nimport styles from './TextField.scss.js';\nimport { Resizer as Resizer$1 } from './components/Resizer/Resizer.js';\nimport { Spinner as Spinner$1 } from './components/Spinner/Spinner.js';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: CircleCancelMinor,\n  color: \"base\"\n});\n\nfunction TextField({\n  prefix,\n  suffix,\n  placeholder,\n  value,\n  helpText,\n  label,\n  labelAction,\n  labelHidden,\n  disabled,\n  clearButton,\n  readOnly,\n  autoFocus,\n  focused,\n  multiline,\n  error,\n  connectedRight,\n  connectedLeft,\n  type,\n  name,\n  id: idProp,\n  role,\n  step,\n  autoComplete,\n  max,\n  maxLength,\n  min,\n  minLength,\n  pattern,\n  inputMode,\n  spellCheck,\n  ariaOwns,\n  ariaControls,\n  ariaExpanded,\n  ariaActiveDescendant,\n  ariaAutocomplete,\n  showCharacterCount,\n  align,\n  onClearButtonClick,\n  onChange,\n  onFocus,\n  onBlur\n}) {\n  const i18n = useI18n();\n  const [height, setHeight] = useState(null);\n  const [focus, setFocus] = useState(Boolean(focused));\n  const isAfterInitial = useIsAfterInitialMount$1();\n  const id = useUniqueId('TextField', idProp);\n  const inputRef = useRef(null);\n  const prefixRef = useRef(null);\n  const suffixRef = useRef(null);\n  const buttonPressTimer = useRef();\n  useEffect(() => {\n    const input = inputRef.current;\n    if (!input || focused === undefined) return;\n    focused ? input.focus() : input.blur();\n  }, [focused]); // Use a typeof check here as Typescript mostly protects us from non-stringy\n  // values but overzealous usage of `any` in consuming apps means people have\n  // been known to pass a number in, so make it clear that doesn't work.\n\n  const normalizedValue = typeof value === 'string' ? value : '';\n  const normalizedStep = step != null ? step : 1;\n  const normalizedMax = max != null ? max : Infinity;\n  const normalizedMin = min != null ? min : -Infinity;\n  const className = classNames(styles.TextField, Boolean(normalizedValue) && styles.hasValue, disabled && styles.disabled, readOnly && styles.readOnly, error && styles.error, multiline && styles.multiline, focus && styles.focus);\n  const inputType = type === 'currency' ? 'text' : type;\n  const prefixMarkup = prefix ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Prefix,\n    id: `${id}Prefix`,\n    ref: prefixRef\n  }, prefix) : null;\n  const suffixMarkup = suffix ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Suffix,\n    id: `${id}Suffix`,\n    ref: suffixRef\n  }, suffix) : null;\n  let characterCountMarkup = null;\n\n  if (showCharacterCount) {\n    const characterCount = normalizedValue.length;\n    const characterCountLabel = maxLength ? i18n.translate('Polaris.TextField.characterCountWithMaxLength', {\n      count: characterCount,\n      limit: maxLength\n    }) : i18n.translate('Polaris.TextField.characterCount', {\n      count: characterCount\n    });\n    const characterCountClassName = classNames(styles.CharacterCount, multiline && styles.AlignFieldBottom);\n    const characterCountText = !maxLength ? characterCount : `${characterCount}/${maxLength}`;\n    characterCountMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      id: `${id}CharacterCounter`,\n      className: characterCountClassName,\n      \"aria-label\": characterCountLabel,\n      \"aria-live\": focus ? 'polite' : 'off',\n      \"aria-atomic\": \"true\"\n    }, characterCountText);\n  }\n\n  const clearButtonVisible = normalizedValue !== '';\n  const clearButtonClassName = classNames(styles.ClearButton, !clearButtonVisible && styles['ClearButton-hidden']);\n  const clearButtonMarkup = clearButton ? /*#__PURE__*/React$1.createElement(\"button\", {\n    type: \"button\",\n    className: clearButtonClassName,\n    onClick: handleClearButtonPress,\n    disabled: disabled,\n    tabIndex: clearButtonVisible ? 0 : -1\n  }, /*#__PURE__*/React$1.createElement(VisuallyHidden$1, null, i18n.translate('Polaris.Common.clear')), _ref) : null;\n  const handleNumberChange = useCallback(steps => {\n    if (onChange == null) {\n      return;\n    } // Returns the length of decimal places in a number\n\n\n    const dpl = num => (num.toString().split('.')[1] || []).length;\n\n    const numericValue = value ? parseFloat(value) : 0;\n\n    if (isNaN(numericValue)) {\n      return;\n    } // Making sure the new value has the same length of decimal places as the\n    // step / value has.\n\n\n    const decimalPlaces = Math.max(dpl(numericValue), dpl(normalizedStep));\n    const newValue = Math.min(Number(normalizedMax), Math.max(numericValue + steps * normalizedStep, Number(normalizedMin)));\n    onChange(String(newValue.toFixed(decimalPlaces)), id);\n  }, [id, normalizedMax, normalizedMin, onChange, normalizedStep, value]);\n  const handleButtonRelease = useCallback(() => {\n    clearTimeout(buttonPressTimer.current);\n  }, []);\n  const handleButtonPress = useCallback(onChange => {\n    const minInterval = 50;\n    const decrementBy = 10;\n    let interval = 200;\n\n    const onChangeInterval = () => {\n      if (interval > minInterval) interval -= decrementBy;\n      onChange(0);\n      buttonPressTimer.current = window.setTimeout(onChangeInterval, interval);\n    };\n\n    buttonPressTimer.current = window.setTimeout(onChangeInterval, interval);\n    document.addEventListener('mouseup', handleButtonRelease, {\n      once: true\n    });\n  }, [handleButtonRelease]);\n  const spinnerMarkup = type === 'number' && step !== 0 && !disabled && !readOnly ? /*#__PURE__*/React$1.createElement(Spinner$1, {\n    onChange: handleNumberChange,\n    onMouseDown: handleButtonPress,\n    onMouseUp: handleButtonRelease\n  }) : null;\n  const style = multiline && height ? {\n    height\n  } : null;\n  const handleExpandingResize = useCallback(height => {\n    setHeight(height);\n  }, []);\n  const resizer = multiline && isAfterInitial ? /*#__PURE__*/React$1.createElement(Resizer$1, {\n    contents: normalizedValue || placeholder,\n    currentHeight: height,\n    minimumLines: typeof multiline === 'number' ? multiline : 1,\n    onHeightChange: handleExpandingResize\n  }) : null;\n  const describedBy = [];\n\n  if (error) {\n    describedBy.push(`${id}Error`);\n  }\n\n  if (helpText) {\n    describedBy.push(helpTextID(id));\n  }\n\n  if (showCharacterCount) {\n    describedBy.push(`${id}CharacterCounter`);\n  }\n\n  const labelledBy = [];\n\n  if (prefix) {\n    labelledBy.push(`${id}Prefix`);\n  }\n\n  if (suffix) {\n    labelledBy.push(`${id}Suffix`);\n  }\n\n  labelledBy.unshift(labelID(id));\n  const inputClassName = classNames(styles.Input, align && styles[variationName('Input-align', align)], suffix && styles['Input-suffixed'], clearButton && styles['Input-hasClearButton']);\n  const input = /*#__PURE__*/createElement(multiline ? 'textarea' : 'input', _objectSpread2({\n    name,\n    id,\n    disabled,\n    readOnly,\n    role,\n    autoFocus,\n    value: normalizedValue,\n    placeholder,\n    onFocus,\n    onBlur,\n    onKeyPress: handleKeyPress,\n    style,\n    autoComplete: normalizeAutoComplete(autoComplete),\n    className: inputClassName,\n    onChange: handleChange,\n    ref: inputRef,\n    min,\n    max,\n    step,\n    minLength,\n    maxLength,\n    spellCheck,\n    pattern,\n    inputMode,\n    type: inputType,\n    'aria-describedby': describedBy.length ? describedBy.join(' ') : undefined,\n    'aria-labelledby': labelledBy.join(' '),\n    'aria-invalid': Boolean(error),\n    'aria-owns': ariaOwns,\n    'aria-activedescendant': ariaActiveDescendant,\n    'aria-autocomplete': ariaAutocomplete,\n    'aria-controls': ariaControls,\n    'aria-expanded': ariaExpanded\n  }, normalizeAriaMultiline(multiline)));\n  const backdropClassName = classNames(styles.Backdrop, connectedLeft && styles['Backdrop-connectedLeft'], connectedRight && styles['Backdrop-connectedRight']);\n  return /*#__PURE__*/React$1.createElement(Labelled$1, {\n    label: label,\n    id: id,\n    error: error,\n    action: labelAction,\n    labelHidden: labelHidden,\n    helpText: helpText\n  }, /*#__PURE__*/React$1.createElement(Connected$1, {\n    left: connectedLeft,\n    right: connectedRight\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onClick: handleClick\n  }, prefixMarkup, input, suffixMarkup, characterCountMarkup, clearButtonMarkup, spinnerMarkup, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: backdropClassName\n  }), resizer)));\n\n  function handleClearButtonPress() {\n    onClearButtonClick && onClearButtonClick(id);\n  }\n\n  function handleKeyPress(event) {\n    const {\n      key,\n      which\n    } = event;\n    const numbersSpec = /[\\d.eE+-]$/;\n\n    if (type !== 'number' || which === Key.Enter || numbersSpec.test(key)) {\n      return;\n    }\n\n    event.preventDefault();\n  }\n\n  function containsAffix(target) {\n    return target instanceof HTMLElement && (prefixRef.current && prefixRef.current.contains(target) || suffixRef.current && suffixRef.current.contains(target));\n  }\n\n  function handleChange(event) {\n    onChange && onChange(event.currentTarget.value, id);\n  }\n\n  function handleFocus({\n    target\n  }) {\n    if (containsAffix(target)) {\n      return;\n    }\n\n    setFocus(true);\n  }\n\n  function handleBlur() {\n    setFocus(false);\n  }\n\n  function handleClick({\n    target\n  }) {\n    if (containsAffix(target)) {\n      return;\n    }\n\n    inputRef.current && inputRef.current.focus();\n  }\n}\n\nfunction normalizeAutoComplete(autoComplete) {\n  if (autoComplete === true) {\n    return 'on';\n  } else if (autoComplete === false) {\n    return 'off';\n  } else {\n    return autoComplete;\n  }\n}\n\nfunction normalizeAriaMultiline(multiline) {\n  if (!multiline) return undefined;\n  return Boolean(multiline) || multiline > 0 ? {\n    'aria-multiline': true\n  } : undefined;\n}\n\nexport { TextField };\n"]},"metadata":{},"sourceType":"module"}