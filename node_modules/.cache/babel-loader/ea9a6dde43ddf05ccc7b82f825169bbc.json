{"ast":null,"code":"import _classCallCheck from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport React$1, { useContext, Component, createRef } from 'react';\nimport { objectWithoutProperties as _objectWithoutProperties } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { HorizontalDotsMinor } from '@shopify/polaris-icons';\nimport { Popover as Popover$1 } from '../Popover/Popover.js';\nimport { UnstyledLink as UnstyledLink$1 } from '../UnstyledLink/UnstyledLink.js';\nimport { ActionList as ActionList$1 } from '../ActionList/ActionList.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { buttonsFrom } from '../Button/utils.js';\nimport { ButtonGroup as ButtonGroup$1 } from '../ButtonGroup/ButtonGroup.js';\nimport isEqual$1 from 'lodash/isEqual';\nimport { Checkbox as Checkbox$1 } from '../Checkbox/Checkbox.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport styles from './ResourceItem.scss.js';\nvar getUniqueCheckboxID = globalIdGeneratorFactory('ResourceListItemCheckbox');\nvar getUniqueOverlayID = globalIdGeneratorFactory('ResourceListItemOverlay');\n\nvar BaseResourceItem = /*#__PURE__*/function (_Component) {\n  _inherits(BaseResourceItem, _Component);\n\n  var _super = _createSuper(BaseResourceItem);\n\n  function BaseResourceItem() {\n    var _this;\n\n    _classCallCheck(this, BaseResourceItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      actionsMenuVisible: false,\n      focused: false,\n      focusedInner: false,\n      selected: isSelected(_this.props.id, _this.props.context.selectedItems)\n    };\n    _this.node = null;\n    _this.checkboxId = getUniqueCheckboxID();\n    _this.overlayId = getUniqueOverlayID();\n    _this.buttonOverlay = /*#__PURE__*/createRef();\n\n    _this.setNode = function (node) {\n      _this.node = node;\n    };\n\n    _this.handleFocus = function (event) {\n      if (event.target === _this.buttonOverlay.current || _this.node && event.target === _this.node.querySelector(\"#\".concat(_this.overlayId))) {\n        _this.setState({\n          focused: true,\n          focusedInner: false\n        });\n      } else if (_this.node && _this.node.contains(event.target)) {\n        _this.setState({\n          focused: true,\n          focusedInner: true\n        });\n      }\n    };\n\n    _this.handleBlur = function (_ref) {\n      var relatedTarget = _ref.relatedTarget;\n\n      if (_this.node && relatedTarget instanceof Element && _this.node.contains(relatedTarget)) {\n        return;\n      }\n\n      _this.setState({\n        focused: false,\n        focusedInner: false\n      });\n    };\n\n    _this.handleMouseOut = function () {\n      _this.state.focused && _this.setState({\n        focused: false,\n        focusedInner: false\n      });\n    };\n\n    _this.handleLargerSelectionArea = function (event) {\n      stopPropagation(event);\n\n      _this.handleSelection(!_this.state.selected, event.nativeEvent.shiftKey);\n    };\n\n    _this.handleSelection = function (value, shiftKey) {\n      var _this$props2 = _this.props,\n          id = _this$props2.id,\n          sortOrder = _this$props2.sortOrder,\n          onSelectionChange = _this$props2.context.onSelectionChange;\n\n      if (id == null || onSelectionChange == null) {\n        return;\n      }\n\n      _this.setState({\n        focused: value,\n        focusedInner: value\n      });\n\n      onSelectionChange(value, id, sortOrder, shiftKey);\n    };\n\n    _this.handleClick = function (event) {\n      stopPropagation(event);\n      var _this$props3 = _this.props,\n          id = _this$props3.id,\n          onClick = _this$props3.onClick,\n          url = _this$props3.url,\n          selectMode = _this$props3.context.selectMode;\n      var _event$nativeEvent = event.nativeEvent,\n          ctrlKey = _event$nativeEvent.ctrlKey,\n          metaKey = _event$nativeEvent.metaKey;\n\n      var anchor = _this.node && _this.node.querySelector('a');\n\n      if (selectMode) {\n        _this.handleLargerSelectionArea(event);\n\n        return;\n      }\n\n      if (anchor === event.target) {\n        return;\n      }\n\n      if (onClick) {\n        onClick(id);\n      }\n\n      if (url && (ctrlKey || metaKey)) {\n        window.open(url, '_blank');\n        return;\n      }\n\n      if (url && anchor) {\n        anchor.click();\n      }\n    };\n\n    _this.handleKeyUp = function (event) {\n      var _this$props4 = _this.props,\n          _this$props4$onClick = _this$props4.onClick,\n          onClick = _this$props4$onClick === void 0 ? noop : _this$props4$onClick,\n          selectMode = _this$props4.context.selectMode;\n      var key = event.key;\n\n      if (key === 'Enter' && _this.props.url && !selectMode) {\n        onClick();\n      }\n    };\n\n    _this.handleActionsClick = function () {\n      _this.setState(function (_ref2) {\n        var actionsMenuVisible = _ref2.actionsMenuVisible;\n        return {\n          actionsMenuVisible: !actionsMenuVisible\n        };\n      });\n    };\n\n    _this.handleCloseRequest = function () {\n      _this.setState({\n        actionsMenuVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BaseResourceItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var restNextContext = _objectWithoutProperties(nextProps.context, [\"selectedItems\"]),\n          restNextProps = _objectWithoutProperties(nextProps, [\"children\", \"context\"]);\n\n      var _this$props = this.props,\n          restContext = _objectWithoutProperties(_this$props.context, [\"selectedItems\"]),\n          restProps = _objectWithoutProperties(_this$props, [\"children\", \"context\"]);\n\n      var nextSelectMode = nextProps.context.selectMode;\n      return !isEqual$1(this.state, nextState) || this.props.context.selectMode !== nextSelectMode || !nextProps.context.selectMode && (!isEqual$1(restProps, restNextProps) || !isEqual$1(restContext, restNextContext));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          url = _this$props5.url,\n          external = _this$props5.external,\n          media = _this$props5.media,\n          shortcutActions = _this$props5.shortcutActions,\n          ariaControls = _this$props5.ariaControls,\n          ariaExpanded = _this$props5.ariaExpanded,\n          _this$props5$persistA = _this$props5.persistActions,\n          persistActions = _this$props5$persistA === void 0 ? false : _this$props5$persistA,\n          accessibilityLabel = _this$props5.accessibilityLabel,\n          name = _this$props5.name,\n          _this$props5$context = _this$props5.context,\n          selectable = _this$props5$context.selectable,\n          selectMode = _this$props5$context.selectMode,\n          loading = _this$props5$context.loading,\n          resourceName = _this$props5$context.resourceName,\n          i18n = _this$props5.i18n,\n          verticalAlignment = _this$props5.verticalAlignment,\n          dataHref = _this$props5.dataHref;\n      var _this$state = this.state,\n          actionsMenuVisible = _this$state.actionsMenuVisible,\n          focused = _this$state.focused,\n          focusedInner = _this$state.focusedInner,\n          selected = _this$state.selected;\n      var ownedMarkup = null;\n      var handleMarkup = null;\n      var mediaMarkup = media ? /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Media\n      }, media) : null;\n\n      if (selectable) {\n        var checkboxAccessibilityLabel = name || accessibilityLabel || i18n.translate('Polaris.Common.checkbox');\n        handleMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n          className: styles.Handle,\n          onClick: this.handleLargerSelectionArea\n        }, /*#__PURE__*/React$1.createElement(\"div\", {\n          onClick: stopPropagation,\n          className: styles.CheckboxWrapper\n        }, /*#__PURE__*/React$1.createElement(\"div\", {\n          onChange: this.handleLargerSelectionArea\n        }, /*#__PURE__*/React$1.createElement(Checkbox$1, {\n          id: this.checkboxId,\n          label: checkboxAccessibilityLabel,\n          labelHidden: true,\n          checked: selected,\n          disabled: loading\n        }))));\n      }\n\n      if (media || selectable) {\n        ownedMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n          className: classNames(styles.Owned, !mediaMarkup && styles.OwnedNoMedia)\n        }, handleMarkup, mediaMarkup);\n      }\n\n      var className = classNames(styles.ResourceItem, focused && styles.focused, selectable && styles.selectable, selected && styles.selected, selectMode && styles.selectMode, persistActions && styles.persistActions, focusedInner && styles.focusedInner);\n      var listItemClassName = classNames(styles.ListItem, focused && !focusedInner && styles.focused);\n      var actionsMarkup = null;\n      var disclosureMarkup = null;\n\n      if (shortcutActions && !loading) {\n        if (persistActions) {\n          actionsMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n            className: styles.Actions,\n            onClick: stopPropagation\n          }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, null, buttonsFrom(shortcutActions, {\n            plain: true\n          })));\n          var disclosureAccessibilityLabel = name ? i18n.translate('Polaris.ResourceList.Item.actionsDropdownLabel', {\n            accessibilityLabel: name\n          }) : i18n.translate('Polaris.ResourceList.Item.actionsDropdown');\n          disclosureMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n            className: styles.Disclosure,\n            onClick: stopPropagation\n          }, /*#__PURE__*/React$1.createElement(Popover$1, {\n            activator: /*#__PURE__*/React$1.createElement(Button$1, {\n              accessibilityLabel: disclosureAccessibilityLabel,\n              onClick: this.handleActionsClick,\n              plain: true,\n              icon: HorizontalDotsMinor\n            }),\n            onClose: this.handleCloseRequest,\n            active: actionsMenuVisible\n          }, /*#__PURE__*/React$1.createElement(ActionList$1, {\n            items: shortcutActions\n          })));\n        } else {\n          actionsMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n            className: styles.Actions,\n            onClick: stopPropagation\n          }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, {\n            segmented: true\n          }, buttonsFrom(shortcutActions, {\n            size: 'slim'\n          })));\n        }\n      }\n\n      var content = children ? /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Content\n      }, children) : null;\n      var containerClassName = classNames(styles.Container, verticalAlignment && styles[variationName('alignment', verticalAlignment)]);\n      var containerMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: containerClassName,\n        id: this.props.id\n      }, ownedMarkup, content, actionsMarkup, disclosureMarkup);\n      var tabIndex = loading ? -1 : 0;\n      var ariaLabel = accessibilityLabel || i18n.translate('Polaris.ResourceList.Item.viewItem', {\n        itemName: name || resourceName && resourceName.singular || ''\n      });\n      var accessibleMarkup = url ? /*#__PURE__*/React$1.createElement(UnstyledLink$1, {\n        \"aria-describedby\": this.props.id,\n        \"aria-label\": ariaLabel,\n        className: styles.Link,\n        url: url,\n        external: external,\n        tabIndex: tabIndex,\n        id: this.overlayId\n      }) : /*#__PURE__*/React$1.createElement(\"button\", {\n        className: styles.Button,\n        \"aria-label\": ariaLabel,\n        \"aria-controls\": ariaControls,\n        \"aria-expanded\": ariaExpanded,\n        onClick: this.handleClick,\n        tabIndex: tabIndex,\n        ref: this.buttonOverlay\n      });\n      return /*#__PURE__*/React$1.createElement(\"li\", {\n        className: listItemClassName,\n        \"data-href\": dataHref\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.ItemWrapper\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        ref: this.setNode,\n        className: className,\n        onClick: this.handleClick,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onKeyUp: this.handleKeyUp,\n        onMouseOut: this.handleMouseOut,\n        \"data-href\": url\n      }, accessibleMarkup, containerMarkup)));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var selected = isSelected(nextProps.id, nextProps.context.selectedItems);\n\n      if (prevState.selected === selected) {\n        return null;\n      }\n\n      return {\n        selected: selected\n      };\n    }\n  }]);\n\n  return BaseResourceItem;\n}(Component);\n\nfunction noop() {}\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nfunction isSelected(id, selectedItems) {\n  return Boolean(selectedItems && (Array.isArray(selectedItems) && selectedItems.includes(id) || selectedItems === SELECT_ALL_ITEMS));\n}\n\nfunction ResourceItem(props) {\n  return /*#__PURE__*/React$1.createElement(BaseResourceItem, Object.assign({}, props, {\n    context: useContext(ResourceListContext),\n    i18n: useI18n()\n  }));\n}\n\nexport { ResourceItem };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/ResourceItem/ResourceItem.js"],"names":["React$1","useContext","Component","createRef","objectWithoutProperties","_objectWithoutProperties","globalIdGeneratorFactory","useI18n","classNames","variationName","HorizontalDotsMinor","Popover","Popover$1","UnstyledLink","UnstyledLink$1","ActionList","ActionList$1","Button","Button$1","buttonsFrom","ButtonGroup","ButtonGroup$1","isEqual$1","Checkbox","Checkbox$1","ResourceListContext","SELECT_ALL_ITEMS","styles","getUniqueCheckboxID","getUniqueOverlayID","BaseResourceItem","args","state","actionsMenuVisible","focused","focusedInner","selected","isSelected","props","id","context","selectedItems","node","checkboxId","overlayId","buttonOverlay","setNode","handleFocus","event","target","current","querySelector","setState","contains","handleBlur","relatedTarget","Element","handleMouseOut","handleLargerSelectionArea","stopPropagation","handleSelection","nativeEvent","shiftKey","value","sortOrder","onSelectionChange","handleClick","onClick","url","selectMode","ctrlKey","metaKey","anchor","window","open","click","handleKeyUp","noop","key","handleActionsClick","handleCloseRequest","nextProps","nextState","restNextContext","restNextProps","_this$props","restContext","restProps","nextSelectMode","children","external","media","shortcutActions","ariaControls","ariaExpanded","persistActions","accessibilityLabel","name","selectable","loading","resourceName","i18n","verticalAlignment","dataHref","ownedMarkup","handleMarkup","mediaMarkup","createElement","className","Media","checkboxAccessibilityLabel","translate","Handle","CheckboxWrapper","onChange","label","labelHidden","checked","disabled","Owned","OwnedNoMedia","ResourceItem","listItemClassName","ListItem","actionsMarkup","disclosureMarkup","Actions","plain","disclosureAccessibilityLabel","Disclosure","activator","icon","onClose","active","items","segmented","size","content","Content","containerClassName","Container","containerMarkup","tabIndex","ariaLabel","itemName","singular","accessibleMarkup","Link","ref","ItemWrapper","onFocus","onBlur","onKeyUp","onMouseOut","prevState","Boolean","Array","isArray","includes","Object","assign"],"mappings":"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","sourcesContent":["import React$1, { useContext, Component, createRef } from 'react';\nimport { objectWithoutProperties as _objectWithoutProperties } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { globalIdGeneratorFactory } from '../../utilities/unique-id/unique-id-factory.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { HorizontalDotsMinor } from '@shopify/polaris-icons';\nimport { Popover as Popover$1 } from '../Popover/Popover.js';\nimport { UnstyledLink as UnstyledLink$1 } from '../UnstyledLink/UnstyledLink.js';\nimport { ActionList as ActionList$1 } from '../ActionList/ActionList.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { buttonsFrom } from '../Button/utils.js';\nimport { ButtonGroup as ButtonGroup$1 } from '../ButtonGroup/ButtonGroup.js';\nimport isEqual$1 from 'lodash/isEqual';\nimport { Checkbox as Checkbox$1 } from '../Checkbox/Checkbox.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport styles from './ResourceItem.scss.js';\n\nconst getUniqueCheckboxID = globalIdGeneratorFactory('ResourceListItemCheckbox');\nconst getUniqueOverlayID = globalIdGeneratorFactory('ResourceListItemOverlay');\n\nclass BaseResourceItem extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      actionsMenuVisible: false,\n      focused: false,\n      focusedInner: false,\n      selected: isSelected(this.props.id, this.props.context.selectedItems)\n    };\n    this.node = null;\n    this.checkboxId = getUniqueCheckboxID();\n    this.overlayId = getUniqueOverlayID();\n    this.buttonOverlay = /*#__PURE__*/createRef();\n\n    this.setNode = node => {\n      this.node = node;\n    };\n\n    this.handleFocus = event => {\n      if (event.target === this.buttonOverlay.current || this.node && event.target === this.node.querySelector(`#${this.overlayId}`)) {\n        this.setState({\n          focused: true,\n          focusedInner: false\n        });\n      } else if (this.node && this.node.contains(event.target)) {\n        this.setState({\n          focused: true,\n          focusedInner: true\n        });\n      }\n    };\n\n    this.handleBlur = ({\n      relatedTarget\n    }) => {\n      if (this.node && relatedTarget instanceof Element && this.node.contains(relatedTarget)) {\n        return;\n      }\n\n      this.setState({\n        focused: false,\n        focusedInner: false\n      });\n    };\n\n    this.handleMouseOut = () => {\n      this.state.focused && this.setState({\n        focused: false,\n        focusedInner: false\n      });\n    };\n\n    this.handleLargerSelectionArea = event => {\n      stopPropagation(event);\n      this.handleSelection(!this.state.selected, event.nativeEvent.shiftKey);\n    };\n\n    this.handleSelection = (value, shiftKey) => {\n      const {\n        id,\n        sortOrder,\n        context: {\n          onSelectionChange\n        }\n      } = this.props;\n\n      if (id == null || onSelectionChange == null) {\n        return;\n      }\n\n      this.setState({\n        focused: value,\n        focusedInner: value\n      });\n      onSelectionChange(value, id, sortOrder, shiftKey);\n    };\n\n    this.handleClick = event => {\n      stopPropagation(event);\n      const {\n        id,\n        onClick,\n        url,\n        context: {\n          selectMode\n        }\n      } = this.props;\n      const {\n        ctrlKey,\n        metaKey\n      } = event.nativeEvent;\n      const anchor = this.node && this.node.querySelector('a');\n\n      if (selectMode) {\n        this.handleLargerSelectionArea(event);\n        return;\n      }\n\n      if (anchor === event.target) {\n        return;\n      }\n\n      if (onClick) {\n        onClick(id);\n      }\n\n      if (url && (ctrlKey || metaKey)) {\n        window.open(url, '_blank');\n        return;\n      }\n\n      if (url && anchor) {\n        anchor.click();\n      }\n    };\n\n    this.handleKeyUp = event => {\n      const {\n        onClick = noop,\n        context: {\n          selectMode\n        }\n      } = this.props;\n      const {\n        key\n      } = event;\n\n      if (key === 'Enter' && this.props.url && !selectMode) {\n        onClick();\n      }\n    };\n\n    this.handleActionsClick = () => {\n      this.setState(({\n        actionsMenuVisible\n      }) => ({\n        actionsMenuVisible: !actionsMenuVisible\n      }));\n    };\n\n    this.handleCloseRequest = () => {\n      this.setState({\n        actionsMenuVisible: false\n      });\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const selected = isSelected(nextProps.id, nextProps.context.selectedItems);\n\n    if (prevState.selected === selected) {\n      return null;\n    }\n\n    return {\n      selected\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const restNextContext = _objectWithoutProperties(nextProps.context, [\"selectedItems\"]),\n          restNextProps = _objectWithoutProperties(nextProps, [\"children\", \"context\"]);\n\n    const _this$props = this.props,\n          restContext = _objectWithoutProperties(_this$props.context, [\"selectedItems\"]),\n          restProps = _objectWithoutProperties(_this$props, [\"children\", \"context\"]);\n\n    const nextSelectMode = nextProps.context.selectMode;\n    return !isEqual$1(this.state, nextState) || this.props.context.selectMode !== nextSelectMode || !nextProps.context.selectMode && (!isEqual$1(restProps, restNextProps) || !isEqual$1(restContext, restNextContext));\n  }\n\n  render() {\n    const {\n      children,\n      url,\n      external,\n      media,\n      shortcutActions,\n      ariaControls,\n      ariaExpanded,\n      persistActions = false,\n      accessibilityLabel,\n      name,\n      context: {\n        selectable,\n        selectMode,\n        loading,\n        resourceName\n      },\n      i18n,\n      verticalAlignment,\n      dataHref\n    } = this.props;\n    const {\n      actionsMenuVisible,\n      focused,\n      focusedInner,\n      selected\n    } = this.state;\n    let ownedMarkup = null;\n    let handleMarkup = null;\n    const mediaMarkup = media ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Media\n    }, media) : null;\n\n    if (selectable) {\n      const checkboxAccessibilityLabel = name || accessibilityLabel || i18n.translate('Polaris.Common.checkbox');\n      handleMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Handle,\n        onClick: this.handleLargerSelectionArea\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        onClick: stopPropagation,\n        className: styles.CheckboxWrapper\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        onChange: this.handleLargerSelectionArea\n      }, /*#__PURE__*/React$1.createElement(Checkbox$1, {\n        id: this.checkboxId,\n        label: checkboxAccessibilityLabel,\n        labelHidden: true,\n        checked: selected,\n        disabled: loading\n      }))));\n    }\n\n    if (media || selectable) {\n      ownedMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: classNames(styles.Owned, !mediaMarkup && styles.OwnedNoMedia)\n      }, handleMarkup, mediaMarkup);\n    }\n\n    const className = classNames(styles.ResourceItem, focused && styles.focused, selectable && styles.selectable, selected && styles.selected, selectMode && styles.selectMode, persistActions && styles.persistActions, focusedInner && styles.focusedInner);\n    const listItemClassName = classNames(styles.ListItem, focused && !focusedInner && styles.focused);\n    let actionsMarkup = null;\n    let disclosureMarkup = null;\n\n    if (shortcutActions && !loading) {\n      if (persistActions) {\n        actionsMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n          className: styles.Actions,\n          onClick: stopPropagation\n        }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, null, buttonsFrom(shortcutActions, {\n          plain: true\n        })));\n        const disclosureAccessibilityLabel = name ? i18n.translate('Polaris.ResourceList.Item.actionsDropdownLabel', {\n          accessibilityLabel: name\n        }) : i18n.translate('Polaris.ResourceList.Item.actionsDropdown');\n        disclosureMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n          className: styles.Disclosure,\n          onClick: stopPropagation\n        }, /*#__PURE__*/React$1.createElement(Popover$1, {\n          activator: /*#__PURE__*/React$1.createElement(Button$1, {\n            accessibilityLabel: disclosureAccessibilityLabel,\n            onClick: this.handleActionsClick,\n            plain: true,\n            icon: HorizontalDotsMinor\n          }),\n          onClose: this.handleCloseRequest,\n          active: actionsMenuVisible\n        }, /*#__PURE__*/React$1.createElement(ActionList$1, {\n          items: shortcutActions\n        })));\n      } else {\n        actionsMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n          className: styles.Actions,\n          onClick: stopPropagation\n        }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, {\n          segmented: true\n        }, buttonsFrom(shortcutActions, {\n          size: 'slim'\n        })));\n      }\n    }\n\n    const content = children ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Content\n    }, children) : null;\n    const containerClassName = classNames(styles.Container, verticalAlignment && styles[variationName('alignment', verticalAlignment)]);\n    const containerMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: containerClassName,\n      id: this.props.id\n    }, ownedMarkup, content, actionsMarkup, disclosureMarkup);\n    const tabIndex = loading ? -1 : 0;\n    const ariaLabel = accessibilityLabel || i18n.translate('Polaris.ResourceList.Item.viewItem', {\n      itemName: name || resourceName && resourceName.singular || ''\n    });\n    const accessibleMarkup = url ? /*#__PURE__*/React$1.createElement(UnstyledLink$1, {\n      \"aria-describedby\": this.props.id,\n      \"aria-label\": ariaLabel,\n      className: styles.Link,\n      url: url,\n      external: external,\n      tabIndex: tabIndex,\n      id: this.overlayId\n    }) : /*#__PURE__*/React$1.createElement(\"button\", {\n      className: styles.Button,\n      \"aria-label\": ariaLabel,\n      \"aria-controls\": ariaControls,\n      \"aria-expanded\": ariaExpanded,\n      onClick: this.handleClick,\n      tabIndex: tabIndex,\n      ref: this.buttonOverlay\n    });\n    return /*#__PURE__*/React$1.createElement(\"li\", {\n      className: listItemClassName,\n      \"data-href\": dataHref\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.ItemWrapper\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: this.setNode,\n      className: className,\n      onClick: this.handleClick,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onKeyUp: this.handleKeyUp,\n      onMouseOut: this.handleMouseOut,\n      \"data-href\": url\n    }, accessibleMarkup, containerMarkup)));\n  }\n\n}\n\nfunction noop() {}\n\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nfunction isSelected(id, selectedItems) {\n  return Boolean(selectedItems && (Array.isArray(selectedItems) && selectedItems.includes(id) || selectedItems === SELECT_ALL_ITEMS));\n}\n\nfunction ResourceItem(props) {\n  return /*#__PURE__*/React$1.createElement(BaseResourceItem, Object.assign({}, props, {\n    context: useContext(ResourceListContext),\n    i18n: useI18n()\n  }));\n}\n\nexport { ResourceItem };\n"]},"metadata":{},"sourceType":"module"}