{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _toConsumableArray from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React$1, { useState, useReducer, useRef, useCallback, useEffect, Children } from 'react';\nimport debounce$1 from 'lodash/debounce';\nimport { EventListener as EventListener$1 } from '../EventListener/EventListener.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames } from '../../utilities/css.js';\nimport { EnableSelectionMinor } from '@shopify/polaris-icons';\nimport { Spinner as Spinner$1 } from '../Spinner/Spinner.js';\nimport { isElementOfType } from '../../utilities/components.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport { CheckableButton as CheckableButton$1 } from '../CheckableButton/CheckableButton.js';\nimport { BulkActions as BulkActions$1 } from '../BulkActions/BulkActions.js';\nimport { EmptySearchResult as EmptySearchResult$1 } from '../EmptySearchResult/EmptySearchResult.js';\nimport { Sticky as Sticky$1 } from '../Sticky/Sticky.js';\nimport { ResourceItem as ResourceItem$1 } from '../ResourceItem/ResourceItem.js';\nimport { Select as Select$1 } from '../Select/Select.js';\nimport { useLazyRef as useLazyRef$1 } from '../../utilities/use-lazy-ref.js';\nimport styles from './ResourceList.scss.js';\nvar SMALL_SCREEN_WIDTH = 458;\nvar SMALL_SPINNER_HEIGHT = 28;\nvar LARGE_SPINNER_HEIGHT = 45;\n\nfunction getAllItemsOnPage(items, idForItem) {\n  return items.map(function (item, index) {\n    return idForItem(item, index);\n  });\n}\n\nvar isSmallScreen = function isSmallScreen() {\n  return typeof window === 'undefined' ? false : window.innerWidth < SMALL_SCREEN_WIDTH;\n};\n\nfunction defaultIdForItem(item, index) {\n  return Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index.toString();\n}\n\nvar ResourceList = function ResourceList(_ref2) {\n  var items = _ref2.items,\n      filterControl = _ref2.filterControl,\n      emptyState = _ref2.emptyState,\n      emptySearchState = _ref2.emptySearchState,\n      resourceNameProp = _ref2.resourceName,\n      promotedBulkActions = _ref2.promotedBulkActions,\n      bulkActions = _ref2.bulkActions,\n      _ref2$selectedItems = _ref2.selectedItems,\n      selectedItems = _ref2$selectedItems === void 0 ? [] : _ref2$selectedItems,\n      isFiltered = _ref2.isFiltered,\n      selectable = _ref2.selectable,\n      hasMoreItems = _ref2.hasMoreItems,\n      loading = _ref2.loading,\n      showHeader = _ref2.showHeader,\n      totalItemsCount = _ref2.totalItemsCount,\n      sortValue = _ref2.sortValue,\n      sortOptions = _ref2.sortOptions,\n      alternateTool = _ref2.alternateTool,\n      onSortChange = _ref2.onSortChange,\n      onSelectionChange = _ref2.onSelectionChange,\n      renderItem = _ref2.renderItem,\n      _ref2$idForItem = _ref2.idForItem,\n      idForItem = _ref2$idForItem === void 0 ? defaultIdForItem : _ref2$idForItem,\n      resolveItemId = _ref2.resolveItemId;\n  var i18n = useI18n();\n\n  var _useState = useState(Boolean(selectedItems && selectedItems.length > 0)),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectMode = _useState2[0],\n      setSelectMode = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loadingPosition = _useState4[0],\n      setLoadingPositionState = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lastSelected = _useState6[0],\n      setLastSelected = _useState6[1];\n\n  var _useState7 = useState(isSmallScreen()),\n      _useState8 = _slicedToArray(_useState7, 2),\n      smallScreen = _useState8[0],\n      setSmallScreen = _useState8[1];\n\n  var forceUpdate = useReducer(function () {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    return x + 1;\n  }, 0)[1];\n\n  var _useState9 = useState(new Map()),\n      _useState10 = _slicedToArray(_useState9, 2),\n      checkableButtons = _useState10[0],\n      setCheckableButtons = _useState10[1];\n\n  var defaultResourceName = useLazyRef$1(function () {\n    return {\n      singular: i18n.translate('Polaris.ResourceList.defaultItemSingular'),\n      plural: i18n.translate('Polaris.ResourceList.defaultItemPlural')\n    };\n  });\n  var listRef = useRef(null);\n\n  var handleSelectMode = function handleSelectMode(selectMode) {\n    setSelectMode(selectMode);\n\n    if (!selectMode && onSelectionChange) {\n      onSelectionChange([]);\n    }\n  };\n\n  var handleResize = debounce$1(function () {\n    var newSmallScreen = isSmallScreen();\n\n    if (selectedItems && selectedItems.length === 0 && selectMode && !newSmallScreen) {\n      handleSelectMode(false);\n    }\n\n    if (smallScreen !== newSmallScreen) {\n      setSmallScreen(newSmallScreen);\n    }\n  }, 50, {\n    leading: true,\n    trailing: true,\n    maxWait: 50\n  });\n  var isSelectable = Boolean(promotedBulkActions && promotedBulkActions.length > 0 || bulkActions && bulkActions.length > 0 || selectable);\n\n  var bulkSelectState = function bulkSelectState() {\n    var selectState = 'indeterminate';\n\n    if (!selectedItems || Array.isArray(selectedItems) && selectedItems.length === 0) {\n      selectState = false;\n    } else if (selectedItems === SELECT_ALL_ITEMS || Array.isArray(selectedItems) && selectedItems.length === items.length) {\n      selectState = true;\n    }\n\n    return selectState;\n  };\n\n  var resourceName = resourceNameProp ? resourceNameProp : defaultResourceName.current;\n\n  var headerTitle = function headerTitle() {\n    var itemsCount = items.length;\n    var resource = !loading && (!totalItemsCount && itemsCount === 1 || totalItemsCount === 1) ? resourceName.singular : resourceName.plural;\n\n    if (loading) {\n      return i18n.translate('Polaris.ResourceList.loading', {\n        resource: resource\n      });\n    } else if (totalItemsCount) {\n      return i18n.translate('Polaris.ResourceList.showingTotalCount', {\n        itemsCount: itemsCount,\n        totalItemsCount: totalItemsCount,\n        resource: resource\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.showing', {\n        itemsCount: itemsCount,\n        resource: resource\n      });\n    }\n  };\n\n  var bulkActionsLabel = function bulkActionsLabel() {\n    var selectedItemsCount = selectedItems === SELECT_ALL_ITEMS ? \"\".concat(items.length, \"+\") : selectedItems.length;\n    return i18n.translate('Polaris.ResourceList.selected', {\n      selectedItemsCount: selectedItemsCount\n    });\n  };\n\n  var bulkActionsAccessibilityLabel = function bulkActionsAccessibilityLabel() {\n    var selectedItemsCount = selectedItems.length;\n    var totalItemsCount = items.length;\n    var allSelected = selectedItemsCount === totalItemsCount;\n\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  };\n\n  var paginatedSelectAllText = function paginatedSelectAllText() {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n\n    if (selectedItems === SELECT_ALL_ITEMS) {\n      return i18n.translate(isFiltered ? 'Polaris.ResourceList.allFilteredItemsSelected' : 'Polaris.ResourceList.allItemsSelected', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  };\n\n  var paginatedSelectAllAction = function paginatedSelectAllAction() {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n\n    var actionText = selectedItems === SELECT_ALL_ITEMS ? i18n.translate('Polaris.Common.undo') : i18n.translate(isFiltered ? 'Polaris.ResourceList.selectAllFilteredItems' : 'Polaris.ResourceList.selectAllItems', {\n      itemsLength: items.length,\n      resourceNamePlural: resourceName.plural\n    });\n    return {\n      content: actionText,\n      onAction: handleSelectAllItemsInStore\n    };\n  };\n\n  var emptySearchResultText = {\n    title: i18n.translate('Polaris.ResourceList.emptySearchResultTitle', {\n      resourceNamePlural: resourceName.plural\n    }),\n    description: i18n.translate('Polaris.ResourceList.emptySearchResultDescription')\n  };\n\n  var handleSelectAllItemsInStore = function handleSelectAllItemsInStore() {\n    var newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : SELECT_ALL_ITEMS;\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n\n  var setLoadingPosition = useCallback(function () {\n    if (listRef.current != null) {\n      if (typeof window === 'undefined') {\n        return;\n      }\n\n      var overlay = listRef.current.getBoundingClientRect();\n      var viewportHeight = Math.max(document.documentElement ? document.documentElement.clientHeight : 0, window.innerHeight || 0);\n      var overflow = viewportHeight - overlay.height;\n      var spinnerHeight = items.length === 1 ? SMALL_SPINNER_HEIGHT : LARGE_SPINNER_HEIGHT;\n      var spinnerPosition = overflow > 0 ? (overlay.height - spinnerHeight) / 2 : (viewportHeight - overlay.top - spinnerHeight) / 2;\n      setLoadingPositionState(spinnerPosition);\n    }\n  }, [listRef, items.length]);\n  var itemsExist = items.length > 0;\n  useEffect(function () {\n    if (loading) {\n      setLoadingPosition();\n    }\n  }, [loading, setLoadingPosition]);\n  useEffect(function () {\n    if (selectedItems && selectedItems.length > 0 && !selectMode) {\n      setSelectMode(true);\n    }\n\n    if ((!selectedItems || selectedItems.length === 0) && !isSmallScreen()) {\n      setSelectMode(false);\n    }\n  }, [selectedItems, selectMode]);\n  useEffect(function () {\n    forceUpdate();\n  }, [forceUpdate, items]);\n\n  var renderItemWithId = function renderItemWithId(item, index) {\n    var id = idForItem(item, index);\n    var itemContent = renderItem(item, id, index);\n\n    if (process.env.NODE_ENV === 'development' && !isElementOfType(itemContent, ResourceItem$1)) {\n      // eslint-disable-next-line no-console\n      console.warn('<ResourceList /> renderItem function should return a <ResourceItem />.');\n    }\n\n    return itemContent;\n  };\n\n  var handleMultiSelectionChange = function handleMultiSelectionChange(lastSelected, currentSelected, resolveItemId) {\n    var min = Math.min(lastSelected, currentSelected);\n    var max = Math.max(lastSelected, currentSelected);\n    return items.slice(min, max + 1).map(resolveItemId);\n  };\n\n  var handleCheckableButtonRegistration = function handleCheckableButtonRegistration(key, button) {\n    if (!checkableButtons.get(key)) {\n      setCheckableButtons(new Map(checkableButtons).set(key, button));\n    }\n  };\n\n  var handleSelectionChange = function handleSelectionChange(selected, id, sortOrder, shiftKey) {\n    if (selectedItems == null || onSelectionChange == null) {\n      return;\n    }\n\n    var newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : _toConsumableArray(selectedItems);\n\n    if (sortOrder !== undefined) {\n      setLastSelected(sortOrder);\n    }\n\n    var lastSelectedFromState = lastSelected;\n    var selectedIds = [id];\n\n    if (shiftKey && lastSelectedFromState != null && sortOrder !== undefined && resolveItemId) {\n      selectedIds = handleMultiSelectionChange(lastSelectedFromState, sortOrder, resolveItemId);\n    }\n\n    newlySelectedItems = _toConsumableArray(new Set([].concat(_toConsumableArray(newlySelectedItems), _toConsumableArray(selectedIds))));\n\n    if (!selected) {\n      var _iterator = _createForOfIteratorHelper(selectedIds),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var selectedId = _step.value;\n          newlySelectedItems.splice(newlySelectedItems.indexOf(selectedId), 1);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    if (newlySelectedItems.length === 0 && !isSmallScreen()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n\n  var handleToggleAll = function handleToggleAll() {\n    var newlySelectedItems;\n\n    if (Array.isArray(selectedItems) && selectedItems.length === items.length || selectedItems === SELECT_ALL_ITEMS) {\n      newlySelectedItems = [];\n    } else {\n      newlySelectedItems = items.map(function (item, index) {\n        return idForItem(item, index);\n      });\n    }\n\n    if (newlySelectedItems.length === 0 && !isSmallScreen()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n\n    var checkbox;\n\n    if (isSmallScreen()) {\n      checkbox = checkableButtons.get('bulkSm');\n    } else if (newlySelectedItems.length === 0) {\n      checkbox = checkableButtons.get('plain');\n    } else {\n      checkbox = checkableButtons.get('bulkLg');\n    }\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    } // setTimeout ensures execution after the Transition on BulkActions\n\n\n    setTimeout(function () {\n      checkbox && checkbox.focus();\n    }, 0);\n  };\n\n  var bulkActionsMarkup = isSelectable ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.BulkActionsWrapper\n  }, /*#__PURE__*/React$1.createElement(BulkActions$1, {\n    label: bulkActionsLabel(),\n    accessibilityLabel: bulkActionsAccessibilityLabel(),\n    selected: bulkSelectState(),\n    onToggleAll: handleToggleAll,\n    selectMode: selectMode,\n    onSelectModeToggle: handleSelectMode,\n    promotedActions: promotedBulkActions,\n    paginatedSelectAllAction: paginatedSelectAllAction(),\n    paginatedSelectAllText: paginatedSelectAllText(),\n    actions: bulkActions,\n    disabled: loading,\n    smallScreen: smallScreen\n  })) : null;\n  var filterControlMarkup = filterControl ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.FiltersWrapper\n  }, filterControl) : null;\n  var sortingSelectMarkup = sortOptions && sortOptions.length > 0 && !alternateTool ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.SortWrapper\n  }, /*#__PURE__*/React$1.createElement(Select$1, {\n    label: i18n.translate('Polaris.ResourceList.sortingLabel'),\n    labelInline: !smallScreen,\n    labelHidden: smallScreen,\n    options: sortOptions,\n    onChange: onSortChange,\n    value: sortValue,\n    disabled: selectMode\n  })) : null;\n  var alternateToolMarkup = alternateTool && !sortingSelectMarkup ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.AlternateToolWrapper\n  }, alternateTool) : null;\n  var headerTitleMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.HeaderTitleWrapper\n  }, headerTitle());\n  var selectButtonMarkup = isSelectable ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.SelectButtonWrapper\n  }, /*#__PURE__*/React$1.createElement(Button$1, {\n    disabled: selectMode,\n    icon: EnableSelectionMinor,\n    onClick: function onClick() {\n      return handleSelectMode(true);\n    }\n  }, i18n.translate('Polaris.ResourceList.selectButtonText'))) : null;\n  var checkableButtonMarkup = isSelectable ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.CheckableButtonWrapper\n  }, /*#__PURE__*/React$1.createElement(CheckableButton$1, {\n    accessibilityLabel: bulkActionsAccessibilityLabel(),\n    label: headerTitle(),\n    onToggleAll: handleToggleAll,\n    plain: true,\n    disabled: loading\n  })) : null;\n  var needsHeader = isSelectable || sortOptions && sortOptions.length > 0 || alternateTool;\n  var headerWrapperOverlay = loading ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles['HeaderWrapper-overlay']\n  }) : null;\n  var showEmptyState = emptyState && !itemsExist && !loading;\n  var showEmptySearchState = !showEmptyState && filterControl && !itemsExist && !loading;\n\n  var _ref = /*#__PURE__*/React$1.createElement(EventListener$1, {\n    event: \"resize\",\n    handler: handleResize\n  });\n\n  var headerMarkup = !showEmptyState && showHeader !== false && !showEmptySearchState && (showHeader || needsHeader) && listRef.current && /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.HeaderOuterWrapper\n  }, /*#__PURE__*/React$1.createElement(Sticky$1, {\n    boundingElement: listRef.current\n  }, function (isSticky) {\n    var headerClassName = classNames(styles.HeaderWrapper, sortOptions && sortOptions.length > 0 && !alternateTool && styles['HeaderWrapper-hasSort'], alternateTool && styles['HeaderWrapper-hasAlternateTool'], isSelectable && styles['HeaderWrapper-hasSelect'], loading && styles['HeaderWrapper-disabled'], isSelectable && selectMode && styles['HeaderWrapper-inSelectMode'], isSticky && styles['HeaderWrapper-isSticky']);\n    return /*#__PURE__*/React$1.createElement(\"div\", {\n      className: headerClassName\n    }, _ref, headerWrapperOverlay, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.HeaderContentWrapper\n    }, headerTitleMarkup, checkableButtonMarkup, alternateToolMarkup, sortingSelectMarkup, selectButtonMarkup), bulkActionsMarkup);\n  }));\n  var emptySearchStateMarkup = showEmptySearchState ? emptySearchState || /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.EmptySearchResultWrapper\n  }, /*#__PURE__*/React$1.createElement(EmptySearchResult$1, Object.assign({}, emptySearchResultText, {\n    withIllustration: true\n  }))) : null;\n  var emptyStateMarkup = showEmptyState ? emptyState : null;\n  var defaultTopPadding = 8;\n  var topPadding = loadingPosition > 0 ? loadingPosition : defaultTopPadding;\n  var spinnerStyle = {\n    paddingTop: \"\".concat(topPadding, \"px\")\n  };\n  var spinnerSize = items.length < 2 ? 'small' : 'large';\n  var loadingOverlay = loading ? /*#__PURE__*/React$1.createElement(React$1.Fragment, null, /*#__PURE__*/React$1.createElement(\"li\", {\n    className: styles.SpinnerContainer,\n    style: spinnerStyle\n  }, /*#__PURE__*/React$1.createElement(Spinner$1, {\n    size: spinnerSize,\n    accessibilityLabel: \"Items are loading\"\n  })), /*#__PURE__*/React$1.createElement(\"li\", {\n    className: styles.LoadingOverlay\n  })) : null;\n  var className = classNames(styles.ItemWrapper, loading && styles['ItemWrapper-isLoading']);\n  var loadingWithoutItemsMarkup = loading && !itemsExist ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className,\n    tabIndex: -1\n  }, loadingOverlay) : null;\n  var resourceListClassName = classNames(styles.ResourceList, loading && styles.disabledPointerEvents, selectMode && styles.disableTextSelection);\n  var listMarkup = itemsExist ? /*#__PURE__*/React$1.createElement(\"ul\", {\n    className: resourceListClassName,\n    ref: listRef,\n    \"aria-live\": \"polite\",\n    \"aria-busy\": loading\n  }, loadingOverlay, Children.toArray(items.map(renderItemWithId))) : null;\n  var context = {\n    selectable: isSelectable,\n    selectedItems: selectedItems,\n    selectMode: selectMode,\n    resourceName: resourceName,\n    loading: loading,\n    onSelectionChange: handleSelectionChange,\n    registerCheckableButtons: handleCheckableButtonRegistration\n  };\n  return /*#__PURE__*/React$1.createElement(ResourceListContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ResourceListWrapper\n  }, filterControlMarkup, headerMarkup, listMarkup, emptySearchStateMarkup, emptyStateMarkup, loadingWithoutItemsMarkup));\n};\n\nResourceList.Item = ResourceItem$1;\nexport { ResourceList };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/ResourceList/ResourceList.js"],"names":["React$1","useState","useReducer","useRef","useCallback","useEffect","Children","debounce$1","EventListener","EventListener$1","useI18n","classNames","EnableSelectionMinor","Spinner","Spinner$1","isElementOfType","Button","Button$1","ResourceListContext","SELECT_ALL_ITEMS","CheckableButton","CheckableButton$1","BulkActions","BulkActions$1","EmptySearchResult","EmptySearchResult$1","Sticky","Sticky$1","ResourceItem","ResourceItem$1","Select","Select$1","useLazyRef","useLazyRef$1","styles","SMALL_SCREEN_WIDTH","SMALL_SPINNER_HEIGHT","LARGE_SPINNER_HEIGHT","getAllItemsOnPage","items","idForItem","map","item","index","isSmallScreen","window","innerWidth","defaultIdForItem","Object","prototype","hasOwnProperty","call","id","toString","ResourceList","filterControl","emptyState","emptySearchState","resourceNameProp","resourceName","promotedBulkActions","bulkActions","selectedItems","isFiltered","selectable","hasMoreItems","loading","showHeader","totalItemsCount","sortValue","sortOptions","alternateTool","onSortChange","onSelectionChange","renderItem","resolveItemId","i18n","Boolean","length","selectMode","setSelectMode","loadingPosition","setLoadingPositionState","lastSelected","setLastSelected","smallScreen","setSmallScreen","forceUpdate","x","Map","checkableButtons","setCheckableButtons","defaultResourceName","singular","translate","plural","listRef","handleSelectMode","handleResize","newSmallScreen","leading","trailing","maxWait","isSelectable","bulkSelectState","selectState","Array","isArray","current","headerTitle","itemsCount","resource","bulkActionsLabel","selectedItemsCount","bulkActionsAccessibilityLabel","allSelected","resourceNameSingular","itemsLength","resourceNamePlural","paginatedSelectAllText","paginatedSelectAllAction","actionText","content","onAction","handleSelectAllItemsInStore","emptySearchResultText","title","description","newlySelectedItems","setLoadingPosition","overlay","getBoundingClientRect","viewportHeight","Math","max","document","documentElement","clientHeight","innerHeight","overflow","height","spinnerHeight","spinnerPosition","top","itemsExist","renderItemWithId","itemContent","process","env","NODE_ENV","console","warn","handleMultiSelectionChange","currentSelected","min","slice","handleCheckableButtonRegistration","key","button","get","set","handleSelectionChange","selected","sortOrder","shiftKey","undefined","lastSelectedFromState","selectedIds","Set","selectedId","splice","indexOf","handleToggleAll","checkbox","setTimeout","focus","bulkActionsMarkup","createElement","className","BulkActionsWrapper","label","accessibilityLabel","onToggleAll","onSelectModeToggle","promotedActions","actions","disabled","filterControlMarkup","FiltersWrapper","sortingSelectMarkup","SortWrapper","labelInline","labelHidden","options","onChange","value","alternateToolMarkup","AlternateToolWrapper","headerTitleMarkup","HeaderTitleWrapper","selectButtonMarkup","SelectButtonWrapper","icon","onClick","checkableButtonMarkup","CheckableButtonWrapper","plain","needsHeader","headerWrapperOverlay","showEmptyState","showEmptySearchState","_ref","event","handler","headerMarkup","HeaderOuterWrapper","boundingElement","isSticky","headerClassName","HeaderWrapper","HeaderContentWrapper","emptySearchStateMarkup","EmptySearchResultWrapper","assign","withIllustration","emptyStateMarkup","defaultTopPadding","topPadding","spinnerStyle","paddingTop","spinnerSize","loadingOverlay","Fragment","SpinnerContainer","style","size","LoadingOverlay","ItemWrapper","loadingWithoutItemsMarkup","tabIndex","resourceListClassName","disabledPointerEvents","disableTextSelection","listMarkup","ref","toArray","context","registerCheckableButtons","Provider","ResourceListWrapper","Item"],"mappings":"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","sourcesContent":["import React$1, { useState, useReducer, useRef, useCallback, useEffect, Children } from 'react';\nimport debounce$1 from 'lodash/debounce';\nimport { EventListener as EventListener$1 } from '../EventListener/EventListener.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames } from '../../utilities/css.js';\nimport { EnableSelectionMinor } from '@shopify/polaris-icons';\nimport { Spinner as Spinner$1 } from '../Spinner/Spinner.js';\nimport { isElementOfType } from '../../utilities/components.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport { CheckableButton as CheckableButton$1 } from '../CheckableButton/CheckableButton.js';\nimport { BulkActions as BulkActions$1 } from '../BulkActions/BulkActions.js';\nimport { EmptySearchResult as EmptySearchResult$1 } from '../EmptySearchResult/EmptySearchResult.js';\nimport { Sticky as Sticky$1 } from '../Sticky/Sticky.js';\nimport { ResourceItem as ResourceItem$1 } from '../ResourceItem/ResourceItem.js';\nimport { Select as Select$1 } from '../Select/Select.js';\nimport { useLazyRef as useLazyRef$1 } from '../../utilities/use-lazy-ref.js';\nimport styles from './ResourceList.scss.js';\n\nconst SMALL_SCREEN_WIDTH = 458;\nconst SMALL_SPINNER_HEIGHT = 28;\nconst LARGE_SPINNER_HEIGHT = 45;\n\nfunction getAllItemsOnPage(items, idForItem) {\n  return items.map((item, index) => {\n    return idForItem(item, index);\n  });\n}\n\nconst isSmallScreen = () => {\n  return typeof window === 'undefined' ? false : window.innerWidth < SMALL_SCREEN_WIDTH;\n};\n\nfunction defaultIdForItem(item, index) {\n  return Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index.toString();\n}\n\nconst ResourceList = function ResourceList({\n  items,\n  filterControl,\n  emptyState,\n  emptySearchState,\n  resourceName: resourceNameProp,\n  promotedBulkActions,\n  bulkActions,\n  selectedItems = [],\n  isFiltered,\n  selectable,\n  hasMoreItems,\n  loading,\n  showHeader,\n  totalItemsCount,\n  sortValue,\n  sortOptions,\n  alternateTool,\n  onSortChange,\n  onSelectionChange,\n  renderItem,\n  idForItem = defaultIdForItem,\n  resolveItemId\n}) {\n  const i18n = useI18n();\n  const [selectMode, setSelectMode] = useState(Boolean(selectedItems && selectedItems.length > 0));\n  const [loadingPosition, setLoadingPositionState] = useState(0);\n  const [lastSelected, setLastSelected] = useState();\n  const [smallScreen, setSmallScreen] = useState(isSmallScreen());\n  const forceUpdate = useReducer((x = 0) => x + 1, 0)[1];\n  const [checkableButtons, setCheckableButtons] = useState(new Map());\n  const defaultResourceName = useLazyRef$1(() => ({\n    singular: i18n.translate('Polaris.ResourceList.defaultItemSingular'),\n    plural: i18n.translate('Polaris.ResourceList.defaultItemPlural')\n  }));\n  const listRef = useRef(null);\n\n  const handleSelectMode = selectMode => {\n    setSelectMode(selectMode);\n\n    if (!selectMode && onSelectionChange) {\n      onSelectionChange([]);\n    }\n  };\n\n  const handleResize = debounce$1(() => {\n    const newSmallScreen = isSmallScreen();\n\n    if (selectedItems && selectedItems.length === 0 && selectMode && !newSmallScreen) {\n      handleSelectMode(false);\n    }\n\n    if (smallScreen !== newSmallScreen) {\n      setSmallScreen(newSmallScreen);\n    }\n  }, 50, {\n    leading: true,\n    trailing: true,\n    maxWait: 50\n  });\n  const isSelectable = Boolean(promotedBulkActions && promotedBulkActions.length > 0 || bulkActions && bulkActions.length > 0 || selectable);\n\n  const bulkSelectState = () => {\n    let selectState = 'indeterminate';\n\n    if (!selectedItems || Array.isArray(selectedItems) && selectedItems.length === 0) {\n      selectState = false;\n    } else if (selectedItems === SELECT_ALL_ITEMS || Array.isArray(selectedItems) && selectedItems.length === items.length) {\n      selectState = true;\n    }\n\n    return selectState;\n  };\n\n  const resourceName = resourceNameProp ? resourceNameProp : defaultResourceName.current;\n\n  const headerTitle = () => {\n    const itemsCount = items.length;\n    const resource = !loading && (!totalItemsCount && itemsCount === 1 || totalItemsCount === 1) ? resourceName.singular : resourceName.plural;\n\n    if (loading) {\n      return i18n.translate('Polaris.ResourceList.loading', {\n        resource\n      });\n    } else if (totalItemsCount) {\n      return i18n.translate('Polaris.ResourceList.showingTotalCount', {\n        itemsCount,\n        totalItemsCount,\n        resource\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.showing', {\n        itemsCount,\n        resource\n      });\n    }\n  };\n\n  const bulkActionsLabel = () => {\n    const selectedItemsCount = selectedItems === SELECT_ALL_ITEMS ? `${items.length}+` : selectedItems.length;\n    return i18n.translate('Polaris.ResourceList.selected', {\n      selectedItemsCount\n    });\n  };\n\n  const bulkActionsAccessibilityLabel = () => {\n    const selectedItemsCount = selectedItems.length;\n    const totalItemsCount = items.length;\n    const allSelected = selectedItemsCount === totalItemsCount;\n\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  };\n\n  const paginatedSelectAllText = () => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n\n    if (selectedItems === SELECT_ALL_ITEMS) {\n      return i18n.translate(isFiltered ? 'Polaris.ResourceList.allFilteredItemsSelected' : 'Polaris.ResourceList.allItemsSelected', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  };\n\n  const paginatedSelectAllAction = () => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n\n    const actionText = selectedItems === SELECT_ALL_ITEMS ? i18n.translate('Polaris.Common.undo') : i18n.translate(isFiltered ? 'Polaris.ResourceList.selectAllFilteredItems' : 'Polaris.ResourceList.selectAllItems', {\n      itemsLength: items.length,\n      resourceNamePlural: resourceName.plural\n    });\n    return {\n      content: actionText,\n      onAction: handleSelectAllItemsInStore\n    };\n  };\n\n  const emptySearchResultText = {\n    title: i18n.translate('Polaris.ResourceList.emptySearchResultTitle', {\n      resourceNamePlural: resourceName.plural\n    }),\n    description: i18n.translate('Polaris.ResourceList.emptySearchResultDescription')\n  };\n\n  const handleSelectAllItemsInStore = () => {\n    const newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : SELECT_ALL_ITEMS;\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n\n  const setLoadingPosition = useCallback(() => {\n    if (listRef.current != null) {\n      if (typeof window === 'undefined') {\n        return;\n      }\n\n      const overlay = listRef.current.getBoundingClientRect();\n      const viewportHeight = Math.max(document.documentElement ? document.documentElement.clientHeight : 0, window.innerHeight || 0);\n      const overflow = viewportHeight - overlay.height;\n      const spinnerHeight = items.length === 1 ? SMALL_SPINNER_HEIGHT : LARGE_SPINNER_HEIGHT;\n      const spinnerPosition = overflow > 0 ? (overlay.height - spinnerHeight) / 2 : (viewportHeight - overlay.top - spinnerHeight) / 2;\n      setLoadingPositionState(spinnerPosition);\n    }\n  }, [listRef, items.length]);\n  const itemsExist = items.length > 0;\n  useEffect(() => {\n    if (loading) {\n      setLoadingPosition();\n    }\n  }, [loading, setLoadingPosition]);\n  useEffect(() => {\n    if (selectedItems && selectedItems.length > 0 && !selectMode) {\n      setSelectMode(true);\n    }\n\n    if ((!selectedItems || selectedItems.length === 0) && !isSmallScreen()) {\n      setSelectMode(false);\n    }\n  }, [selectedItems, selectMode]);\n  useEffect(() => {\n    forceUpdate();\n  }, [forceUpdate, items]);\n\n  const renderItemWithId = (item, index) => {\n    const id = idForItem(item, index);\n    const itemContent = renderItem(item, id, index);\n\n    if (process.env.NODE_ENV === 'development' && !isElementOfType(itemContent, ResourceItem$1)) {\n      // eslint-disable-next-line no-console\n      console.warn('<ResourceList /> renderItem function should return a <ResourceItem />.');\n    }\n\n    return itemContent;\n  };\n\n  const handleMultiSelectionChange = (lastSelected, currentSelected, resolveItemId) => {\n    const min = Math.min(lastSelected, currentSelected);\n    const max = Math.max(lastSelected, currentSelected);\n    return items.slice(min, max + 1).map(resolveItemId);\n  };\n\n  const handleCheckableButtonRegistration = (key, button) => {\n    if (!checkableButtons.get(key)) {\n      setCheckableButtons(new Map(checkableButtons).set(key, button));\n    }\n  };\n\n  const handleSelectionChange = (selected, id, sortOrder, shiftKey) => {\n    if (selectedItems == null || onSelectionChange == null) {\n      return;\n    }\n\n    let newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : [...selectedItems];\n\n    if (sortOrder !== undefined) {\n      setLastSelected(sortOrder);\n    }\n\n    const lastSelectedFromState = lastSelected;\n    let selectedIds = [id];\n\n    if (shiftKey && lastSelectedFromState != null && sortOrder !== undefined && resolveItemId) {\n      selectedIds = handleMultiSelectionChange(lastSelectedFromState, sortOrder, resolveItemId);\n    }\n\n    newlySelectedItems = [...new Set([...newlySelectedItems, ...selectedIds])];\n\n    if (!selected) {\n      for (const selectedId of selectedIds) {\n        newlySelectedItems.splice(newlySelectedItems.indexOf(selectedId), 1);\n      }\n    }\n\n    if (newlySelectedItems.length === 0 && !isSmallScreen()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n\n  const handleToggleAll = () => {\n    let newlySelectedItems;\n\n    if (Array.isArray(selectedItems) && selectedItems.length === items.length || selectedItems === SELECT_ALL_ITEMS) {\n      newlySelectedItems = [];\n    } else {\n      newlySelectedItems = items.map((item, index) => {\n        return idForItem(item, index);\n      });\n    }\n\n    if (newlySelectedItems.length === 0 && !isSmallScreen()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n\n    let checkbox;\n\n    if (isSmallScreen()) {\n      checkbox = checkableButtons.get('bulkSm');\n    } else if (newlySelectedItems.length === 0) {\n      checkbox = checkableButtons.get('plain');\n    } else {\n      checkbox = checkableButtons.get('bulkLg');\n    }\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    } // setTimeout ensures execution after the Transition on BulkActions\n\n\n    setTimeout(() => {\n      checkbox && checkbox.focus();\n    }, 0);\n  };\n\n  const bulkActionsMarkup = isSelectable ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.BulkActionsWrapper\n  }, /*#__PURE__*/React$1.createElement(BulkActions$1, {\n    label: bulkActionsLabel(),\n    accessibilityLabel: bulkActionsAccessibilityLabel(),\n    selected: bulkSelectState(),\n    onToggleAll: handleToggleAll,\n    selectMode: selectMode,\n    onSelectModeToggle: handleSelectMode,\n    promotedActions: promotedBulkActions,\n    paginatedSelectAllAction: paginatedSelectAllAction(),\n    paginatedSelectAllText: paginatedSelectAllText(),\n    actions: bulkActions,\n    disabled: loading,\n    smallScreen: smallScreen\n  })) : null;\n  const filterControlMarkup = filterControl ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.FiltersWrapper\n  }, filterControl) : null;\n  const sortingSelectMarkup = sortOptions && sortOptions.length > 0 && !alternateTool ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.SortWrapper\n  }, /*#__PURE__*/React$1.createElement(Select$1, {\n    label: i18n.translate('Polaris.ResourceList.sortingLabel'),\n    labelInline: !smallScreen,\n    labelHidden: smallScreen,\n    options: sortOptions,\n    onChange: onSortChange,\n    value: sortValue,\n    disabled: selectMode\n  })) : null;\n  const alternateToolMarkup = alternateTool && !sortingSelectMarkup ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.AlternateToolWrapper\n  }, alternateTool) : null;\n  const headerTitleMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.HeaderTitleWrapper\n  }, headerTitle());\n  const selectButtonMarkup = isSelectable ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.SelectButtonWrapper\n  }, /*#__PURE__*/React$1.createElement(Button$1, {\n    disabled: selectMode,\n    icon: EnableSelectionMinor,\n    onClick: () => handleSelectMode(true)\n  }, i18n.translate('Polaris.ResourceList.selectButtonText'))) : null;\n  const checkableButtonMarkup = isSelectable ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.CheckableButtonWrapper\n  }, /*#__PURE__*/React$1.createElement(CheckableButton$1, {\n    accessibilityLabel: bulkActionsAccessibilityLabel(),\n    label: headerTitle(),\n    onToggleAll: handleToggleAll,\n    plain: true,\n    disabled: loading\n  })) : null;\n  const needsHeader = isSelectable || sortOptions && sortOptions.length > 0 || alternateTool;\n  const headerWrapperOverlay = loading ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles['HeaderWrapper-overlay']\n  }) : null;\n  const showEmptyState = emptyState && !itemsExist && !loading;\n  const showEmptySearchState = !showEmptyState && filterControl && !itemsExist && !loading;\n\n  var _ref = /*#__PURE__*/React$1.createElement(EventListener$1, {\n    event: \"resize\",\n    handler: handleResize\n  });\n\n  const headerMarkup = !showEmptyState && showHeader !== false && !showEmptySearchState && (showHeader || needsHeader) && listRef.current && /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.HeaderOuterWrapper\n  }, /*#__PURE__*/React$1.createElement(Sticky$1, {\n    boundingElement: listRef.current\n  }, isSticky => {\n    const headerClassName = classNames(styles.HeaderWrapper, sortOptions && sortOptions.length > 0 && !alternateTool && styles['HeaderWrapper-hasSort'], alternateTool && styles['HeaderWrapper-hasAlternateTool'], isSelectable && styles['HeaderWrapper-hasSelect'], loading && styles['HeaderWrapper-disabled'], isSelectable && selectMode && styles['HeaderWrapper-inSelectMode'], isSticky && styles['HeaderWrapper-isSticky']);\n    return /*#__PURE__*/React$1.createElement(\"div\", {\n      className: headerClassName\n    }, _ref, headerWrapperOverlay, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.HeaderContentWrapper\n    }, headerTitleMarkup, checkableButtonMarkup, alternateToolMarkup, sortingSelectMarkup, selectButtonMarkup), bulkActionsMarkup);\n  }));\n  const emptySearchStateMarkup = showEmptySearchState ? emptySearchState || /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.EmptySearchResultWrapper\n  }, /*#__PURE__*/React$1.createElement(EmptySearchResult$1, Object.assign({}, emptySearchResultText, {\n    withIllustration: true\n  }))) : null;\n  const emptyStateMarkup = showEmptyState ? emptyState : null;\n  const defaultTopPadding = 8;\n  const topPadding = loadingPosition > 0 ? loadingPosition : defaultTopPadding;\n  const spinnerStyle = {\n    paddingTop: `${topPadding}px`\n  };\n  const spinnerSize = items.length < 2 ? 'small' : 'large';\n  const loadingOverlay = loading ? /*#__PURE__*/React$1.createElement(React$1.Fragment, null, /*#__PURE__*/React$1.createElement(\"li\", {\n    className: styles.SpinnerContainer,\n    style: spinnerStyle\n  }, /*#__PURE__*/React$1.createElement(Spinner$1, {\n    size: spinnerSize,\n    accessibilityLabel: \"Items are loading\"\n  })), /*#__PURE__*/React$1.createElement(\"li\", {\n    className: styles.LoadingOverlay\n  })) : null;\n  const className = classNames(styles.ItemWrapper, loading && styles['ItemWrapper-isLoading']);\n  const loadingWithoutItemsMarkup = loading && !itemsExist ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className,\n    tabIndex: -1\n  }, loadingOverlay) : null;\n  const resourceListClassName = classNames(styles.ResourceList, loading && styles.disabledPointerEvents, selectMode && styles.disableTextSelection);\n  const listMarkup = itemsExist ? /*#__PURE__*/React$1.createElement(\"ul\", {\n    className: resourceListClassName,\n    ref: listRef,\n    \"aria-live\": \"polite\",\n    \"aria-busy\": loading\n  }, loadingOverlay, Children.toArray(items.map(renderItemWithId))) : null;\n  const context = {\n    selectable: isSelectable,\n    selectedItems,\n    selectMode,\n    resourceName,\n    loading,\n    onSelectionChange: handleSelectionChange,\n    registerCheckableButtons: handleCheckableButtonRegistration\n  };\n  return /*#__PURE__*/React$1.createElement(ResourceListContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ResourceListWrapper\n  }, filterControlMarkup, headerMarkup, listMarkup, emptySearchStateMarkup, emptyStateMarkup, loadingWithoutItemsMarkup));\n};\nResourceList.Item = ResourceItem$1;\n\nexport { ResourceList };\n"]},"metadata":{},"sourceType":"module"}