{"ast":null,"code":"import _slicedToArray from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React$1, { useState, useRef, useEffect } from 'react';\nimport { classNames, variationName } from '../../../../utilities/css.js';\nimport styles from './CSSAnimation.scss.js';\nvar TransitionStatus;\n\n(function (TransitionStatus) {\n  TransitionStatus[\"Entering\"] = \"entering\";\n  TransitionStatus[\"Entered\"] = \"entered\";\n  TransitionStatus[\"Exiting\"] = \"exiting\";\n  TransitionStatus[\"Exited\"] = \"exited\";\n})(TransitionStatus || (TransitionStatus = {}));\n\nfunction CSSAnimation(_ref) {\n  var inProp = _ref.in,\n      className = _ref.className,\n      type = _ref.type,\n      children = _ref.children;\n\n  var _useState = useState(inProp ? TransitionStatus.Entering : TransitionStatus.Exited),\n      _useState2 = _slicedToArray(_useState, 2),\n      transitionStatus = _useState2[0],\n      setTransitionStatus = _useState2[1];\n\n  var isMounted = useRef(false);\n  var node = useRef(null);\n  useEffect(function () {\n    if (!isMounted.current) return;\n    transitionStatus === TransitionStatus.Entering && changeTransitionStatus(TransitionStatus.Entered);\n  }, [transitionStatus]);\n  useEffect(function () {\n    if (!isMounted.current) return;\n    inProp && changeTransitionStatus(TransitionStatus.Entering);\n    !inProp && changeTransitionStatus(TransitionStatus.Exiting);\n  }, [inProp]);\n  useEffect(function () {\n    isMounted.current = true;\n  }, []);\n  var wrapperClassName = classNames(className, styles[variationName('start', type)], inProp && styles[variationName('end', type)]);\n  var content = transitionStatus === TransitionStatus.Exited && !inProp ? null : children;\n  return /*#__PURE__*/React$1.createElement(\"div\", {\n    className: wrapperClassName,\n    ref: node,\n    onTransitionEnd: handleTransitionEnd\n  }, content);\n\n  function handleTransitionEnd() {\n    transitionStatus === TransitionStatus.Exiting && changeTransitionStatus(TransitionStatus.Exited);\n  }\n\n  function changeTransitionStatus(transitionStatus) {\n    setTransitionStatus(transitionStatus); // Forcing a reflow to enable the animation\n\n    if (transitionStatus === TransitionStatus.Entering) node.current && node.current.getBoundingClientRect();\n  }\n}\n\nexport { CSSAnimation };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/Frame/components/CSSAnimation/CSSAnimation.js"],"names":["React$1","useState","useRef","useEffect","classNames","variationName","styles","TransitionStatus","CSSAnimation","inProp","in","className","type","children","Entering","Exited","transitionStatus","setTransitionStatus","isMounted","node","current","changeTransitionStatus","Entered","Exiting","wrapperClassName","content","createElement","ref","onTransitionEnd","handleTransitionEnd","getBoundingClientRect"],"mappings":"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","sourcesContent":["import React$1, { useState, useRef, useEffect } from 'react';\nimport { classNames, variationName } from '../../../../utilities/css.js';\nimport styles from './CSSAnimation.scss.js';\n\nvar TransitionStatus;\n\n(function (TransitionStatus) {\n  TransitionStatus[\"Entering\"] = \"entering\";\n  TransitionStatus[\"Entered\"] = \"entered\";\n  TransitionStatus[\"Exiting\"] = \"exiting\";\n  TransitionStatus[\"Exited\"] = \"exited\";\n})(TransitionStatus || (TransitionStatus = {}));\n\nfunction CSSAnimation({\n  in: inProp,\n  className,\n  type,\n  children\n}) {\n  const [transitionStatus, setTransitionStatus] = useState(inProp ? TransitionStatus.Entering : TransitionStatus.Exited);\n  const isMounted = useRef(false);\n  const node = useRef(null);\n  useEffect(() => {\n    if (!isMounted.current) return;\n    transitionStatus === TransitionStatus.Entering && changeTransitionStatus(TransitionStatus.Entered);\n  }, [transitionStatus]);\n  useEffect(() => {\n    if (!isMounted.current) return;\n    inProp && changeTransitionStatus(TransitionStatus.Entering);\n    !inProp && changeTransitionStatus(TransitionStatus.Exiting);\n  }, [inProp]);\n  useEffect(() => {\n    isMounted.current = true;\n  }, []);\n  const wrapperClassName = classNames(className, styles[variationName('start', type)], inProp && styles[variationName('end', type)]);\n  const content = transitionStatus === TransitionStatus.Exited && !inProp ? null : children;\n  return /*#__PURE__*/React$1.createElement(\"div\", {\n    className: wrapperClassName,\n    ref: node,\n    onTransitionEnd: handleTransitionEnd\n  }, content);\n\n  function handleTransitionEnd() {\n    transitionStatus === TransitionStatus.Exiting && changeTransitionStatus(TransitionStatus.Exited);\n  }\n\n  function changeTransitionStatus(transitionStatus) {\n    setTransitionStatus(transitionStatus); // Forcing a reflow to enable the animation\n\n    if (transitionStatus === TransitionStatus.Entering) node.current && node.current.getBoundingClientRect();\n  }\n}\n\nexport { CSSAnimation };\n"]},"metadata":{},"sourceType":"module"}