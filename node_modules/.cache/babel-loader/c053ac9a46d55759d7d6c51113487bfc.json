{"ast":null,"code":"import _toConsumableArray from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport React$1, { PureComponent, createRef } from 'react';\nimport { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { EventListener as EventListener$1 } from '../EventListener/EventListener.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { durationSlow } from '@shopify/polaris-tokens';\nimport { layer, dataPolarisTopBar } from '../shared.js';\nimport { classNames } from '../../utilities/css.js';\nimport { MobileCancelMajor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { Backdrop as Backdrop$1 } from '../Backdrop/Backdrop.js';\nimport { CSSTransition } from 'react-transition-group';\nimport { FrameContext } from '../../utilities/frame/context.js';\nimport { TrapFocus as TrapFocus$1 } from '../TrapFocus/TrapFocus.js';\nimport { setRootProperty as setRootProperty$1 } from '../../utilities/set-root-property.js';\nimport { ToastManager as ToastManager$1 } from './components/ToastManager/ToastManager.js';\nimport { Loading as Loading$1 } from './components/Loading/Loading.js';\nimport { ContextualSaveBar as ContextualSaveBar$1 } from './components/ContextualSaveBar/ContextualSaveBar.js';\nimport { CSSAnimation as CSSAnimation$1 } from './components/CSSAnimation/CSSAnimation.js';\nimport styles from './Frame.scss.js';\nvar GLOBAL_RIBBON_CUSTOM_PROPERTY = '--global-ribbon-height';\nvar APP_FRAME_MAIN = 'AppFrameMain';\nvar APP_FRAME_NAV = 'AppFrameNav';\nvar APP_FRAME_TOP_BAR = 'AppFrameTopBar';\nvar APP_FRAME_LOADING_BAR = 'AppFrameLoadingBar';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: MobileCancelMajor\n});\n\nvar _ref2 = /*#__PURE__*/React$1.createElement(Loading$1, null);\n\nvar FrameInner = /*#__PURE__*/function (_PureComponent) {\n  _inherits(FrameInner, _PureComponent);\n\n  var _super = _createSuper(FrameInner);\n\n  function FrameInner() {\n    var _this;\n\n    _classCallCheck(this, FrameInner);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      skipFocused: false,\n      globalRibbonHeight: 0,\n      loadingStack: 0,\n      toastMessages: [],\n      showContextualSaveBar: false\n    };\n    _this.contextualSaveBar = null;\n    _this.globalRibbonContainer = null;\n    _this.navigationNode = /*#__PURE__*/createRef();\n\n    _this.setGlobalRibbonHeight = function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          globalRibbonContainer = _assertThisInitialize.globalRibbonContainer;\n\n      if (globalRibbonContainer) {\n        _this.setState({\n          globalRibbonHeight: globalRibbonContainer.offsetHeight\n        }, _this.setGlobalRibbonRootProperty);\n      }\n    };\n\n    _this.setGlobalRibbonRootProperty = function () {\n      var globalRibbonHeight = _this.state.globalRibbonHeight;\n      setRootProperty$1(GLOBAL_RIBBON_CUSTOM_PROPERTY, \"\".concat(globalRibbonHeight, \"px\"), null);\n    };\n\n    _this.showToast = function (toast) {\n      _this.setState(function (_ref3) {\n        var toastMessages = _ref3.toastMessages;\n        var hasToastById = toastMessages.find(function (_ref4) {\n          var id = _ref4.id;\n          return id === toast.id;\n        }) != null;\n        return {\n          toastMessages: hasToastById ? toastMessages : [].concat(_toConsumableArray(toastMessages), [toast])\n        };\n      });\n    };\n\n    _this.hideToast = function (_ref5) {\n      var id = _ref5.id;\n\n      _this.setState(function (_ref6) {\n        var toastMessages = _ref6.toastMessages;\n        return {\n          toastMessages: toastMessages.filter(function (_ref7) {\n            var toastId = _ref7.id;\n            return id !== toastId;\n          })\n        };\n      });\n    };\n\n    _this.setContextualSaveBar = function (props) {\n      var showContextualSaveBar = _this.state.showContextualSaveBar;\n      _this.contextualSaveBar = _objectSpread2({}, props);\n\n      if (showContextualSaveBar === true) {\n        _this.forceUpdate();\n      } else {\n        _this.setState({\n          showContextualSaveBar: true\n        });\n      }\n    };\n\n    _this.removeContextualSaveBar = function () {\n      _this.contextualSaveBar = null;\n\n      _this.setState({\n        showContextualSaveBar: false\n      });\n    };\n\n    _this.startLoading = function () {\n      _this.setState(function (_ref8) {\n        var loadingStack = _ref8.loadingStack;\n        return {\n          loadingStack: loadingStack + 1\n        };\n      });\n    };\n\n    _this.stopLoading = function () {\n      _this.setState(function (_ref9) {\n        var loadingStack = _ref9.loadingStack;\n        return {\n          loadingStack: Math.max(0, loadingStack - 1)\n        };\n      });\n    };\n\n    _this.handleResize = function () {\n      if (_this.props.globalRibbon) {\n        _this.setGlobalRibbonHeight();\n      }\n    };\n\n    _this.handleFocus = function () {\n      _this.setState({\n        skipFocused: true\n      });\n    };\n\n    _this.handleBlur = function () {\n      _this.setState({\n        skipFocused: false\n      });\n    };\n\n    _this.handleClick = function (event) {\n      var skipToContentTarget = _this.props.skipToContentTarget;\n\n      if (skipToContentTarget && skipToContentTarget.current) {\n        skipToContentTarget.current.focus();\n        event == null ? void 0 : event.preventDefault();\n      }\n    };\n\n    _this.handleNavigationDismiss = function () {\n      var onNavigationDismiss = _this.props.onNavigationDismiss;\n\n      if (onNavigationDismiss != null) {\n        onNavigationDismiss();\n      }\n    };\n\n    _this.setGlobalRibbonContainer = function (node) {\n      _this.globalRibbonContainer = node;\n    };\n\n    _this.handleNavKeydown = function (event) {\n      var key = event.key;\n      var _this$props = _this.props,\n          isNavigationCollapsed = _this$props.mediaQuery.isNavigationCollapsed,\n          showMobileNavigation = _this$props.showMobileNavigation;\n      var mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n\n      if (mobileNavShowing && key === 'Escape') {\n        _this.handleNavigationDismiss();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(FrameInner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleResize();\n\n      if (this.props.globalRibbon) {\n        return;\n      }\n\n      this.setGlobalRibbonRootProperty();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.globalRibbon !== prevProps.globalRibbon) {\n        this.setGlobalRibbonHeight();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          skipFocused = _this$state.skipFocused,\n          loadingStack = _this$state.loadingStack,\n          toastMessages = _this$state.toastMessages,\n          showContextualSaveBar = _this$state.showContextualSaveBar;\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          navigation = _this$props2.navigation,\n          topBar = _this$props2.topBar,\n          globalRibbon = _this$props2.globalRibbon,\n          _this$props2$showMobi = _this$props2.showMobileNavigation,\n          showMobileNavigation = _this$props2$showMobi === void 0 ? false : _this$props2$showMobi,\n          skipToContentTarget = _this$props2.skipToContentTarget,\n          i18n = _this$props2.i18n,\n          isNavigationCollapsed = _this$props2.mediaQuery.isNavigationCollapsed;\n      var navClassName = classNames(styles.Navigation, showMobileNavigation && styles['Navigation-visible']);\n      var mobileNavHidden = isNavigationCollapsed && !showMobileNavigation;\n      var mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n      var tabIndex = mobileNavShowing ? 0 : -1;\n\n      var mobileNavAttributes = _objectSpread2({}, mobileNavShowing && {\n        'aria-modal': true,\n        role: 'dialog'\n      });\n\n      var navigationMarkup = navigation ? /*#__PURE__*/React$1.createElement(TrapFocus$1, {\n        trapping: mobileNavShowing\n      }, /*#__PURE__*/React$1.createElement(CSSTransition, {\n        nodeRef: this.navigationNode,\n        appear: isNavigationCollapsed,\n        exit: isNavigationCollapsed,\n        in: showMobileNavigation,\n        timeout: durationSlow,\n        classNames: navTransitionClasses\n      }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({}, mobileNavAttributes, {\n        \"aria-label\": i18n.translate('Polaris.Frame.navigationLabel'),\n        ref: this.navigationNode,\n        className: navClassName,\n        onKeyDown: this.handleNavKeydown,\n        id: APP_FRAME_NAV,\n        key: \"NavContent\",\n        hidden: mobileNavHidden\n      }), navigation, /*#__PURE__*/React$1.createElement(\"button\", {\n        type: \"button\",\n        className: styles.NavigationDismiss,\n        onClick: this.handleNavigationDismiss,\n        \"aria-hidden\": mobileNavHidden || !isNavigationCollapsed && !showMobileNavigation,\n        \"aria-label\": i18n.translate('Polaris.Frame.Navigation.closeMobileNavigationLabel'),\n        tabIndex: tabIndex\n      }, _ref)))) : null;\n      var loadingMarkup = loadingStack > 0 ? /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.LoadingBar,\n        id: APP_FRAME_LOADING_BAR\n      }, _ref2) : null;\n      var contextualSaveBarMarkup = /*#__PURE__*/React$1.createElement(CSSAnimation$1, {\n        in: showContextualSaveBar,\n        className: styles.ContextualSaveBar,\n        type: \"fade\"\n      }, /*#__PURE__*/React$1.createElement(ContextualSaveBar$1, this.contextualSaveBar));\n      var topBarMarkup = topBar ? /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n        className: styles.TopBar\n      }, layer.props, dataPolarisTopBar.props, {\n        id: APP_FRAME_TOP_BAR\n      }), topBar) : null;\n      var globalRibbonMarkup = globalRibbon ? /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.GlobalRibbonContainer,\n        ref: this.setGlobalRibbonContainer\n      }, globalRibbon) : null;\n      var skipClassName = classNames(styles.Skip, skipFocused && styles.focused);\n      var skipTarget = (skipToContentTarget == null ? void 0 : skipToContentTarget.current) ? skipToContentTarget.current.id : APP_FRAME_MAIN;\n      var skipMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: skipClassName\n      }, /*#__PURE__*/React$1.createElement(\"a\", {\n        href: \"#\".concat(skipTarget),\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onClick: this.handleClick\n      }, i18n.translate('Polaris.Frame.skipToContent')));\n      var navigationAttributes = navigation ? {\n        'data-has-navigation': true\n      } : {};\n      var frameClassName = classNames(styles.Frame, navigation && styles.hasNav, topBar && styles.hasTopBar);\n      var navigationOverlayMarkup = showMobileNavigation && isNavigationCollapsed ? /*#__PURE__*/React$1.createElement(Backdrop$1, {\n        belowNavigation: true,\n        onClick: this.handleNavigationDismiss,\n        onTouchStart: this.handleNavigationDismiss\n      }) : null;\n      var context = {\n        showToast: this.showToast,\n        hideToast: this.hideToast,\n        startLoading: this.startLoading,\n        stopLoading: this.stopLoading,\n        setContextualSaveBar: this.setContextualSaveBar,\n        removeContextualSaveBar: this.removeContextualSaveBar\n      };\n      return /*#__PURE__*/React$1.createElement(FrameContext.Provider, {\n        value: context\n      }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n        className: frameClassName\n      }, layer.props, navigationAttributes), skipMarkup, topBarMarkup, navigationMarkup, contextualSaveBarMarkup, loadingMarkup, navigationOverlayMarkup, /*#__PURE__*/React$1.createElement(\"main\", {\n        className: styles.Main,\n        id: APP_FRAME_MAIN,\n        \"data-has-global-ribbon\": Boolean(globalRibbon)\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Content\n      }, children)), /*#__PURE__*/React$1.createElement(ToastManager$1, {\n        toastMessages: toastMessages\n      }), globalRibbonMarkup, /*#__PURE__*/React$1.createElement(EventListener$1, {\n        event: \"resize\",\n        handler: this.handleResize\n      })));\n    }\n  }]);\n\n  return FrameInner;\n}(PureComponent);\n\nvar navTransitionClasses = {\n  enter: classNames(styles['Navigation-enter']),\n  enterActive: classNames(styles['Navigation-enterActive']),\n  enterDone: classNames(styles['Navigation-enterActive']),\n  exit: classNames(styles['Navigation-exit']),\n  exitActive: classNames(styles['Navigation-exitActive'])\n};\n\nfunction Frame(props) {\n  var i18n = useI18n();\n  var mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React$1.createElement(FrameInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Frame };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/Frame/Frame.js"],"names":["React$1","PureComponent","createRef","objectSpread2","_objectSpread2","useMediaQuery","EventListener","EventListener$1","useI18n","durationSlow","layer","dataPolarisTopBar","classNames","MobileCancelMajor","Icon","Icon$1","Backdrop","Backdrop$1","CSSTransition","FrameContext","TrapFocus","TrapFocus$1","setRootProperty","setRootProperty$1","ToastManager","ToastManager$1","Loading","Loading$1","ContextualSaveBar","ContextualSaveBar$1","CSSAnimation","CSSAnimation$1","styles","GLOBAL_RIBBON_CUSTOM_PROPERTY","APP_FRAME_MAIN","APP_FRAME_NAV","APP_FRAME_TOP_BAR","APP_FRAME_LOADING_BAR","_ref","createElement","source","_ref2","FrameInner","args","state","skipFocused","globalRibbonHeight","loadingStack","toastMessages","showContextualSaveBar","contextualSaveBar","globalRibbonContainer","navigationNode","setGlobalRibbonHeight","setState","offsetHeight","setGlobalRibbonRootProperty","showToast","toast","hasToastById","find","id","hideToast","filter","toastId","setContextualSaveBar","props","forceUpdate","removeContextualSaveBar","startLoading","stopLoading","Math","max","handleResize","globalRibbon","handleFocus","handleBlur","handleClick","event","skipToContentTarget","current","focus","preventDefault","handleNavigationDismiss","onNavigationDismiss","setGlobalRibbonContainer","node","handleNavKeydown","key","isNavigationCollapsed","mediaQuery","showMobileNavigation","mobileNavShowing","prevProps","children","navigation","topBar","i18n","navClassName","Navigation","mobileNavHidden","tabIndex","mobileNavAttributes","role","navigationMarkup","trapping","nodeRef","appear","exit","in","timeout","navTransitionClasses","Object","assign","translate","ref","className","onKeyDown","hidden","type","NavigationDismiss","onClick","loadingMarkup","LoadingBar","contextualSaveBarMarkup","topBarMarkup","TopBar","globalRibbonMarkup","GlobalRibbonContainer","skipClassName","Skip","focused","skipTarget","skipMarkup","href","onFocus","onBlur","navigationAttributes","frameClassName","Frame","hasNav","hasTopBar","navigationOverlayMarkup","belowNavigation","onTouchStart","context","Provider","value","Main","Boolean","Content","handler","enter","enterActive","enterDone","exitActive"],"mappings":"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","sourcesContent":["import React$1, { PureComponent, createRef } from 'react';\nimport { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { EventListener as EventListener$1 } from '../EventListener/EventListener.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { durationSlow } from '@shopify/polaris-tokens';\nimport { layer, dataPolarisTopBar } from '../shared.js';\nimport { classNames } from '../../utilities/css.js';\nimport { MobileCancelMajor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { Backdrop as Backdrop$1 } from '../Backdrop/Backdrop.js';\nimport { CSSTransition } from 'react-transition-group';\nimport { FrameContext } from '../../utilities/frame/context.js';\nimport { TrapFocus as TrapFocus$1 } from '../TrapFocus/TrapFocus.js';\nimport { setRootProperty as setRootProperty$1 } from '../../utilities/set-root-property.js';\nimport { ToastManager as ToastManager$1 } from './components/ToastManager/ToastManager.js';\nimport { Loading as Loading$1 } from './components/Loading/Loading.js';\nimport { ContextualSaveBar as ContextualSaveBar$1 } from './components/ContextualSaveBar/ContextualSaveBar.js';\nimport { CSSAnimation as CSSAnimation$1 } from './components/CSSAnimation/CSSAnimation.js';\nimport styles from './Frame.scss.js';\n\nconst GLOBAL_RIBBON_CUSTOM_PROPERTY = '--global-ribbon-height';\nconst APP_FRAME_MAIN = 'AppFrameMain';\nconst APP_FRAME_NAV = 'AppFrameNav';\nconst APP_FRAME_TOP_BAR = 'AppFrameTopBar';\nconst APP_FRAME_LOADING_BAR = 'AppFrameLoadingBar';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: MobileCancelMajor\n});\n\nvar _ref2 = /*#__PURE__*/React$1.createElement(Loading$1, null);\n\nclass FrameInner extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      skipFocused: false,\n      globalRibbonHeight: 0,\n      loadingStack: 0,\n      toastMessages: [],\n      showContextualSaveBar: false\n    };\n    this.contextualSaveBar = null;\n    this.globalRibbonContainer = null;\n    this.navigationNode = /*#__PURE__*/createRef();\n\n    this.setGlobalRibbonHeight = () => {\n      const {\n        globalRibbonContainer\n      } = this;\n\n      if (globalRibbonContainer) {\n        this.setState({\n          globalRibbonHeight: globalRibbonContainer.offsetHeight\n        }, this.setGlobalRibbonRootProperty);\n      }\n    };\n\n    this.setGlobalRibbonRootProperty = () => {\n      const {\n        globalRibbonHeight\n      } = this.state;\n      setRootProperty$1(GLOBAL_RIBBON_CUSTOM_PROPERTY, `${globalRibbonHeight}px`, null);\n    };\n\n    this.showToast = toast => {\n      this.setState(({\n        toastMessages\n      }) => {\n        const hasToastById = toastMessages.find(({\n          id\n        }) => id === toast.id) != null;\n        return {\n          toastMessages: hasToastById ? toastMessages : [...toastMessages, toast]\n        };\n      });\n    };\n\n    this.hideToast = ({\n      id\n    }) => {\n      this.setState(({\n        toastMessages\n      }) => {\n        return {\n          toastMessages: toastMessages.filter(({\n            id: toastId\n          }) => id !== toastId)\n        };\n      });\n    };\n\n    this.setContextualSaveBar = props => {\n      const {\n        showContextualSaveBar\n      } = this.state;\n      this.contextualSaveBar = _objectSpread2({}, props);\n\n      if (showContextualSaveBar === true) {\n        this.forceUpdate();\n      } else {\n        this.setState({\n          showContextualSaveBar: true\n        });\n      }\n    };\n\n    this.removeContextualSaveBar = () => {\n      this.contextualSaveBar = null;\n      this.setState({\n        showContextualSaveBar: false\n      });\n    };\n\n    this.startLoading = () => {\n      this.setState(({\n        loadingStack\n      }) => ({\n        loadingStack: loadingStack + 1\n      }));\n    };\n\n    this.stopLoading = () => {\n      this.setState(({\n        loadingStack\n      }) => ({\n        loadingStack: Math.max(0, loadingStack - 1)\n      }));\n    };\n\n    this.handleResize = () => {\n      if (this.props.globalRibbon) {\n        this.setGlobalRibbonHeight();\n      }\n    };\n\n    this.handleFocus = () => {\n      this.setState({\n        skipFocused: true\n      });\n    };\n\n    this.handleBlur = () => {\n      this.setState({\n        skipFocused: false\n      });\n    };\n\n    this.handleClick = event => {\n      const {\n        skipToContentTarget\n      } = this.props;\n\n      if (skipToContentTarget && skipToContentTarget.current) {\n        skipToContentTarget.current.focus();\n        event == null ? void 0 : event.preventDefault();\n      }\n    };\n\n    this.handleNavigationDismiss = () => {\n      const {\n        onNavigationDismiss\n      } = this.props;\n\n      if (onNavigationDismiss != null) {\n        onNavigationDismiss();\n      }\n    };\n\n    this.setGlobalRibbonContainer = node => {\n      this.globalRibbonContainer = node;\n    };\n\n    this.handleNavKeydown = event => {\n      const {\n        key\n      } = event;\n      const {\n        mediaQuery: {\n          isNavigationCollapsed\n        },\n        showMobileNavigation\n      } = this.props;\n      const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n\n      if (mobileNavShowing && key === 'Escape') {\n        this.handleNavigationDismiss();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.handleResize();\n\n    if (this.props.globalRibbon) {\n      return;\n    }\n\n    this.setGlobalRibbonRootProperty();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.globalRibbon !== prevProps.globalRibbon) {\n      this.setGlobalRibbonHeight();\n    }\n  }\n\n  render() {\n    const {\n      skipFocused,\n      loadingStack,\n      toastMessages,\n      showContextualSaveBar\n    } = this.state;\n    const {\n      children,\n      navigation,\n      topBar,\n      globalRibbon,\n      showMobileNavigation = false,\n      skipToContentTarget,\n      i18n,\n      mediaQuery: {\n        isNavigationCollapsed\n      }\n    } = this.props;\n    const navClassName = classNames(styles.Navigation, showMobileNavigation && styles['Navigation-visible']);\n    const mobileNavHidden = isNavigationCollapsed && !showMobileNavigation;\n    const mobileNavShowing = isNavigationCollapsed && showMobileNavigation;\n    const tabIndex = mobileNavShowing ? 0 : -1;\n\n    const mobileNavAttributes = _objectSpread2({}, mobileNavShowing && {\n      'aria-modal': true,\n      role: 'dialog'\n    });\n\n    const navigationMarkup = navigation ? /*#__PURE__*/React$1.createElement(TrapFocus$1, {\n      trapping: mobileNavShowing\n    }, /*#__PURE__*/React$1.createElement(CSSTransition, {\n      nodeRef: this.navigationNode,\n      appear: isNavigationCollapsed,\n      exit: isNavigationCollapsed,\n      in: showMobileNavigation,\n      timeout: durationSlow,\n      classNames: navTransitionClasses\n    }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({}, mobileNavAttributes, {\n      \"aria-label\": i18n.translate('Polaris.Frame.navigationLabel'),\n      ref: this.navigationNode,\n      className: navClassName,\n      onKeyDown: this.handleNavKeydown,\n      id: APP_FRAME_NAV,\n      key: \"NavContent\",\n      hidden: mobileNavHidden\n    }), navigation, /*#__PURE__*/React$1.createElement(\"button\", {\n      type: \"button\",\n      className: styles.NavigationDismiss,\n      onClick: this.handleNavigationDismiss,\n      \"aria-hidden\": mobileNavHidden || !isNavigationCollapsed && !showMobileNavigation,\n      \"aria-label\": i18n.translate('Polaris.Frame.Navigation.closeMobileNavigationLabel'),\n      tabIndex: tabIndex\n    }, _ref)))) : null;\n    const loadingMarkup = loadingStack > 0 ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.LoadingBar,\n      id: APP_FRAME_LOADING_BAR\n    }, _ref2) : null;\n    const contextualSaveBarMarkup = /*#__PURE__*/React$1.createElement(CSSAnimation$1, {\n      in: showContextualSaveBar,\n      className: styles.ContextualSaveBar,\n      type: \"fade\"\n    }, /*#__PURE__*/React$1.createElement(ContextualSaveBar$1, this.contextualSaveBar));\n    const topBarMarkup = topBar ? /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n      className: styles.TopBar\n    }, layer.props, dataPolarisTopBar.props, {\n      id: APP_FRAME_TOP_BAR\n    }), topBar) : null;\n    const globalRibbonMarkup = globalRibbon ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.GlobalRibbonContainer,\n      ref: this.setGlobalRibbonContainer\n    }, globalRibbon) : null;\n    const skipClassName = classNames(styles.Skip, skipFocused && styles.focused);\n    const skipTarget = (skipToContentTarget == null ? void 0 : skipToContentTarget.current) ? skipToContentTarget.current.id : APP_FRAME_MAIN;\n    const skipMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: skipClassName\n    }, /*#__PURE__*/React$1.createElement(\"a\", {\n      href: `#${skipTarget}`,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick\n    }, i18n.translate('Polaris.Frame.skipToContent')));\n    const navigationAttributes = navigation ? {\n      'data-has-navigation': true\n    } : {};\n    const frameClassName = classNames(styles.Frame, navigation && styles.hasNav, topBar && styles.hasTopBar);\n    const navigationOverlayMarkup = showMobileNavigation && isNavigationCollapsed ? /*#__PURE__*/React$1.createElement(Backdrop$1, {\n      belowNavigation: true,\n      onClick: this.handleNavigationDismiss,\n      onTouchStart: this.handleNavigationDismiss\n    }) : null;\n    const context = {\n      showToast: this.showToast,\n      hideToast: this.hideToast,\n      startLoading: this.startLoading,\n      stopLoading: this.stopLoading,\n      setContextualSaveBar: this.setContextualSaveBar,\n      removeContextualSaveBar: this.removeContextualSaveBar\n    };\n    return /*#__PURE__*/React$1.createElement(FrameContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React$1.createElement(\"div\", Object.assign({\n      className: frameClassName\n    }, layer.props, navigationAttributes), skipMarkup, topBarMarkup, navigationMarkup, contextualSaveBarMarkup, loadingMarkup, navigationOverlayMarkup, /*#__PURE__*/React$1.createElement(\"main\", {\n      className: styles.Main,\n      id: APP_FRAME_MAIN,\n      \"data-has-global-ribbon\": Boolean(globalRibbon)\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Content\n    }, children)), /*#__PURE__*/React$1.createElement(ToastManager$1, {\n      toastMessages: toastMessages\n    }), globalRibbonMarkup, /*#__PURE__*/React$1.createElement(EventListener$1, {\n      event: \"resize\",\n      handler: this.handleResize\n    })));\n  }\n\n}\n\nconst navTransitionClasses = {\n  enter: classNames(styles['Navigation-enter']),\n  enterActive: classNames(styles['Navigation-enterActive']),\n  enterDone: classNames(styles['Navigation-enterActive']),\n  exit: classNames(styles['Navigation-exit']),\n  exitActive: classNames(styles['Navigation-exitActive'])\n};\nfunction Frame(props) {\n  const i18n = useI18n();\n  const mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React$1.createElement(FrameInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Frame };\n"]},"metadata":{},"sourceType":"module"}