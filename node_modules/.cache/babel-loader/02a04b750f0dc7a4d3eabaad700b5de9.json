{"ast":null,"code":"import _regeneratorRuntime from\"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as React from'react';import'./index.scss';import{useState}from\"react\";import ReCAPTCHA from\"react-google-recaptcha\";import{commonValidate,validateMail}from\"./Service\";import BaseService from\"../../commons/services/BaseService\";import{sendRegister}from\"../../api/Register\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var history=_ref.history;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),mail=_useState4[0],setMail=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),phoneNumber=_useState8[0],setPhoneNumber=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),pass=_useState10[0],setPass=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),repeatPass=_useState12[0],setRepeatPass=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),captcha=_useState14[0],setCaptcha=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),checkPass=_useState16[0],setCheckPass=_useState16[1];var styleValidate=function styleValidate(check,type){if(check)return{};else if(type==='text')return{visibility:'visible'};else return{color:'red'};};var validateAll=function validateAll(){if(commonValidate(name,/^[a-zA-z\\s]{6,25}$/)&&validateMail(mail)&&commonValidate(address,/^[a-zA-z\\d\\s]{6,50}$/)&&commonValidate(phoneNumber,/^[\\d]{10,10}$/)&&commonValidate(pass,/^[\\w\\W]{6,}$/)&&pass===repeatPass&&captcha){return true;}return false;};var onRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!validateAll()){_context.next=9;break;}BaseService.setStatusLoading(true);data={name:name||'',address:address||'',mail:mail||'',phoneNumber:phoneNumber||'',password:repeatPass||''};_context.next=5;return sendRegister(data,'https://60964612116f3f00174b2db6.mockapi.io/user');case 5:res=_context.sent;if(res.status===201){BaseService.setStatusLoading(false);BaseService.pushNotify('success','Register successful !!!');history.push('/home/list-user');}else{BaseService.pushNotify('error','Opp !!! Register error !!!');}_context.next=10;break;case 9:BaseService.pushNotify('error','Please check again form register');case 10:case\"end\":return _context.stop();}}},_callee);}));return function onRegister(){return _ref2.apply(this,arguments);};}();var formRegisterLeft=function formRegisterLeft(){var showPass=function showPass(type){return/*#__PURE__*/_jsx(\"div\",{children:type?/*#__PURE__*/_jsx(\"i\",{className:\"far fa-eye\",onClick:function onClick(){return setCheckPass(!checkPass);}}):/*#__PURE__*/_jsx(\"i\",{className:\"far fa-eye-slash\",onClick:function onClick(){return setCheckPass(!checkPass);}})});};return/*#__PURE__*/_jsxs(\"div\",{className:'form-register-left',children:[/*#__PURE__*/_jsx(\"div\",{className:'form-title',children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"div\",{className:'wrapper-input',children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:'wrapper-item',children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\",style:styleValidate(commonValidate(name,/^[a-zA-z\\s]{6,25}$/)||name===null,'icon')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:'Your Name',onChange:function onChange(event){return setName(event.target.value);}})]}),/*#__PURE__*/_jsx(\"small\",{style:styleValidate(commonValidate(name,/^[a-zA-z\\s]{6,25}$/)||name===null,'text'),children:\"Your name must has 6-50 characters\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:'wrapper-item',children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\",style:validateMail(mail)||mail===null?{}:{color:'red'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:'Your Email',onChange:function onChange(event){return setMail(event.target.value);}})]}),/*#__PURE__*/_jsx(\"small\",{style:validateMail(mail)||mail===null?{}:{visibility:'visible'},children:\"illegal\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:'wrapper-item',children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt\",style:styleValidate(commonValidate(address,/^[a-zA-z\\d\\s]{6,50}$/)||address===null,'icon')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:'Your Address',onChange:function onChange(event){return setAddress(event.target.value);}})]}),/*#__PURE__*/_jsx(\"small\",{style:styleValidate(commonValidate(address,/^[a-zA-z\\d\\s]{6,50}$/)||address===null,'text'),children:\"Your name must has 6-50 characters\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:'wrapper-item',children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-mobile-alt\",style:styleValidate(commonValidate(phoneNumber,/^[\\d]{10,10}$/)||phoneNumber===null,'icon')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:'Phone Number',onChange:function onChange(event){return setPhoneNumber(event.target.value);}})]}),/*#__PURE__*/_jsx(\"small\",{style:styleValidate(commonValidate(phoneNumber,/^[\\d]{10,10}$/)||phoneNumber===null,'text'),children:\"Your name must has 6-50 characters\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:'wrapper-item',children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\",style:styleValidate(commonValidate(pass,/^[\\w\\W]{6,}$/)||pass===null,'icon')}),showPass(checkPass),/*#__PURE__*/_jsx(\"input\",{type:checkPass?'password':'text',placeholder:'Password',onChange:function onChange(event){return setPass(event.target.value);}})]}),/*#__PURE__*/_jsx(\"small\",{style:styleValidate(commonValidate(pass,/^[\\w\\W]{6,}$/)||pass===null,'text'),children:\"Your name must has 6-50 characters\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:'wrapper-item',children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-unlock\",style:styleValidate(pass===repeatPass||repeatPass===null,'icon')}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:'Repeat your password',onChange:function onChange(event){return setRepeatPass(event.target.value);}})]}),/*#__PURE__*/_jsx(\"small\",{style:styleValidate(pass===repeatPass||repeatPass===null,'text'),children:\"Your name must has 6-50 characters\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:15},children:/*#__PURE__*/_jsx(ReCAPTCHA,{sitekey:\"6Ldb6foUAAAAANXRBMbMqlZowbdhvcg1NBJGx7OG\",onChange:function onChange(data){setCaptcha(data);}})}),/*#__PURE__*/_jsx(\"button\",{style:validateAll()?{}:{cursor:'not-allowed'},disabled:!validateAll(),onClick:function onClick(){return onRegister();},children:\"Register\"})]})]});};var formRegisterRight=function formRegisterRight(){return/*#__PURE__*/_jsxs(\"div\",{className:'form-register-right',children:[/*#__PURE__*/_jsx(\"div\",{className:'wrapper-img',onClick:function onClick(){fetch('https://fakestoreapi.com/users?page=1&limit=10').then(function(res){return res.json();}).then(function(json){return console.log(json);});},children:/*#__PURE__*/_jsx(\"img\",{src:\"https://colorlib.com/etc/regform/colorlib-regform-7/images/signup-image.jpg\",alt:\"img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:'login-now',style:{display:\"flex\",alignItems:\"center\"},onClick:function onClick(){return history.push('/login');},children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:5},children:\"Login now\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-long-arrow-alt-right\"})]})]});};return/*#__PURE__*/_jsx(\"div\",{className:'register',children:/*#__PURE__*/_jsxs(\"div\",{className:'wrapper-form',children:[formRegisterLeft(),formRegisterRight()]})});};export default Register;","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/src/modules/register/index.tsx"],"names":["React","useState","ReCAPTCHA","commonValidate","validateMail","BaseService","sendRegister","Register","history","name","setName","mail","setMail","address","setAddress","phoneNumber","setPhoneNumber","pass","setPass","repeatPass","setRepeatPass","captcha","setCaptcha","checkPass","setCheckPass","styleValidate","check","type","visibility","color","validateAll","onRegister","setStatusLoading","data","password","res","status","pushNotify","push","formRegisterLeft","showPass","event","target","value","marginTop","cursor","formRegisterRight","fetch","then","json","console","log","display","alignItems","marginRight"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport './index.scss';\nimport {useState} from \"react\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport {commonValidate, validateMail} from \"./Service\";\nimport BaseService from \"../../commons/services/BaseService\";\nimport {IResUser, sendRegister} from \"../../api/Register\";\n\ninterface IUser extends IResUser {}\n\nconst Register: React.FC<{ history: any }> = ({history}) => {\n\n    const [name, setName] = useState<string | null>(null);\n    const [mail, setMail] = useState<string | null>(null);\n    const [address, setAddress] = useState<string | null>(null);\n    const [phoneNumber, setPhoneNumber] = useState<string | null>(null);\n    const [pass, setPass] = useState<string | null>(null);\n    const [repeatPass, setRepeatPass] = useState<string | null>(null);\n    const [captcha, setCaptcha] = useState<string | null>(null);\n    const [checkPass, setCheckPass] = useState<boolean>(true);\n\n    const styleValidate = (check: boolean | null, type: 'text' | 'icon'): React.CSSProperties => {\n        if (check) return {}; else if (type === 'text') return {visibility: 'visible'}; else return {color: 'red'};\n    }\n\n    const validateAll = (): boolean => {\n        if (\n            commonValidate(name, /^[a-zA-z\\s]{6,25}$/) &&\n            validateMail(mail) &&\n            commonValidate(address, /^[a-zA-z\\d\\s]{6,50}$/) &&\n            commonValidate(phoneNumber, /^[\\d]{10,10}$/) &&\n            commonValidate(pass, /^[\\w\\W]{6,}$/) &&\n            (pass === repeatPass) && captcha\n        ) {\n            return true\n        }\n        return false\n    }\n\n    const onRegister = async () => {\n        if (validateAll()) {\n            BaseService.setStatusLoading(true);\n            let data: IUser = {\n                name: name || '',\n                address: address || '',\n                mail: mail || '',\n                phoneNumber: phoneNumber || '',\n                password: repeatPass || ''\n            }\n            let res = await sendRegister(data, 'https://60964612116f3f00174b2db6.mockapi.io/user');\n            if (res.status === 201) {\n                BaseService.setStatusLoading(false);\n                BaseService.pushNotify('success', 'Register successful !!!')\n                history.push('/home/list-user');\n            } else {\n                BaseService.pushNotify('error', 'Opp !!! Register error !!!')\n            }\n        } else {\n            BaseService.pushNotify('error', 'Please check again form register');\n        }\n    }\n\n\n    const formRegisterLeft = () => {\n\n        const showPass = (type: boolean) => {\n            return (\n                <div>\n                    {type ? <i className=\"far fa-eye\" onClick={() => setCheckPass(!checkPass)}/> :\n                        <i className=\"far fa-eye-slash\" onClick={() => setCheckPass(!checkPass)}/>}\n                </div>\n            )\n        }\n\n        return (\n            <div className={'form-register-left'}>\n                <div className={'form-title'}>Sign up</div>\n                <div className={'wrapper-input'}>\n\n                    <div>\n                        <div className={'wrapper-item'}>\n                            <i className=\"fas fa-user\" style={styleValidate((commonValidate(name, /^[a-zA-z\\s]{6,25}$/) || name === null), 'icon')}/>\n                            <input type=\"text\" placeholder={'Your Name'} onChange={(event) => setName(event.target.value)}/>\n                        </div>\n                        <small style={styleValidate((commonValidate(name, /^[a-zA-z\\s]{6,25}$/) || name === null), 'text')}>\n                            Your name must has 6-50 characters\n                        </small>\n                    </div>\n\n                    <div>\n                        <div className={'wrapper-item'}>\n                            <i className=\"fas fa-envelope\" style={(validateMail(mail) || mail === null) ? {} : {color: 'red'}}/>\n                            <input type=\"text\" placeholder={'Your Email'} onChange={(event) => setMail(event.target.value)}/>\n                        </div>\n                        <small style={(validateMail(mail) || mail === null) ? {} : {visibility: 'visible'}}>\n                            illegal\n                        </small>\n                    </div>\n\n                    <div>\n                        <div className={'wrapper-item'}>\n                            <i className=\"fas fa-map-marker-alt\"\n                               style={styleValidate(commonValidate(address, /^[a-zA-z\\d\\s]{6,50}$/) || address === null, 'icon')}/>\n                            <input type=\"text\" placeholder={'Your Address'} onChange={(event) => setAddress(event.target.value)}/>\n                        </div>\n                        <small style={styleValidate(commonValidate(address, /^[a-zA-z\\d\\s]{6,50}$/) || address === null, 'text')}>\n                            Your name must has 6-50 characters\n                        </small>\n                    </div>\n\n                    <div>\n                        <div className={'wrapper-item'}>\n                            <i className=\"fas fa-mobile-alt\"\n                               style={styleValidate(commonValidate(phoneNumber, /^[\\d]{10,10}$/) || phoneNumber === null, 'icon')}/>\n                            <input type=\"text\" placeholder={'Phone Number'} onChange={(event) => setPhoneNumber(event.target.value)}/>\n                        </div>\n                        <small style={styleValidate(commonValidate(phoneNumber, /^[\\d]{10,10}$/) || phoneNumber === null, 'text')}>\n                            Your name must has 6-50 characters\n                        </small>\n                    </div>\n\n                    <div>\n                        <div className={'wrapper-item'}>\n                            <i className=\"fas fa-lock\" style={styleValidate(commonValidate(pass, /^[\\w\\W]{6,}$/) || pass === null, 'icon')}/>\n                            {showPass(checkPass)}\n                            <input type={checkPass ? 'password' : 'text'} placeholder={'Password'} onChange={(event) => setPass(event.target.value)}/>\n                        </div>\n                        <small style={styleValidate(commonValidate(pass, /^[\\w\\W]{6,}$/) || pass === null, 'text')}>\n                            Your name must has 6-50 characters\n                        </small>\n                    </div>\n\n                    <div>\n                        <div className={'wrapper-item'}>\n                            <i className=\"fas fa-unlock\" style={styleValidate(((pass === repeatPass) || (repeatPass === null)), 'icon')}/>\n                            <input type='password' placeholder={'Repeat your password'} onChange={(event) => setRepeatPass(event.target.value)}/>\n                        </div>\n                        <small style={styleValidate(((pass === repeatPass) || (repeatPass === null)), 'text')}>\n                            Your name must has 6-50 characters\n                        </small>\n                    </div>\n\n                    <div style={{marginTop: 15}}>\n                        <ReCAPTCHA sitekey=\"6Ldb6foUAAAAANXRBMbMqlZowbdhvcg1NBJGx7OG\" onChange={(data) => {\n                            setCaptcha(data);\n                        }}/>\n                    </div>\n                    <button style={validateAll() ? {} : {cursor: 'not-allowed'}} disabled={!validateAll()} onClick={() => onRegister()}>Register</button>\n                </div>\n            </div>\n        )\n    }\n\n    const formRegisterRight = () => {\n        return (\n            <div className={'form-register-right'}>\n                <div className={'wrapper-img'} onClick={() => {\n                    fetch('https://fakestoreapi.com/users?page=1&limit=10')\n                        .then(res=>res.json())\n                        .then(json=>console.log(json))\n                }\n                }>\n                    <img src='https://colorlib.com/etc/regform/colorlib-regform-7/images/signup-image.jpg' alt='img'/>\n                </div>\n                <div className={'login-now'} style={{display: \"flex\", alignItems: \"center\"}} onClick={() => history.push('/login')}>\n                    <span style={{marginRight: 5}}>Login now</span>\n                    <i className=\"fas fa-long-arrow-alt-right\"/>\n                </div>\n            </div>\n        )\n    }\n    return (\n        <div className={'register'}>\n            <div className={'wrapper-form'}>\n                {formRegisterLeft()}\n                {formRegisterRight()}\n            </div>\n        </div>\n    )\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}