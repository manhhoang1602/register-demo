{"ast":null,"code":"import _toConsumableArray from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport React$1, { PureComponent, createRef } from 'react';\nimport { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport debounce$1 from 'lodash/debounce';\nimport { EventListener as EventListener$1 } from '../EventListener/EventListener.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { headerCell } from '../shared.js';\nimport { classNames } from '../../utilities/css.js';\nimport isEqual$1 from 'lodash/isEqual';\nimport styles from './DataTable.scss.js';\nimport { Cell as Cell$1 } from './components/Cell/Cell.js';\nimport { Navigation as Navigation$1 } from './components/Navigation/Navigation.js';\nimport { measureColumn, getPrevAndCurrentColumns } from './utilities.js';\n\nvar DataTableInner = /*#__PURE__*/function (_PureComponent) {\n  _inherits(DataTableInner, _PureComponent);\n\n  var _super = _createSuper(DataTableInner);\n\n  function DataTableInner() {\n    var _this;\n\n    _classCallCheck(this, DataTableInner);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      condensed: false,\n      columnVisibilityData: [],\n      isScrolledFarthestLeft: true,\n      isScrolledFarthestRight: false\n    };\n    _this.dataTable = /*#__PURE__*/createRef();\n    _this.scrollContainer = /*#__PURE__*/createRef();\n    _this.table = /*#__PURE__*/createRef();\n    _this.handleResize = debounce$1(function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          table = _assertThisInitialize.table.current,\n          scrollContainer = _assertThisInitialize.scrollContainer.current;\n\n      var condensed = false;\n\n      if (table && scrollContainer) {\n        condensed = table.scrollWidth > scrollContainer.clientWidth;\n      }\n\n      _this.setState(_objectSpread2({\n        condensed: condensed\n      }, _this.calculateColumnVisibilityData(condensed)));\n    });\n\n    _this.calculateColumnVisibilityData = function (condensed) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          table = _assertThisInitialize2.table.current,\n          scrollContainer = _assertThisInitialize2.scrollContainer.current,\n          dataTable = _assertThisInitialize2.dataTable.current;\n\n      if (condensed && table && scrollContainer && dataTable) {\n        var headerCells = table.querySelectorAll(headerCell.selector);\n\n        if (headerCells.length > 0) {\n          var firstVisibleColumnIndex = headerCells.length - 1;\n          var tableLeftVisibleEdge = scrollContainer.scrollLeft;\n          var tableRightVisibleEdge = scrollContainer.scrollLeft + dataTable.offsetWidth;\n          var tableData = {\n            firstVisibleColumnIndex: firstVisibleColumnIndex,\n            tableLeftVisibleEdge: tableLeftVisibleEdge,\n            tableRightVisibleEdge: tableRightVisibleEdge\n          };\n\n          var columnVisibilityData = _toConsumableArray(headerCells).map(measureColumn(tableData));\n\n          var lastColumn = columnVisibilityData[columnVisibilityData.length - 1];\n          return _objectSpread2(_objectSpread2({\n            columnVisibilityData: columnVisibilityData\n          }, getPrevAndCurrentColumns(tableData, columnVisibilityData)), {}, {\n            isScrolledFarthestLeft: tableLeftVisibleEdge === 0,\n            isScrolledFarthestRight: lastColumn.rightEdge <= tableRightVisibleEdge\n          });\n        }\n      }\n\n      return {\n        columnVisibilityData: [],\n        previousColumn: undefined,\n        currentColumn: undefined\n      };\n    };\n\n    _this.scrollListener = function () {\n      _this.setState(function (prevState) {\n        return _objectSpread2({}, _this.calculateColumnVisibilityData(prevState.condensed));\n      });\n    };\n\n    _this.navigateTable = function (direction) {\n      var _this$state = _this.state,\n          currentColumn = _this$state.currentColumn,\n          previousColumn = _this$state.previousColumn;\n      var scrollContainer = _this.scrollContainer.current;\n\n      var handleScroll = function handleScroll() {\n        if (!currentColumn || !previousColumn) {\n          return;\n        }\n\n        if (scrollContainer) {\n          scrollContainer.scrollLeft = direction === 'right' ? currentColumn.rightEdge : previousColumn.leftEdge;\n          requestAnimationFrame(function () {\n            _this.setState(function (prevState) {\n              return _objectSpread2({}, _this.calculateColumnVisibilityData(prevState.condensed));\n            });\n          });\n        }\n      };\n\n      return handleScroll;\n    };\n\n    _this.renderHeadings = function (heading, headingIndex) {\n      var _this$props = _this.props,\n          sortable = _this$props.sortable,\n          _this$props$truncate = _this$props.truncate,\n          truncate = _this$props$truncate === void 0 ? false : _this$props$truncate,\n          columnContentTypes = _this$props.columnContentTypes,\n          defaultSortDirection = _this$props.defaultSortDirection,\n          _this$props$initialSo = _this$props.initialSortColumnIndex,\n          initialSortColumnIndex = _this$props$initialSo === void 0 ? 0 : _this$props$initialSo,\n          verticalAlign = _this$props.verticalAlign;\n      var _this$state2 = _this.state,\n          _this$state2$sortDire = _this$state2.sortDirection,\n          sortDirection = _this$state2$sortDire === void 0 ? defaultSortDirection : _this$state2$sortDire,\n          _this$state2$sortedCo = _this$state2.sortedColumnIndex,\n          sortedColumnIndex = _this$state2$sortedCo === void 0 ? initialSortColumnIndex : _this$state2$sortedCo;\n      var sortableHeadingProps;\n      var id = \"heading-cell-\".concat(headingIndex);\n\n      if (sortable) {\n        var isSortable = sortable[headingIndex];\n        var isSorted = isSortable && sortedColumnIndex === headingIndex;\n        var direction = isSorted ? sortDirection : 'none';\n        sortableHeadingProps = {\n          defaultSortDirection: defaultSortDirection,\n          sorted: isSorted,\n          sortable: isSortable,\n          sortDirection: direction,\n          onSort: _this.defaultOnSort(headingIndex)\n        };\n      }\n\n      return /*#__PURE__*/React$1.createElement(Cell$1, Object.assign({\n        header: true,\n        key: id,\n        content: heading,\n        contentType: columnContentTypes[headingIndex],\n        firstColumn: headingIndex === 0,\n        truncate: truncate\n      }, sortableHeadingProps, {\n        verticalAlign: verticalAlign\n      }));\n    };\n\n    _this.totalsRowHeading = function () {\n      var _this$props2 = _this.props,\n          i18n = _this$props2.i18n,\n          totals = _this$props2.totals,\n          totalsName = _this$props2.totalsName;\n      var totalsLabel = totalsName ? totalsName : {\n        singular: i18n.translate('Polaris.DataTable.totalRowHeading'),\n        plural: i18n.translate('Polaris.DataTable.totalsRowHeading')\n      };\n      return totals && totals.filter(function (total) {\n        return total !== '';\n      }).length > 1 ? totalsLabel.plural : totalsLabel.singular;\n    };\n\n    _this.renderTotals = function (total, index) {\n      var id = \"totals-cell-\".concat(index);\n      var _this$props3 = _this.props,\n          _this$props3$truncate = _this$props3.truncate,\n          truncate = _this$props3$truncate === void 0 ? false : _this$props3$truncate,\n          verticalAlign = _this$props3.verticalAlign;\n      var content;\n      var contentType;\n\n      if (index === 0) {\n        content = _this.totalsRowHeading();\n      }\n\n      if (total !== '' && index > 0) {\n        contentType = 'numeric';\n        content = total;\n      }\n\n      var totalInFooter = _this.props.showTotalsInFooter;\n      return /*#__PURE__*/React$1.createElement(Cell$1, {\n        total: true,\n        totalInFooter: totalInFooter,\n        firstColumn: index === 0,\n        key: id,\n        content: content,\n        contentType: contentType,\n        truncate: truncate,\n        verticalAlign: verticalAlign\n      });\n    };\n\n    _this.getColSpan = function (rowLength, headingsLength, contentTypesLength, cellIndex) {\n      var rowLen = rowLength ? rowLength : 1;\n      var colLen = headingsLength ? headingsLength : contentTypesLength;\n      var colSpan = Math.floor(colLen / rowLen);\n      var remainder = colLen % rowLen;\n      return cellIndex === 0 ? colSpan + remainder : colSpan;\n    };\n\n    _this.defaultRenderRow = function (row, index) {\n      var _this$props4 = _this.props,\n          columnContentTypes = _this$props4.columnContentTypes,\n          _this$props4$truncate = _this$props4.truncate,\n          truncate = _this$props4$truncate === void 0 ? false : _this$props4$truncate,\n          verticalAlign = _this$props4.verticalAlign,\n          _this$props4$hoverabl = _this$props4.hoverable,\n          hoverable = _this$props4$hoverabl === void 0 ? true : _this$props4$hoverabl,\n          headings = _this$props4.headings;\n      var className = classNames(styles.TableRow, hoverable && styles.hoverable);\n      return /*#__PURE__*/React$1.createElement(\"tr\", {\n        key: \"row-\".concat(index),\n        className: className\n      }, row.map(function (content, cellIndex) {\n        var id = \"cell-\".concat(cellIndex, \"-row-\").concat(index);\n\n        var colSpan = _this.getColSpan(row.length, headings.length, columnContentTypes.length, cellIndex);\n\n        return /*#__PURE__*/React$1.createElement(Cell$1, {\n          key: id,\n          content: content,\n          contentType: columnContentTypes[cellIndex],\n          firstColumn: cellIndex === 0,\n          truncate: truncate,\n          verticalAlign: verticalAlign,\n          colSpan: colSpan\n        });\n      }));\n    };\n\n    _this.defaultOnSort = function (headingIndex) {\n      var _this$props5 = _this.props,\n          onSort = _this$props5.onSort,\n          _this$props5$defaultS = _this$props5.defaultSortDirection,\n          defaultSortDirection = _this$props5$defaultS === void 0 ? 'ascending' : _this$props5$defaultS,\n          initialSortColumnIndex = _this$props5.initialSortColumnIndex;\n      var _this$state3 = _this.state,\n          _this$state3$sortDire = _this$state3.sortDirection,\n          sortDirection = _this$state3$sortDire === void 0 ? defaultSortDirection : _this$state3$sortDire,\n          _this$state3$sortedCo = _this$state3.sortedColumnIndex,\n          sortedColumnIndex = _this$state3$sortedCo === void 0 ? initialSortColumnIndex : _this$state3$sortedCo;\n      var newSortDirection = defaultSortDirection;\n\n      if (sortedColumnIndex === headingIndex) {\n        newSortDirection = sortDirection === 'ascending' ? 'descending' : 'ascending';\n      }\n\n      var handleSort = function handleSort() {\n        _this.setState({\n          sortDirection: newSortDirection,\n          sortedColumnIndex: headingIndex\n        }, function () {\n          if (onSort) {\n            onSort(headingIndex, newSortDirection);\n          }\n        });\n      };\n\n      return handleSort;\n    };\n\n    return _this;\n  }\n\n  _createClass(DataTableInner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // We need to defer the calculation in development so the styles have time to be injected.\n      if (process.env.NODE_ENV === 'development') {\n        setTimeout(function () {\n          _this2.handleResize();\n        }, 10);\n      } else {\n        this.handleResize();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (isEqual$1(prevProps, this.props)) {\n        return;\n      }\n\n      this.handleResize();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          headings = _this$props6.headings,\n          totals = _this$props6.totals,\n          showTotalsInFooter = _this$props6.showTotalsInFooter,\n          rows = _this$props6.rows,\n          footerContent = _this$props6.footerContent,\n          _this$props6$hideScro = _this$props6.hideScrollIndicator,\n          hideScrollIndicator = _this$props6$hideScro === void 0 ? false : _this$props6$hideScro;\n      var _this$state4 = this.state,\n          condensed = _this$state4.condensed,\n          columnVisibilityData = _this$state4.columnVisibilityData,\n          isScrolledFarthestLeft = _this$state4.isScrolledFarthestLeft,\n          isScrolledFarthestRight = _this$state4.isScrolledFarthestRight;\n      var className = classNames(styles.DataTable, condensed && styles.condensed);\n      var wrapperClassName = classNames(styles.TableWrapper, condensed && styles.condensed);\n      var headingMarkup = /*#__PURE__*/React$1.createElement(\"tr\", null, headings.map(this.renderHeadings));\n      var totalsMarkup = totals ? /*#__PURE__*/React$1.createElement(\"tr\", null, totals.map(this.renderTotals)) : null;\n      var bodyMarkup = rows.map(this.defaultRenderRow);\n      var footerMarkup = footerContent ? /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Footer\n      }, footerContent) : null;\n      var headerTotalsMarkup = !showTotalsInFooter ? totalsMarkup : null;\n      var footerTotalsMarkup = showTotalsInFooter ? /*#__PURE__*/React$1.createElement(\"tfoot\", null, totalsMarkup) : null;\n      var navigationMarkup = hideScrollIndicator ? null : /*#__PURE__*/React$1.createElement(Navigation$1, {\n        columnVisibilityData: columnVisibilityData,\n        isScrolledFarthestLeft: isScrolledFarthestLeft,\n        isScrolledFarthestRight: isScrolledFarthestRight,\n        navigateTableLeft: this.navigateTable('left'),\n        navigateTableRight: this.navigateTable('right')\n      });\n      return /*#__PURE__*/React$1.createElement(\"div\", {\n        className: wrapperClassName\n      }, navigationMarkup, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: className,\n        ref: this.dataTable\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.ScrollContainer,\n        ref: this.scrollContainer\n      }, /*#__PURE__*/React$1.createElement(EventListener$1, {\n        event: \"resize\",\n        handler: this.handleResize\n      }), /*#__PURE__*/React$1.createElement(EventListener$1, {\n        capture: true,\n        event: \"scroll\",\n        handler: this.scrollListener\n      }), /*#__PURE__*/React$1.createElement(\"table\", {\n        className: styles.Table,\n        ref: this.table\n      }, /*#__PURE__*/React$1.createElement(\"thead\", null, headingMarkup, headerTotalsMarkup), /*#__PURE__*/React$1.createElement(\"tbody\", null, bodyMarkup), footerTotalsMarkup)), footerMarkup));\n    }\n  }]);\n\n  return DataTableInner;\n}(PureComponent);\n\nfunction DataTable(props) {\n  var i18n = useI18n();\n  return /*#__PURE__*/React$1.createElement(DataTableInner, Object.assign({}, props, {\n    i18n: i18n\n  }));\n}\n\nexport { DataTable };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/DataTable/DataTable.js"],"names":["React$1","PureComponent","createRef","objectSpread2","_objectSpread2","debounce$1","EventListener","EventListener$1","useI18n","headerCell","classNames","isEqual$1","styles","Cell","Cell$1","Navigation","Navigation$1","measureColumn","getPrevAndCurrentColumns","DataTableInner","args","state","condensed","columnVisibilityData","isScrolledFarthestLeft","isScrolledFarthestRight","dataTable","scrollContainer","table","handleResize","current","scrollWidth","clientWidth","setState","calculateColumnVisibilityData","headerCells","querySelectorAll","selector","length","firstVisibleColumnIndex","tableLeftVisibleEdge","scrollLeft","tableRightVisibleEdge","offsetWidth","tableData","map","lastColumn","rightEdge","previousColumn","undefined","currentColumn","scrollListener","prevState","navigateTable","direction","handleScroll","leftEdge","requestAnimationFrame","renderHeadings","heading","headingIndex","props","sortable","truncate","columnContentTypes","defaultSortDirection","initialSortColumnIndex","verticalAlign","sortDirection","sortedColumnIndex","sortableHeadingProps","id","isSortable","isSorted","sorted","onSort","defaultOnSort","createElement","Object","assign","header","key","content","contentType","firstColumn","totalsRowHeading","i18n","totals","totalsName","totalsLabel","singular","translate","plural","filter","total","renderTotals","index","totalInFooter","showTotalsInFooter","getColSpan","rowLength","headingsLength","contentTypesLength","cellIndex","rowLen","colLen","colSpan","Math","floor","remainder","defaultRenderRow","row","hoverable","headings","className","TableRow","newSortDirection","handleSort","process","env","NODE_ENV","setTimeout","prevProps","rows","footerContent","hideScrollIndicator","DataTable","wrapperClassName","TableWrapper","headingMarkup","totalsMarkup","bodyMarkup","footerMarkup","Footer","headerTotalsMarkup","footerTotalsMarkup","navigationMarkup","navigateTableLeft","navigateTableRight","ref","ScrollContainer","event","handler","capture","Table"],"mappings":"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","sourcesContent":["import React$1, { PureComponent, createRef } from 'react';\nimport { objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport debounce$1 from 'lodash/debounce';\nimport { EventListener as EventListener$1 } from '../EventListener/EventListener.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { headerCell } from '../shared.js';\nimport { classNames } from '../../utilities/css.js';\nimport isEqual$1 from 'lodash/isEqual';\nimport styles from './DataTable.scss.js';\nimport { Cell as Cell$1 } from './components/Cell/Cell.js';\nimport { Navigation as Navigation$1 } from './components/Navigation/Navigation.js';\nimport { measureColumn, getPrevAndCurrentColumns } from './utilities.js';\n\nclass DataTableInner extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      condensed: false,\n      columnVisibilityData: [],\n      isScrolledFarthestLeft: true,\n      isScrolledFarthestRight: false\n    };\n    this.dataTable = /*#__PURE__*/createRef();\n    this.scrollContainer = /*#__PURE__*/createRef();\n    this.table = /*#__PURE__*/createRef();\n    this.handleResize = debounce$1(() => {\n      const {\n        table: {\n          current: table\n        },\n        scrollContainer: {\n          current: scrollContainer\n        }\n      } = this;\n      let condensed = false;\n\n      if (table && scrollContainer) {\n        condensed = table.scrollWidth > scrollContainer.clientWidth;\n      }\n\n      this.setState(_objectSpread2({\n        condensed\n      }, this.calculateColumnVisibilityData(condensed)));\n    });\n\n    this.calculateColumnVisibilityData = condensed => {\n      const {\n        table: {\n          current: table\n        },\n        scrollContainer: {\n          current: scrollContainer\n        },\n        dataTable: {\n          current: dataTable\n        }\n      } = this;\n\n      if (condensed && table && scrollContainer && dataTable) {\n        const headerCells = table.querySelectorAll(headerCell.selector);\n\n        if (headerCells.length > 0) {\n          const firstVisibleColumnIndex = headerCells.length - 1;\n          const tableLeftVisibleEdge = scrollContainer.scrollLeft;\n          const tableRightVisibleEdge = scrollContainer.scrollLeft + dataTable.offsetWidth;\n          const tableData = {\n            firstVisibleColumnIndex,\n            tableLeftVisibleEdge,\n            tableRightVisibleEdge\n          };\n          const columnVisibilityData = [...headerCells].map(measureColumn(tableData));\n          const lastColumn = columnVisibilityData[columnVisibilityData.length - 1];\n          return _objectSpread2(_objectSpread2({\n            columnVisibilityData\n          }, getPrevAndCurrentColumns(tableData, columnVisibilityData)), {}, {\n            isScrolledFarthestLeft: tableLeftVisibleEdge === 0,\n            isScrolledFarthestRight: lastColumn.rightEdge <= tableRightVisibleEdge\n          });\n        }\n      }\n\n      return {\n        columnVisibilityData: [],\n        previousColumn: undefined,\n        currentColumn: undefined\n      };\n    };\n\n    this.scrollListener = () => {\n      this.setState(prevState => _objectSpread2({}, this.calculateColumnVisibilityData(prevState.condensed)));\n    };\n\n    this.navigateTable = direction => {\n      const {\n        currentColumn,\n        previousColumn\n      } = this.state;\n      const {\n        current: scrollContainer\n      } = this.scrollContainer;\n\n      const handleScroll = () => {\n        if (!currentColumn || !previousColumn) {\n          return;\n        }\n\n        if (scrollContainer) {\n          scrollContainer.scrollLeft = direction === 'right' ? currentColumn.rightEdge : previousColumn.leftEdge;\n          requestAnimationFrame(() => {\n            this.setState(prevState => _objectSpread2({}, this.calculateColumnVisibilityData(prevState.condensed)));\n          });\n        }\n      };\n\n      return handleScroll;\n    };\n\n    this.renderHeadings = (heading, headingIndex) => {\n      const {\n        sortable,\n        truncate = false,\n        columnContentTypes,\n        defaultSortDirection,\n        initialSortColumnIndex = 0,\n        verticalAlign\n      } = this.props;\n      const {\n        sortDirection = defaultSortDirection,\n        sortedColumnIndex = initialSortColumnIndex\n      } = this.state;\n      let sortableHeadingProps;\n      const id = `heading-cell-${headingIndex}`;\n\n      if (sortable) {\n        const isSortable = sortable[headingIndex];\n        const isSorted = isSortable && sortedColumnIndex === headingIndex;\n        const direction = isSorted ? sortDirection : 'none';\n        sortableHeadingProps = {\n          defaultSortDirection,\n          sorted: isSorted,\n          sortable: isSortable,\n          sortDirection: direction,\n          onSort: this.defaultOnSort(headingIndex)\n        };\n      }\n\n      return /*#__PURE__*/React$1.createElement(Cell$1, Object.assign({\n        header: true,\n        key: id,\n        content: heading,\n        contentType: columnContentTypes[headingIndex],\n        firstColumn: headingIndex === 0,\n        truncate: truncate\n      }, sortableHeadingProps, {\n        verticalAlign: verticalAlign\n      }));\n    };\n\n    this.totalsRowHeading = () => {\n      const {\n        i18n,\n        totals,\n        totalsName\n      } = this.props;\n      const totalsLabel = totalsName ? totalsName : {\n        singular: i18n.translate('Polaris.DataTable.totalRowHeading'),\n        plural: i18n.translate('Polaris.DataTable.totalsRowHeading')\n      };\n      return totals && totals.filter(total => total !== '').length > 1 ? totalsLabel.plural : totalsLabel.singular;\n    };\n\n    this.renderTotals = (total, index) => {\n      const id = `totals-cell-${index}`;\n      const {\n        truncate = false,\n        verticalAlign\n      } = this.props;\n      let content;\n      let contentType;\n\n      if (index === 0) {\n        content = this.totalsRowHeading();\n      }\n\n      if (total !== '' && index > 0) {\n        contentType = 'numeric';\n        content = total;\n      }\n\n      const totalInFooter = this.props.showTotalsInFooter;\n      return /*#__PURE__*/React$1.createElement(Cell$1, {\n        total: true,\n        totalInFooter: totalInFooter,\n        firstColumn: index === 0,\n        key: id,\n        content: content,\n        contentType: contentType,\n        truncate: truncate,\n        verticalAlign: verticalAlign\n      });\n    };\n\n    this.getColSpan = (rowLength, headingsLength, contentTypesLength, cellIndex) => {\n      const rowLen = rowLength ? rowLength : 1;\n      const colLen = headingsLength ? headingsLength : contentTypesLength;\n      const colSpan = Math.floor(colLen / rowLen);\n      const remainder = colLen % rowLen;\n      return cellIndex === 0 ? colSpan + remainder : colSpan;\n    };\n\n    this.defaultRenderRow = (row, index) => {\n      const {\n        columnContentTypes,\n        truncate = false,\n        verticalAlign,\n        hoverable = true,\n        headings\n      } = this.props;\n      const className = classNames(styles.TableRow, hoverable && styles.hoverable);\n      return /*#__PURE__*/React$1.createElement(\"tr\", {\n        key: `row-${index}`,\n        className: className\n      }, row.map((content, cellIndex) => {\n        const id = `cell-${cellIndex}-row-${index}`;\n        const colSpan = this.getColSpan(row.length, headings.length, columnContentTypes.length, cellIndex);\n        return /*#__PURE__*/React$1.createElement(Cell$1, {\n          key: id,\n          content: content,\n          contentType: columnContentTypes[cellIndex],\n          firstColumn: cellIndex === 0,\n          truncate: truncate,\n          verticalAlign: verticalAlign,\n          colSpan: colSpan\n        });\n      }));\n    };\n\n    this.defaultOnSort = headingIndex => {\n      const {\n        onSort,\n        defaultSortDirection = 'ascending',\n        initialSortColumnIndex\n      } = this.props;\n      const {\n        sortDirection = defaultSortDirection,\n        sortedColumnIndex = initialSortColumnIndex\n      } = this.state;\n      let newSortDirection = defaultSortDirection;\n\n      if (sortedColumnIndex === headingIndex) {\n        newSortDirection = sortDirection === 'ascending' ? 'descending' : 'ascending';\n      }\n\n      const handleSort = () => {\n        this.setState({\n          sortDirection: newSortDirection,\n          sortedColumnIndex: headingIndex\n        }, () => {\n          if (onSort) {\n            onSort(headingIndex, newSortDirection);\n          }\n        });\n      };\n\n      return handleSort;\n    };\n  }\n\n  componentDidMount() {\n    // We need to defer the calculation in development so the styles have time to be injected.\n    if (process.env.NODE_ENV === 'development') {\n      setTimeout(() => {\n        this.handleResize();\n      }, 10);\n    } else {\n      this.handleResize();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (isEqual$1(prevProps, this.props)) {\n      return;\n    }\n\n    this.handleResize();\n  }\n\n  render() {\n    const {\n      headings,\n      totals,\n      showTotalsInFooter,\n      rows,\n      footerContent,\n      hideScrollIndicator = false\n    } = this.props;\n    const {\n      condensed,\n      columnVisibilityData,\n      isScrolledFarthestLeft,\n      isScrolledFarthestRight\n    } = this.state;\n    const className = classNames(styles.DataTable, condensed && styles.condensed);\n    const wrapperClassName = classNames(styles.TableWrapper, condensed && styles.condensed);\n    const headingMarkup = /*#__PURE__*/React$1.createElement(\"tr\", null, headings.map(this.renderHeadings));\n    const totalsMarkup = totals ? /*#__PURE__*/React$1.createElement(\"tr\", null, totals.map(this.renderTotals)) : null;\n    const bodyMarkup = rows.map(this.defaultRenderRow);\n    const footerMarkup = footerContent ? /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Footer\n    }, footerContent) : null;\n    const headerTotalsMarkup = !showTotalsInFooter ? totalsMarkup : null;\n    const footerTotalsMarkup = showTotalsInFooter ? /*#__PURE__*/React$1.createElement(\"tfoot\", null, totalsMarkup) : null;\n    const navigationMarkup = hideScrollIndicator ? null : /*#__PURE__*/React$1.createElement(Navigation$1, {\n      columnVisibilityData: columnVisibilityData,\n      isScrolledFarthestLeft: isScrolledFarthestLeft,\n      isScrolledFarthestRight: isScrolledFarthestRight,\n      navigateTableLeft: this.navigateTable('left'),\n      navigateTableRight: this.navigateTable('right')\n    });\n    return /*#__PURE__*/React$1.createElement(\"div\", {\n      className: wrapperClassName\n    }, navigationMarkup, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: className,\n      ref: this.dataTable\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.ScrollContainer,\n      ref: this.scrollContainer\n    }, /*#__PURE__*/React$1.createElement(EventListener$1, {\n      event: \"resize\",\n      handler: this.handleResize\n    }), /*#__PURE__*/React$1.createElement(EventListener$1, {\n      capture: true,\n      event: \"scroll\",\n      handler: this.scrollListener\n    }), /*#__PURE__*/React$1.createElement(\"table\", {\n      className: styles.Table,\n      ref: this.table\n    }, /*#__PURE__*/React$1.createElement(\"thead\", null, headingMarkup, headerTotalsMarkup), /*#__PURE__*/React$1.createElement(\"tbody\", null, bodyMarkup), footerTotalsMarkup)), footerMarkup));\n  }\n\n}\n\nfunction DataTable(props) {\n  const i18n = useI18n();\n  return /*#__PURE__*/React$1.createElement(DataTableInner, Object.assign({}, props, {\n    i18n: i18n\n  }));\n}\n\nexport { DataTable };\n"]},"metadata":{},"sourceType":"module"}