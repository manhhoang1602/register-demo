{"ast":null,"code":"import _slicedToArray from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React$1, { forwardRef, useContext, useRef, useState, useImperativeHandle } from 'react';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { CancelSmallMinor, CircleInformationMajor, DiamondAlertMajor, CircleAlertMajor, CircleTickMajor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { UnstyledLink as UnstyledLink$1 } from '../UnstyledLink/UnstyledLink.js';\nimport { UnstyledButton as UnstyledButton$1 } from '../UnstyledButton/UnstyledButton.js';\nimport { unstyledButtonFrom } from '../UnstyledButton/utils.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport { ButtonGroup as ButtonGroup$1 } from '../ButtonGroup/ButtonGroup.js';\nimport { Heading as Heading$1 } from '../Heading/Heading.js';\nimport { BannerContext } from '../../utilities/banner-context.js';\nimport styles from './Banner.scss.js';\nvar Banner = /*#__PURE__*/forwardRef(function Banner(_ref, bannerRef) {\n  var icon = _ref.icon,\n      action = _ref.action,\n      secondaryAction = _ref.secondaryAction,\n      title = _ref.title,\n      children = _ref.children,\n      status = _ref.status,\n      onDismiss = _ref.onDismiss,\n      stopAnnouncements = _ref.stopAnnouncements;\n  var withinContentContainer = useContext(WithinContentContext);\n  var id = useUniqueId('Banner');\n\n  var _useBannerFocus = useBannerFocus(bannerRef),\n      wrapperRef = _useBannerFocus.wrapperRef,\n      handleKeyUp = _useBannerFocus.handleKeyUp,\n      handleBlur = _useBannerFocus.handleBlur,\n      handleMouseUp = _useBannerFocus.handleMouseUp,\n      shouldShowFocus = _useBannerFocus.shouldShowFocus;\n\n  var _useBannerAttributes = useBannerAttributes(status),\n      defaultIcon = _useBannerAttributes.defaultIcon,\n      iconColor = _useBannerAttributes.iconColor,\n      ariaRoleType = _useBannerAttributes.ariaRoleType;\n\n  var iconName = icon || defaultIcon;\n  var className = classNames(styles.Banner, status && styles[variationName('status', status)], onDismiss && styles.hasDismiss, shouldShowFocus && styles.keyFocused, withinContentContainer ? styles.withinContentContainer : styles.withinPage);\n  var headingMarkup = null;\n  var headingID;\n\n  if (title) {\n    headingID = \"\".concat(id, \"Heading\");\n    headingMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Heading,\n      id: headingID\n    }, /*#__PURE__*/React$1.createElement(Heading$1, {\n      element: \"p\"\n    }, title));\n  }\n\n  var primaryActionMarkup = action ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.PrimaryAction\n  }, unstyledButtonFrom(action, {\n    className: styles.Button\n  })) : null;\n  var secondaryActionMarkup = secondaryAction ? /*#__PURE__*/React$1.createElement(SecondaryActionFrom, {\n    action: secondaryAction\n  }) : null;\n  var actionMarkup = action || secondaryAction ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Actions\n  }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, null, primaryActionMarkup, secondaryActionMarkup)) : null;\n  var contentMarkup = null;\n  var contentID;\n\n  if (children || actionMarkup) {\n    contentID = \"\".concat(id, \"Content\");\n    contentMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Content,\n      id: contentID\n    }, children, actionMarkup);\n  }\n\n  var dismissButton = onDismiss && /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Dismiss\n  }, /*#__PURE__*/React$1.createElement(Button$1, {\n    plain: true,\n    icon: CancelSmallMinor,\n    onClick: onDismiss,\n    accessibilityLabel: \"Dismiss notification\"\n  }));\n  return /*#__PURE__*/React$1.createElement(BannerContext.Provider, {\n    value: true\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    ,\n    tabIndex: 0,\n    ref: wrapperRef,\n    role: ariaRoleType,\n    \"aria-live\": stopAnnouncements ? 'off' : 'polite',\n    onMouseUp: handleMouseUp,\n    onKeyUp: handleKeyUp,\n    onBlur: handleBlur,\n    \"aria-labelledby\": headingID,\n    \"aria-describedby\": contentID\n  }, dismissButton, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Ribbon\n  }, /*#__PURE__*/React$1.createElement(Icon$1, {\n    source: iconName,\n    color: iconColor\n  })), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ContentWrapper\n  }, headingMarkup, contentMarkup)));\n});\n\nfunction SecondaryActionFrom(_ref2) {\n  var action = _ref2.action;\n\n  if (action.url) {\n    return /*#__PURE__*/React$1.createElement(UnstyledLink$1, {\n      className: styles.SecondaryAction,\n      url: action.url,\n      external: action.external\n    }, /*#__PURE__*/React$1.createElement(\"span\", {\n      className: styles.Text\n    }, action.content));\n  }\n\n  return /*#__PURE__*/React$1.createElement(UnstyledButton$1, {\n    className: styles.SecondaryAction,\n    onClick: action.onAction\n  }, /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Text\n  }, action.content));\n}\n\nfunction useBannerAttributes(status) {\n  switch (status) {\n    case 'success':\n      return {\n        defaultIcon: CircleTickMajor,\n        iconColor: 'success',\n        ariaRoleType: 'status'\n      };\n\n    case 'info':\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: 'highlight',\n        ariaRoleType: 'status'\n      };\n\n    case 'warning':\n      return {\n        defaultIcon: CircleAlertMajor,\n        iconColor: 'warning',\n        ariaRoleType: 'alert'\n      };\n\n    case 'critical':\n      return {\n        defaultIcon: DiamondAlertMajor,\n        iconColor: 'critical',\n        ariaRoleType: 'alert'\n      };\n\n    default:\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: 'base',\n        ariaRoleType: 'status'\n      };\n  }\n}\n\nfunction useBannerFocus(bannerRef) {\n  var wrapperRef = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      shouldShowFocus = _useState2[0],\n      setShouldShowFocus = _useState2[1];\n\n  useImperativeHandle(bannerRef, function () {\n    return {\n      focus: function focus() {\n        var _wrapperRef$current;\n\n        (_wrapperRef$current = wrapperRef.current) == null ? void 0 : _wrapperRef$current.focus();\n        setShouldShowFocus(true);\n      }\n    };\n  }, []);\n\n  var handleKeyUp = function handleKeyUp(event) {\n    if (event.target === wrapperRef.current) {\n      setShouldShowFocus(true);\n    }\n  };\n\n  var handleBlur = function handleBlur() {\n    return setShouldShowFocus(false);\n  };\n\n  var handleMouseUp = function handleMouseUp(event) {\n    event.currentTarget.blur();\n    setShouldShowFocus(false);\n  };\n\n  return {\n    wrapperRef: wrapperRef,\n    handleKeyUp: handleKeyUp,\n    handleBlur: handleBlur,\n    handleMouseUp: handleMouseUp,\n    shouldShowFocus: shouldShowFocus\n  };\n}\n\nexport { Banner };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/Banner/Banner.js"],"names":["React$1","forwardRef","useContext","useRef","useState","useImperativeHandle","useUniqueId","classNames","variationName","CancelSmallMinor","CircleInformationMajor","DiamondAlertMajor","CircleAlertMajor","CircleTickMajor","Icon","Icon$1","UnstyledLink","UnstyledLink$1","UnstyledButton","UnstyledButton$1","unstyledButtonFrom","Button","Button$1","WithinContentContext","ButtonGroup","ButtonGroup$1","Heading","Heading$1","BannerContext","styles","Banner","bannerRef","icon","action","secondaryAction","title","children","status","onDismiss","stopAnnouncements","withinContentContainer","id","useBannerFocus","wrapperRef","handleKeyUp","handleBlur","handleMouseUp","shouldShowFocus","useBannerAttributes","defaultIcon","iconColor","ariaRoleType","iconName","className","hasDismiss","keyFocused","withinPage","headingMarkup","headingID","createElement","element","primaryActionMarkup","PrimaryAction","secondaryActionMarkup","SecondaryActionFrom","actionMarkup","Actions","contentMarkup","contentID","Content","dismissButton","Dismiss","plain","onClick","accessibilityLabel","Provider","value","tabIndex","ref","role","onMouseUp","onKeyUp","onBlur","Ribbon","source","color","ContentWrapper","url","SecondaryAction","external","Text","content","onAction","setShouldShowFocus","focus","_wrapperRef$current","current","event","target","currentTarget","blur"],"mappings":"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","sourcesContent":["import React$1, { forwardRef, useContext, useRef, useState, useImperativeHandle } from 'react';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { CancelSmallMinor, CircleInformationMajor, DiamondAlertMajor, CircleAlertMajor, CircleTickMajor } from '@shopify/polaris-icons';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { UnstyledLink as UnstyledLink$1 } from '../UnstyledLink/UnstyledLink.js';\nimport { UnstyledButton as UnstyledButton$1 } from '../UnstyledButton/UnstyledButton.js';\nimport { unstyledButtonFrom } from '../UnstyledButton/utils.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport { ButtonGroup as ButtonGroup$1 } from '../ButtonGroup/ButtonGroup.js';\nimport { Heading as Heading$1 } from '../Heading/Heading.js';\nimport { BannerContext } from '../../utilities/banner-context.js';\nimport styles from './Banner.scss.js';\n\nconst Banner = /*#__PURE__*/forwardRef(function Banner({\n  icon,\n  action,\n  secondaryAction,\n  title,\n  children,\n  status,\n  onDismiss,\n  stopAnnouncements\n}, bannerRef) {\n  const withinContentContainer = useContext(WithinContentContext);\n  const id = useUniqueId('Banner');\n  const {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  } = useBannerFocus(bannerRef);\n  const {\n    defaultIcon,\n    iconColor,\n    ariaRoleType\n  } = useBannerAttributes(status);\n  const iconName = icon || defaultIcon;\n  const className = classNames(styles.Banner, status && styles[variationName('status', status)], onDismiss && styles.hasDismiss, shouldShowFocus && styles.keyFocused, withinContentContainer ? styles.withinContentContainer : styles.withinPage);\n  let headingMarkup = null;\n  let headingID;\n\n  if (title) {\n    headingID = `${id}Heading`;\n    headingMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Heading,\n      id: headingID\n    }, /*#__PURE__*/React$1.createElement(Heading$1, {\n      element: \"p\"\n    }, title));\n  }\n\n  const primaryActionMarkup = action ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.PrimaryAction\n  }, unstyledButtonFrom(action, {\n    className: styles.Button\n  })) : null;\n  const secondaryActionMarkup = secondaryAction ? /*#__PURE__*/React$1.createElement(SecondaryActionFrom, {\n    action: secondaryAction\n  }) : null;\n  const actionMarkup = action || secondaryAction ? /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Actions\n  }, /*#__PURE__*/React$1.createElement(ButtonGroup$1, null, primaryActionMarkup, secondaryActionMarkup)) : null;\n  let contentMarkup = null;\n  let contentID;\n\n  if (children || actionMarkup) {\n    contentID = `${id}Content`;\n    contentMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Content,\n      id: contentID\n    }, children, actionMarkup);\n  }\n\n  const dismissButton = onDismiss && /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Dismiss\n  }, /*#__PURE__*/React$1.createElement(Button$1, {\n    plain: true,\n    icon: CancelSmallMinor,\n    onClick: onDismiss,\n    accessibilityLabel: \"Dismiss notification\"\n  }));\n  return /*#__PURE__*/React$1.createElement(BannerContext.Provider, {\n    value: true\n  }, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: className // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    ,\n    tabIndex: 0,\n    ref: wrapperRef,\n    role: ariaRoleType,\n    \"aria-live\": stopAnnouncements ? 'off' : 'polite',\n    onMouseUp: handleMouseUp,\n    onKeyUp: handleKeyUp,\n    onBlur: handleBlur,\n    \"aria-labelledby\": headingID,\n    \"aria-describedby\": contentID\n  }, dismissButton, /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.Ribbon\n  }, /*#__PURE__*/React$1.createElement(Icon$1, {\n    source: iconName,\n    color: iconColor\n  })), /*#__PURE__*/React$1.createElement(\"div\", {\n    className: styles.ContentWrapper\n  }, headingMarkup, contentMarkup)));\n});\n\nfunction SecondaryActionFrom({\n  action\n}) {\n  if (action.url) {\n    return /*#__PURE__*/React$1.createElement(UnstyledLink$1, {\n      className: styles.SecondaryAction,\n      url: action.url,\n      external: action.external\n    }, /*#__PURE__*/React$1.createElement(\"span\", {\n      className: styles.Text\n    }, action.content));\n  }\n\n  return /*#__PURE__*/React$1.createElement(UnstyledButton$1, {\n    className: styles.SecondaryAction,\n    onClick: action.onAction\n  }, /*#__PURE__*/React$1.createElement(\"span\", {\n    className: styles.Text\n  }, action.content));\n}\n\nfunction useBannerAttributes(status) {\n  switch (status) {\n    case 'success':\n      return {\n        defaultIcon: CircleTickMajor,\n        iconColor: 'success',\n        ariaRoleType: 'status'\n      };\n\n    case 'info':\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: 'highlight',\n        ariaRoleType: 'status'\n      };\n\n    case 'warning':\n      return {\n        defaultIcon: CircleAlertMajor,\n        iconColor: 'warning',\n        ariaRoleType: 'alert'\n      };\n\n    case 'critical':\n      return {\n        defaultIcon: DiamondAlertMajor,\n        iconColor: 'critical',\n        ariaRoleType: 'alert'\n      };\n\n    default:\n      return {\n        defaultIcon: CircleInformationMajor,\n        iconColor: 'base',\n        ariaRoleType: 'status'\n      };\n  }\n}\n\nfunction useBannerFocus(bannerRef) {\n  const wrapperRef = useRef(null);\n  const [shouldShowFocus, setShouldShowFocus] = useState(false);\n  useImperativeHandle(bannerRef, () => ({\n    focus: () => {\n      var _wrapperRef$current;\n\n      (_wrapperRef$current = wrapperRef.current) == null ? void 0 : _wrapperRef$current.focus();\n      setShouldShowFocus(true);\n    }\n  }), []);\n\n  const handleKeyUp = event => {\n    if (event.target === wrapperRef.current) {\n      setShouldShowFocus(true);\n    }\n  };\n\n  const handleBlur = () => setShouldShowFocus(false);\n\n  const handleMouseUp = event => {\n    event.currentTarget.blur();\n    setShouldShowFocus(false);\n  };\n\n  return {\n    wrapperRef,\n    handleKeyUp,\n    handleBlur,\n    handleMouseUp,\n    shouldShowFocus\n  };\n}\n\nexport { Banner };\n"]},"metadata":{},"sourceType":"module"}