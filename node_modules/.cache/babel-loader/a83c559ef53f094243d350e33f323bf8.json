{"ast":null,"code":"import _slicedToArray from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { Key } from '../../types.js';\nimport { useState, useEffect } from 'react';\nvar KONAMI_CODE = [Key.UpArrow, Key.UpArrow, Key.DownArrow, Key.DownArrow, Key.LeftArrow, Key.RightArrow, Key.LeftArrow, Key.RightArrow, Key.KeyB, Key.KeyA];\n\nfunction KonamiCode(_ref) {\n  var handler = _ref.handler;\n  var keyEvent = 'keydown';\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var handleKeyEvent = function handleKeyEvent(event) {\n    var key = event.keyCode;\n    var requiredKey = KONAMI_CODE[position];\n\n    if (key === requiredKey) {\n      if (position === KONAMI_CODE.length - 1) {\n        handler(event);\n        setPosition(0);\n      } else {\n        setPosition(position + 1);\n      }\n    } else {\n      setPosition(0);\n    }\n  };\n\n  useEffect(function () {\n    document.addEventListener(keyEvent, handleKeyEvent);\n    return function () {\n      document.removeEventListener(keyEvent, handleKeyEvent);\n    };\n  });\n  return null;\n}\n\nexport { KONAMI_CODE, KonamiCode };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/KonamiCode/KonamiCode.js"],"names":["Key","useState","useEffect","KONAMI_CODE","UpArrow","DownArrow","LeftArrow","RightArrow","KeyB","KeyA","KonamiCode","handler","keyEvent","position","setPosition","handleKeyEvent","event","key","keyCode","requiredKey","length","document","addEventListener","removeEventListener"],"mappings":";AAAA,SAASA,GAAT,QAAoB,gBAApB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,IAAMC,WAAW,GAAG,CAACH,GAAG,CAACI,OAAL,EAAcJ,GAAG,CAACI,OAAlB,EAA2BJ,GAAG,CAACK,SAA/B,EAA0CL,GAAG,CAACK,SAA9C,EAAyDL,GAAG,CAACM,SAA7D,EAAwEN,GAAG,CAACO,UAA5E,EAAwFP,GAAG,CAACM,SAA5F,EAAuGN,GAAG,CAACO,UAA3G,EAAuHP,GAAG,CAACQ,IAA3H,EAAiIR,GAAG,CAACS,IAArI,CAApB;;AACA,SAASC,UAAT,OAEG;AAAA,MADDC,OACC,QADDA,OACC;AACD,MAAMC,QAAQ,GAAG,SAAjB;;AADC,kBAE+BX,QAAQ,CAAC,CAAD,CAFvC;AAAA;AAAA,MAEMY,QAFN;AAAA,MAEgBC,WAFhB;;AAID,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,KAAK,EAAI;AAC9B,QAAMC,GAAG,GAAGD,KAAK,CAACE,OAAlB;AACA,QAAMC,WAAW,GAAGhB,WAAW,CAACU,QAAD,CAA/B;;AAEA,QAAII,GAAG,KAAKE,WAAZ,EAAyB;AACvB,UAAIN,QAAQ,KAAKV,WAAW,CAACiB,MAAZ,GAAqB,CAAtC,EAAyC;AACvCT,QAAAA,OAAO,CAACK,KAAD,CAAP;AACAF,QAAAA,WAAW,CAAC,CAAD,CAAX;AACD,OAHD,MAGO;AACLA,QAAAA,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;AACD;AACF,KAPD,MAOO;AACLC,MAAAA,WAAW,CAAC,CAAD,CAAX;AACD;AACF,GAdD;;AAgBAZ,EAAAA,SAAS,CAAC,YAAM;AACdmB,IAAAA,QAAQ,CAACC,gBAAT,CAA0BV,QAA1B,EAAoCG,cAApC;AACA,WAAO,YAAM;AACXM,MAAAA,QAAQ,CAACE,mBAAT,CAA6BX,QAA7B,EAAuCG,cAAvC;AACD,KAFD;AAGD,GALQ,CAAT;AAMA,SAAO,IAAP;AACD;;AAED,SAASZ,WAAT,EAAsBO,UAAtB","sourcesContent":["import { Key } from '../../types.js';\nimport { useState, useEffect } from 'react';\n\nconst KONAMI_CODE = [Key.UpArrow, Key.UpArrow, Key.DownArrow, Key.DownArrow, Key.LeftArrow, Key.RightArrow, Key.LeftArrow, Key.RightArrow, Key.KeyB, Key.KeyA];\nfunction KonamiCode({\n  handler\n}) {\n  const keyEvent = 'keydown';\n  const [position, setPosition] = useState(0);\n\n  const handleKeyEvent = event => {\n    const key = event.keyCode;\n    const requiredKey = KONAMI_CODE[position];\n\n    if (key === requiredKey) {\n      if (position === KONAMI_CODE.length - 1) {\n        handler(event);\n        setPosition(0);\n      } else {\n        setPosition(position + 1);\n      }\n    } else {\n      setPosition(0);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(keyEvent, handleKeyEvent);\n    return () => {\n      document.removeEventListener(keyEvent, handleKeyEvent);\n    };\n  });\n  return null;\n}\n\nexport { KONAMI_CODE, KonamiCode };\n"]},"metadata":{},"sourceType":"module"}