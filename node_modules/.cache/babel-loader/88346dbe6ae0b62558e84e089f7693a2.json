{"ast":null,"code":"import React$1, { memo, useCallback, useMemo, useRef } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useToggle as useToggle$1 } from '../../../../utilities/use-toggle.js';\nimport styles from '../../IndexTable.scss.js';\nimport { SelectionType } from '../../../../utilities/index-provider/types.js';\nimport { useIndexRow, useIndexSelectionChange } from '../../../../utilities/index-provider/hooks.js';\nimport { RowContext, RowHoveredContext } from '../../../../utilities/index-table/context.js';\nimport { Checkbox as Checkbox$1 } from '../Checkbox/Checkbox.js';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Checkbox$1, null);\n\nconst Row = /*#__PURE__*/memo(function Row({\n  children,\n  selected,\n  id,\n  position,\n  subdued,\n  onNavigation\n}) {\n  const {\n    selectMode,\n    condensed\n  } = useIndexRow();\n  const onSelectionChange = useIndexSelectionChange();\n  const {\n    value: hovered,\n    setTrue: setHoverIn,\n    setFalse: setHoverOut\n  } = useToggle$1(false);\n  const rowClassName = classNames(styles.TableRow, condensed && styles.condensedRow, selected && styles['TableRow-selected'], subdued && styles['TableRow-subdued'], hovered && styles['TableRow-hovered']);\n  const handleInteraction = useCallback(event => {\n    event.stopPropagation();\n    if ('key' in event && event.key !== ' ' || !onSelectionChange) return;\n    const selectionType = event.nativeEvent.shiftKey ? SelectionType.Multi : SelectionType.Single;\n    onSelectionChange(selectionType, !selected, id, position);\n  }, [id, onSelectionChange, position, selected]);\n  const contextValue = useMemo(() => ({\n    itemId: id,\n    selected,\n    onInteraction: handleInteraction\n  }), [id, selected, handleInteraction]);\n  const tableRowRef = useRef(null);\n  const isNavigating = useRef(false);\n\n  const handleRowClick = event => {\n    if (!tableRowRef.current || isNavigating.current) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n    const primaryLinkElement = tableRowRef.current.querySelector('[data-primary-link]');\n\n    if (primaryLinkElement && !selectMode) {\n      isNavigating.current = true;\n      const {\n        ctrlKey,\n        metaKey\n      } = event.nativeEvent;\n\n      if (onNavigation) {\n        onNavigation(id);\n      }\n\n      if ((ctrlKey || metaKey) && primaryLinkElement instanceof HTMLAnchorElement) {\n        isNavigating.current = false;\n        window.open(primaryLinkElement.href, '_blank');\n        return;\n      }\n\n      primaryLinkElement.dispatchEvent(new MouseEvent(event.type, event.nativeEvent));\n    } else {\n      isNavigating.current = false;\n      handleInteraction(event);\n    }\n  };\n\n  const RowWrapper = condensed ? 'li' : 'tr';\n  return /*#__PURE__*/React$1.createElement(RowContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React$1.createElement(RowHoveredContext.Provider, {\n    value: hovered\n  }, /*#__PURE__*/React$1.createElement(RowWrapper, {\n    key: id,\n    className: rowClassName,\n    onMouseEnter: setHoverIn,\n    onMouseLeave: setHoverOut,\n    onClick: handleRowClick,\n    ref: tableRowRef\n  }, _ref, children)));\n});\nexport { Row };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/IndexTable/components/Row/Row.js"],"names":["React$1","memo","useCallback","useMemo","useRef","classNames","useToggle","useToggle$1","styles","SelectionType","useIndexRow","useIndexSelectionChange","RowContext","RowHoveredContext","Checkbox","Checkbox$1","_ref","createElement","Row","children","selected","id","position","subdued","onNavigation","selectMode","condensed","onSelectionChange","value","hovered","setTrue","setHoverIn","setFalse","setHoverOut","rowClassName","TableRow","condensedRow","handleInteraction","event","stopPropagation","key","selectionType","nativeEvent","shiftKey","Multi","Single","contextValue","itemId","onInteraction","tableRowRef","isNavigating","handleRowClick","current","preventDefault","primaryLinkElement","querySelector","ctrlKey","metaKey","HTMLAnchorElement","window","open","href","dispatchEvent","MouseEvent","type","RowWrapper","Provider","className","onMouseEnter","onMouseLeave","onClick","ref"],"mappings":"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","sourcesContent":["import React$1, { memo, useCallback, useMemo, useRef } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useToggle as useToggle$1 } from '../../../../utilities/use-toggle.js';\nimport styles from '../../IndexTable.scss.js';\nimport { SelectionType } from '../../../../utilities/index-provider/types.js';\nimport { useIndexRow, useIndexSelectionChange } from '../../../../utilities/index-provider/hooks.js';\nimport { RowContext, RowHoveredContext } from '../../../../utilities/index-table/context.js';\nimport { Checkbox as Checkbox$1 } from '../Checkbox/Checkbox.js';\n\nvar _ref = /*#__PURE__*/React$1.createElement(Checkbox$1, null);\n\nconst Row = /*#__PURE__*/memo(function Row({\n  children,\n  selected,\n  id,\n  position,\n  subdued,\n  onNavigation\n}) {\n  const {\n    selectMode,\n    condensed\n  } = useIndexRow();\n  const onSelectionChange = useIndexSelectionChange();\n  const {\n    value: hovered,\n    setTrue: setHoverIn,\n    setFalse: setHoverOut\n  } = useToggle$1(false);\n  const rowClassName = classNames(styles.TableRow, condensed && styles.condensedRow, selected && styles['TableRow-selected'], subdued && styles['TableRow-subdued'], hovered && styles['TableRow-hovered']);\n  const handleInteraction = useCallback(event => {\n    event.stopPropagation();\n    if ('key' in event && event.key !== ' ' || !onSelectionChange) return;\n    const selectionType = event.nativeEvent.shiftKey ? SelectionType.Multi : SelectionType.Single;\n    onSelectionChange(selectionType, !selected, id, position);\n  }, [id, onSelectionChange, position, selected]);\n  const contextValue = useMemo(() => ({\n    itemId: id,\n    selected,\n    onInteraction: handleInteraction\n  }), [id, selected, handleInteraction]);\n  const tableRowRef = useRef(null);\n  const isNavigating = useRef(false);\n\n  const handleRowClick = event => {\n    if (!tableRowRef.current || isNavigating.current) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n    const primaryLinkElement = tableRowRef.current.querySelector('[data-primary-link]');\n\n    if (primaryLinkElement && !selectMode) {\n      isNavigating.current = true;\n      const {\n        ctrlKey,\n        metaKey\n      } = event.nativeEvent;\n\n      if (onNavigation) {\n        onNavigation(id);\n      }\n\n      if ((ctrlKey || metaKey) && primaryLinkElement instanceof HTMLAnchorElement) {\n        isNavigating.current = false;\n        window.open(primaryLinkElement.href, '_blank');\n        return;\n      }\n\n      primaryLinkElement.dispatchEvent(new MouseEvent(event.type, event.nativeEvent));\n    } else {\n      isNavigating.current = false;\n      handleInteraction(event);\n    }\n  };\n\n  const RowWrapper = condensed ? 'li' : 'tr';\n  return /*#__PURE__*/React$1.createElement(RowContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React$1.createElement(RowHoveredContext.Provider, {\n    value: hovered\n  }, /*#__PURE__*/React$1.createElement(RowWrapper, {\n    key: id,\n    className: rowClassName,\n    onMouseEnter: setHoverIn,\n    onMouseLeave: setHoverOut,\n    onClick: handleRowClick,\n    ref: tableRowRef\n  }, _ref, children)));\n});\n\nexport { Row };\n"]},"metadata":{},"sourceType":"module"}