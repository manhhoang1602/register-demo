{"ast":null,"code":"import _defineProperty from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/hoangdev/Desktop/front.test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Key } from '../../types.js';\nimport React$1, { Component, createRef } from 'react';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames } from '../../utilities/css.js';\nimport { CancelSmallMinor, SearchMinor, ChevronUpMinor, ChevronDownMinor } from '@shopify/polaris-icons';\nimport { focusFirstFocusableNode } from '../../utilities/focus.js';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { Scrollable as Scrollable$1 } from '../Scrollable/Scrollable.js';\nimport { KeypressListener as KeypressListener$1 } from '../KeypressListener/KeypressListener.js';\nimport { WithinFilterContext } from '../../utilities/within-filter-context.js';\nimport { Badge as Badge$1 } from '../Badge/Badge.js';\nimport { TextStyle as TextStyle$1 } from '../TextStyle/TextStyle.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { Stack as Stack$1 } from '../Stack/Stack.js';\nimport { TextField as TextField$1 } from '../TextField/TextField.js';\nimport { ScrollLock as ScrollLock$1 } from '../ScrollLock/ScrollLock.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { Collapsible as Collapsible$1 } from '../Collapsible/Collapsible.js';\nimport { DisplayText as DisplayText$1 } from '../DisplayText/DisplayText.js';\nimport { Tag as Tag$1 } from '../Tag/Tag.js';\nimport { Focus as Focus$1 } from '../Focus/Focus.js';\nimport { Sheet as Sheet$1 } from '../Sheet/Sheet.js';\nimport { ConnectedFilterControl as ConnectedFilterControl$1 } from './components/ConnectedFilterControl/ConnectedFilterControl.js';\nimport { TagsWrapper as TagsWrapper$1 } from './components/TagsWrapper/TagsWrapper.js';\nimport styles from './Filters.scss.js';\nvar Suffix;\n\n(function (Suffix) {\n  Suffix[\"Filter\"] = \"Filter\";\n  Suffix[\"Shortcut\"] = \"Shortcut\";\n})(Suffix || (Suffix = {}));\n\nvar _ref = /*#__PURE__*/React$1.createElement(ScrollLock$1, null);\n\nvar _ref2 = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: SearchMinor\n});\n\nvar FiltersInner = /*#__PURE__*/function (_Component) {\n  _inherits(FiltersInner, _Component);\n\n  var _super = _createSuper(FiltersInner);\n\n  function FiltersInner() {\n    var _this;\n\n    _classCallCheck(this, FiltersInner);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      open: false,\n      readyForFocus: false\n    };\n    _this.moreFiltersButtonContainer = /*#__PURE__*/createRef();\n    _this.moreFiltersDoneButtonContainer = /*#__PURE__*/createRef();\n    _this.focusNode = /*#__PURE__*/createRef();\n\n    _this.closeFilters = function () {\n      _this.setState({\n        open: false\n      }, function () {\n        if (_this.moreFiltersButtonContainer.current) {\n          focusFirstFocusableNode(_this.moreFiltersButtonContainer.current, false);\n        }\n      });\n    };\n\n    _this.toggleFilters = function () {\n      if (_this.state.open === true) {\n        _this.closeFilters();\n      } else {\n        _this.openFilters();\n      }\n    };\n\n    _this.setReadyForFocus = function (newState) {\n      return function () {\n        _this.setState({\n          readyForFocus: newState\n        });\n      };\n    };\n\n    _this.handleClearAll = function () {\n      _this.props.onClearAll();\n\n      _this.moreFiltersDoneButtonContainer.current && focusFirstFocusableNode(_this.moreFiltersDoneButtonContainer.current, false);\n    };\n\n    return _this;\n  }\n\n  _createClass(FiltersInner, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          filters = _this$props.filters,\n          queryValue = _this$props.queryValue,\n          onQueryBlur = _this$props.onQueryBlur,\n          onQueryChange = _this$props.onQueryChange,\n          onQueryFocus = _this$props.onQueryFocus,\n          focused = _this$props.focused,\n          onClearAll = _this$props.onClearAll,\n          appliedFilters = _this$props.appliedFilters,\n          onQueryClear = _this$props.onQueryClear,\n          queryPlaceholder = _this$props.queryPlaceholder,\n          children = _this$props.children,\n          _this$props$disabled = _this$props.disabled,\n          disabled = _this$props$disabled === void 0 ? false : _this$props$disabled,\n          helpText = _this$props.helpText,\n          hideTags = _this$props.hideTags,\n          hideQueryField = _this$props.hideQueryField,\n          i18n = _this$props.i18n,\n          isNavigationCollapsed = _this$props.mediaQuery.isNavigationCollapsed;\n      var resourceName = this.context.resourceName;\n      var _this$state = this.state,\n          open = _this$state.open,\n          readyForFocus = _this$state.readyForFocus;\n      var backdropMarkup = open ? /*#__PURE__*/React$1.createElement(React$1.Fragment, null, _ref, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Backdrop,\n        onClick: this.closeFilters\n      })) : null;\n      var filtersContentMarkup = filters.map(function (filter, index) {\n        var filterIsOpen = _this2.state[\"\".concat(filter.key).concat(Suffix.Filter)] === true;\n        var icon = filterIsOpen ? ChevronUpMinor : ChevronDownMinor;\n        var className = classNames(styles.FilterTriggerContainer, filterIsOpen && styles.open, index === 0 && styles.first, filters.length !== 1 && index === filters.length - 1 && styles.last);\n\n        var appliedFilterContent = _this2.getAppliedFilterContent(filter.key);\n\n        var appliedFilterBadgeMarkup = appliedFilterContent ? /*#__PURE__*/React$1.createElement(\"div\", {\n          className: styles.AppliedFilterBadgeContainer\n        }, /*#__PURE__*/React$1.createElement(Badge$1, {\n          size: \"small\",\n          status: \"new\"\n        }, appliedFilterContent)) : null;\n        var collapsibleID = \"\".concat(filter.key, \"Collapsible\");\n        var buttonClassName = classNames(styles.FilterTrigger);\n        return /*#__PURE__*/React$1.createElement(\"div\", {\n          key: filter.key,\n          className: className\n        }, /*#__PURE__*/React$1.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this2.toggleFilter(filter.key);\n          },\n          className: buttonClassName,\n          id: \"\".concat(filter.key, \"ToggleButton\"),\n          type: \"button\",\n          \"aria-controls\": collapsibleID,\n          \"aria-expanded\": filterIsOpen\n        }, /*#__PURE__*/React$1.createElement(\"div\", {\n          className: styles.FilterTriggerLabelContainer\n        }, /*#__PURE__*/React$1.createElement(\"h3\", {\n          className: styles.FilterTriggerTitle\n        }, /*#__PURE__*/React$1.createElement(TextStyle$1, {\n          variation: _this2.props.disabled || filter.disabled ? 'subdued' : undefined\n        }, filter.label)), /*#__PURE__*/React$1.createElement(\"span\", {\n          className: styles.FilterTriggerIcon\n        }, /*#__PURE__*/React$1.createElement(Icon$1, {\n          source: icon,\n          color: \"base\"\n        }))), appliedFilterBadgeMarkup), /*#__PURE__*/React$1.createElement(Collapsible$1, {\n          id: collapsibleID,\n          open: filterIsOpen\n        }, /*#__PURE__*/React$1.createElement(\"div\", {\n          className: styles.FilterNodeContainer\n        }, /*#__PURE__*/React$1.createElement(Focus$1, {\n          disabled: !filterIsOpen || !readyForFocus || !open,\n          root: _this2.focusNode\n        }, _this2.generateFilterMarkup(filter)))));\n      });\n      var appliedFiltersCount = appliedFilters ? appliedFilters.length : 0;\n      var moreFiltersLabel = hideTags && appliedFiltersCount > 0 ? i18n.translate('Polaris.Filters.moreFiltersWithCount', {\n        count: appliedFiltersCount\n      }) : i18n.translate('Polaris.Filters.moreFilters');\n      var rightActionMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        ref: this.moreFiltersButtonContainer\n      }, /*#__PURE__*/React$1.createElement(Button$1, {\n        onClick: this.toggleFilters,\n        disabled: disabled\n      }, moreFiltersLabel));\n      var filterResourceName = resourceName || {\n        singular: i18n.translate('Polaris.ResourceList.defaultItemSingular'),\n        plural: i18n.translate('Polaris.ResourceList.defaultItemPlural')\n      };\n      var transformedFilters = this.transformFilters(filters);\n      var filtersControlMarkup = /*#__PURE__*/React$1.createElement(ConnectedFilterControl$1, {\n        rightPopoverableActions: transformedFilters,\n        rightAction: rightActionMarkup,\n        auxiliary: children,\n        disabled: disabled,\n        forceShowMorefiltersButton: filters.length > transformedFilters.length,\n        queryFieldHidden: hideQueryField\n      }, hideQueryField ? null : /*#__PURE__*/React$1.createElement(TextField$1, {\n        placeholder: queryPlaceholder || i18n.translate('Polaris.Filters.filter', {\n          resourceName: filterResourceName.plural\n        }),\n        onChange: onQueryChange,\n        onBlur: onQueryBlur,\n        onFocus: onQueryFocus,\n        value: queryValue,\n        focused: focused,\n        label: queryPlaceholder || i18n.translate('Polaris.Filters.filter', {\n          resourceName: filterResourceName.plural\n        }),\n        labelHidden: true,\n        prefix: /*#__PURE__*/React$1.createElement(\"span\", {\n          className: styles.SearchIcon\n        }, _ref2),\n        clearButton: true,\n        onClearButtonClick: onQueryClear,\n        disabled: disabled\n      }));\n      var filtersContainerHeaderClassname = classNames(styles.FiltersContainerHeader);\n      var filtersDesktopHeaderMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: filtersContainerHeaderClassname\n      }, /*#__PURE__*/React$1.createElement(DisplayText$1, {\n        size: \"small\",\n        element: \"h3\"\n      }, moreFiltersLabel), /*#__PURE__*/React$1.createElement(Button$1, {\n        icon: CancelSmallMinor,\n        plain: true,\n        accessibilityLabel: i18n.translate('Polaris.Filters.cancel'),\n        onClick: this.closeFilters\n      }));\n      var filtersMobileHeaderMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: filtersContainerHeaderClassname\n      }, /*#__PURE__*/React$1.createElement(Button$1, {\n        icon: CancelSmallMinor,\n        plain: true,\n        accessibilityLabel: i18n.translate('Polaris.Filters.cancel'),\n        onClick: this.closeFilters\n      }), /*#__PURE__*/React$1.createElement(DisplayText$1, {\n        size: \"small\",\n        element: \"h3\"\n      }, moreFiltersLabel), /*#__PURE__*/React$1.createElement(Button$1, {\n        onClick: this.closeFilters,\n        primary: true\n      }, i18n.translate('Polaris.Filters.done')));\n      var filtersDesktopFooterClassname = classNames(styles.FiltersContainerFooter);\n      var filtersDesktopFooterMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: filtersDesktopFooterClassname\n      }, /*#__PURE__*/React$1.createElement(Button$1, {\n        onClick: this.handleClearAll,\n        disabled: !this.hasAppliedFilters()\n      }, i18n.translate('Polaris.Filters.clearAllFilters')), /*#__PURE__*/React$1.createElement(\"div\", {\n        ref: this.moreFiltersDoneButtonContainer\n      }, /*#__PURE__*/React$1.createElement(Button$1, {\n        onClick: this.closeFilters,\n        primary: true\n      }, i18n.translate('Polaris.Filters.done'))));\n      var filtersMobileFooterMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.FiltersMobileContainerFooter\n      }, this.hasAppliedFilters() ? /*#__PURE__*/React$1.createElement(Button$1, {\n        onClick: onClearAll,\n        fullWidth: true\n      }, i18n.translate('Polaris.Filters.clearAllFilters')) : /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.EmptyFooterState\n      }, /*#__PURE__*/React$1.createElement(TextStyle$1, {\n        variation: \"subdued\"\n      }, /*#__PURE__*/React$1.createElement(\"p\", null, i18n.translate('Polaris.Filters.noFiltersApplied')))));\n      var shouldHideTagsContainer = !appliedFilters || appliedFilters.length < 1;\n      var tagsMarkup = !hideTags ? /*#__PURE__*/React$1.createElement(TagsWrapper$1, {\n        hidden: shouldHideTagsContainer\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.TagsContainer,\n        \"aria-live\": \"polite\"\n      }, (appliedFilters || []).map(function (filter) {\n        return /*#__PURE__*/React$1.createElement(Tag$1, {\n          key: filter.key,\n          onRemove: function onRemove() {\n            filter.onRemove(filter.key);\n          },\n          disabled: disabled\n        }, filter.label);\n      }))) : null;\n      var filtersMobileContainerContentClassName = classNames(styles.FiltersMobileContainerContent);\n      var filtersDesktopContainerContentClassName = classNames(styles.FiltersDesktopContainerContent);\n      var filtersContainerMarkup = isNavigationCollapsed ? /*#__PURE__*/React$1.createElement(Sheet$1, {\n        accessibilityLabel: moreFiltersLabel,\n        open: open,\n        onClose: this.closeFilters,\n        onEntered: this.setReadyForFocus(true),\n        onExit: this.setReadyForFocus(false)\n      }, filtersMobileHeaderMarkup, /*#__PURE__*/React$1.createElement(Scrollable$1, {\n        className: filtersMobileContainerContentClassName,\n        shadow: true\n      }, filtersContentMarkup, filtersMobileFooterMarkup)) : /*#__PURE__*/React$1.createElement(Sheet$1, {\n        accessibilityLabel: moreFiltersLabel,\n        open: open,\n        onClose: this.closeFilters,\n        onEntered: this.setReadyForFocus(true),\n        onExit: this.setReadyForFocus(false)\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.FiltersContainer\n      }, filtersDesktopHeaderMarkup, /*#__PURE__*/React$1.createElement(Scrollable$1, {\n        className: filtersDesktopContainerContentClassName,\n        shadow: true\n      }, filtersContentMarkup), filtersDesktopFooterMarkup));\n      var helpTextMarkup = helpText ? /*#__PURE__*/React$1.createElement(\"div\", {\n        id: \"FiltersHelpText\",\n        className: styles.HelpText\n      }, /*#__PURE__*/React$1.createElement(TextStyle$1, {\n        variation: \"subdued\"\n      }, helpText)) : null;\n      return /*#__PURE__*/React$1.createElement(WithinFilterContext.Provider, {\n        value: true\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.Filters\n      }, filtersControlMarkup, filtersContainerMarkup, tagsMarkup, helpTextMarkup, backdropMarkup, /*#__PURE__*/React$1.createElement(KeypressListener$1, {\n        keyCode: Key.Escape,\n        handler: this.closeFilters\n      })));\n    }\n  }, {\n    key: \"hasAppliedFilters\",\n    value: function hasAppliedFilters() {\n      var _this$props2 = this.props,\n          appliedFilters = _this$props2.appliedFilters,\n          queryValue = _this$props2.queryValue;\n      var filtersApplied = Boolean(appliedFilters && appliedFilters.length > 0);\n      var queryApplied = Boolean(queryValue && queryValue !== '');\n      return filtersApplied || queryApplied;\n    }\n  }, {\n    key: \"getAppliedFilterContent\",\n    value: function getAppliedFilterContent(key) {\n      var appliedFilters = this.props.appliedFilters;\n\n      if (!appliedFilters) {\n        return undefined;\n      }\n\n      var filter = appliedFilters.find(function (filter) {\n        return filter.key === key;\n      });\n      return filter == null ? undefined : filter.label;\n    }\n  }, {\n    key: \"getAppliedFilterRemoveHandler\",\n    value: function getAppliedFilterRemoveHandler(key) {\n      var appliedFilters = this.props.appliedFilters;\n\n      if (!appliedFilters) {\n        return undefined;\n      }\n\n      var filter = appliedFilters.find(function (filter) {\n        return filter.key === key;\n      });\n      return filter == null ? undefined : filter.onRemove;\n    }\n  }, {\n    key: \"openFilters\",\n    value: function openFilters() {\n      this.setState({\n        open: true\n      });\n    }\n  }, {\n    key: \"openFilter\",\n    value: function openFilter(key) {\n      this.setState(_defineProperty({}, \"\".concat(key).concat(Suffix.Filter), true));\n    }\n  }, {\n    key: \"closeFilter\",\n    value: function closeFilter(key) {\n      this.setState(_defineProperty({}, \"\".concat(key).concat(Suffix.Filter), false));\n    }\n  }, {\n    key: \"toggleFilter\",\n    value: function toggleFilter(key) {\n      if (this.state[\"\".concat(key).concat(Suffix.Filter)] === true) {\n        this.closeFilter(key);\n      } else {\n        this.openFilter(key);\n      }\n    }\n  }, {\n    key: \"openFilterShortcut\",\n    value: function openFilterShortcut(key) {\n      this.setState(_defineProperty({}, \"\".concat(key).concat(Suffix.Shortcut), true));\n    }\n  }, {\n    key: \"closeFilterShortcut\",\n    value: function closeFilterShortcut(key) {\n      this.setState(_defineProperty({}, \"\".concat(key).concat(Suffix.Shortcut), false));\n    }\n  }, {\n    key: \"toggleFilterShortcut\",\n    value: function toggleFilterShortcut(key) {\n      if (this.state[\"\".concat(key).concat(Suffix.Shortcut)] === true) {\n        this.closeFilterShortcut(key);\n      } else {\n        this.openFilterShortcut(key);\n      }\n    }\n  }, {\n    key: \"transformFilters\",\n    value: function transformFilters(filters) {\n      var _this3 = this;\n\n      var transformedActions = [];\n      getShortcutFilters(filters).forEach(function (filter) {\n        var key = filter.key,\n            label = filter.label,\n            disabled = filter.disabled;\n        transformedActions.push({\n          popoverContent: _this3.generateFilterMarkup(filter),\n          popoverOpen: Boolean(_this3.state[\"\".concat(key).concat(Suffix.Shortcut)]),\n          key: key,\n          content: label,\n          disabled: disabled,\n          onAction: function onAction() {\n            return _this3.toggleFilterShortcut(key);\n          }\n        });\n      });\n      return transformedActions;\n    }\n  }, {\n    key: \"generateFilterMarkup\",\n    value: function generateFilterMarkup(filter) {\n      var i18n = this.props.i18n;\n      var removeCallback = this.getAppliedFilterRemoveHandler(filter.key);\n      var removeHandler = removeCallback == null ? undefined : function () {\n        removeCallback(filter.key);\n      };\n      var clearButtonMarkup = !filter.hideClearButton && /*#__PURE__*/React$1.createElement(Button$1, {\n        plain: true,\n        disabled: removeHandler == null,\n        onClick: removeHandler,\n        accessibilityLabel: i18n.translate('Polaris.Filters.clearLabel', {\n          filterName: filter.label\n        })\n      }, i18n.translate('Polaris.Filters.clear'));\n      return /*#__PURE__*/React$1.createElement(\"div\", {\n        ref: this.focusNode\n      }, /*#__PURE__*/React$1.createElement(Stack$1, {\n        vertical: true,\n        spacing: \"tight\"\n      }, filter.filter, clearButtonMarkup));\n    }\n  }]);\n\n  return FiltersInner;\n}(Component);\n\nFiltersInner.contextType = ResourceListContext;\n\nfunction getShortcutFilters(filters) {\n  return filters.filter(function (filter) {\n    return filter.shortcut === true;\n  });\n}\n\nfunction Filters(props) {\n  var i18n = useI18n();\n  var mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React$1.createElement(FiltersInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Filters };","map":{"version":3,"sources":["/home/hoangdev/Desktop/front.test/node_modules/@shopify/polaris/dist/esm/components/Filters/Filters.js"],"names":["Key","React$1","Component","createRef","useMediaQuery","useI18n","classNames","CancelSmallMinor","SearchMinor","ChevronUpMinor","ChevronDownMinor","focusFirstFocusableNode","Icon","Icon$1","Scrollable","Scrollable$1","KeypressListener","KeypressListener$1","WithinFilterContext","Badge","Badge$1","TextStyle","TextStyle$1","Button","Button$1","Stack","Stack$1","TextField","TextField$1","ScrollLock","ScrollLock$1","ResourceListContext","Collapsible","Collapsible$1","DisplayText","DisplayText$1","Tag","Tag$1","Focus","Focus$1","Sheet","Sheet$1","ConnectedFilterControl","ConnectedFilterControl$1","TagsWrapper","TagsWrapper$1","styles","Suffix","_ref","createElement","_ref2","source","FiltersInner","args","state","open","readyForFocus","moreFiltersButtonContainer","moreFiltersDoneButtonContainer","focusNode","closeFilters","setState","current","toggleFilters","openFilters","setReadyForFocus","newState","handleClearAll","props","onClearAll","filters","queryValue","onQueryBlur","onQueryChange","onQueryFocus","focused","appliedFilters","onQueryClear","queryPlaceholder","children","disabled","helpText","hideTags","hideQueryField","i18n","isNavigationCollapsed","mediaQuery","resourceName","context","backdropMarkup","Fragment","className","Backdrop","onClick","filtersContentMarkup","map","filter","index","filterIsOpen","key","Filter","icon","FilterTriggerContainer","first","length","last","appliedFilterContent","getAppliedFilterContent","appliedFilterBadgeMarkup","AppliedFilterBadgeContainer","size","status","collapsibleID","buttonClassName","FilterTrigger","toggleFilter","id","type","FilterTriggerLabelContainer","FilterTriggerTitle","variation","undefined","label","FilterTriggerIcon","color","FilterNodeContainer","root","generateFilterMarkup","appliedFiltersCount","moreFiltersLabel","translate","count","rightActionMarkup","ref","filterResourceName","singular","plural","transformedFilters","transformFilters","filtersControlMarkup","rightPopoverableActions","rightAction","auxiliary","forceShowMorefiltersButton","queryFieldHidden","placeholder","onChange","onBlur","onFocus","value","labelHidden","prefix","SearchIcon","clearButton","onClearButtonClick","filtersContainerHeaderClassname","FiltersContainerHeader","filtersDesktopHeaderMarkup","element","plain","accessibilityLabel","filtersMobileHeaderMarkup","primary","filtersDesktopFooterClassname","FiltersContainerFooter","filtersDesktopFooterMarkup","hasAppliedFilters","filtersMobileFooterMarkup","FiltersMobileContainerFooter","fullWidth","EmptyFooterState","shouldHideTagsContainer","tagsMarkup","hidden","TagsContainer","onRemove","filtersMobileContainerContentClassName","FiltersMobileContainerContent","filtersDesktopContainerContentClassName","FiltersDesktopContainerContent","filtersContainerMarkup","onClose","onEntered","onExit","shadow","FiltersContainer","helpTextMarkup","HelpText","Provider","Filters","keyCode","Escape","handler","filtersApplied","Boolean","queryApplied","find","closeFilter","openFilter","Shortcut","closeFilterShortcut","openFilterShortcut","transformedActions","getShortcutFilters","forEach","push","popoverContent","popoverOpen","content","onAction","toggleFilterShortcut","removeCallback","getAppliedFilterRemoveHandler","removeHandler","clearButtonMarkup","hideClearButton","filterName","vertical","spacing","contextType","shortcut","Object","assign"],"mappings":";;;;;AAAA,SAASA,GAAT,QAAoB,gBAApB;AACA,OAAOC,OAAP,IAAkBC,SAAlB,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,SAASC,aAAT,QAA8B,sCAA9B;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,gBAAT,EAA2BC,WAA3B,EAAwCC,cAAxC,EAAwDC,gBAAxD,QAAgF,wBAAhF;AACA,SAASC,uBAAT,QAAwC,0BAAxC;AACA,SAASC,IAAI,IAAIC,MAAjB,QAA+B,iBAA/B;AACA,SAASC,UAAU,IAAIC,YAAvB,QAA2C,6BAA3C;AACA,SAASC,gBAAgB,IAAIC,kBAA7B,QAAuD,yCAAvD;AACA,SAASC,mBAAT,QAAoC,0CAApC;AACA,SAASC,KAAK,IAAIC,OAAlB,QAAiC,mBAAjC;AACA,SAASC,SAAS,IAAIC,WAAtB,QAAyC,2BAAzC;AACA,SAASC,MAAM,IAAIC,QAAnB,QAAmC,qBAAnC;AACA,SAASC,KAAK,IAAIC,OAAlB,QAAiC,mBAAjC;AACA,SAASC,SAAS,IAAIC,WAAtB,QAAyC,2BAAzC;AACA,SAASC,UAAU,IAAIC,YAAvB,QAA2C,6BAA3C;AACA,SAASC,mBAAT,QAAoC,0CAApC;AACA,SAASC,WAAW,IAAIC,aAAxB,QAA6C,+BAA7C;AACA,SAASC,WAAW,IAAIC,aAAxB,QAA6C,+BAA7C;AACA,SAASC,GAAG,IAAIC,KAAhB,QAA6B,eAA7B;AACA,SAASC,KAAK,IAAIC,OAAlB,QAAiC,mBAAjC;AACA,SAASC,KAAK,IAAIC,OAAlB,QAAiC,mBAAjC;AACA,SAASC,sBAAsB,IAAIC,wBAAnC,QAAmE,+DAAnE;AACA,SAASC,WAAW,IAAIC,aAAxB,QAA6C,yCAA7C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,IAAIC,MAAJ;;AAEA,CAAC,UAAUA,MAAV,EAAkB;AACjBA,EAAAA,MAAM,CAAC,QAAD,CAAN,GAAmB,QAAnB;AACAA,EAAAA,MAAM,CAAC,UAAD,CAAN,GAAqB,UAArB;AACD,CAHD,EAGGA,MAAM,KAAKA,MAAM,GAAG,EAAd,CAHT;;AAKA,IAAIC,IAAI,GAAG,aAAa/C,OAAO,CAACgD,aAAR,CAAsBnB,YAAtB,EAAoC,IAApC,CAAxB;;AAEA,IAAIoB,KAAK,GAAG,aAAajD,OAAO,CAACgD,aAAR,CAAsBpC,MAAtB,EAA8B;AACrDsC,EAAAA,MAAM,EAAE3C;AAD6C,CAA9B,CAAzB;;IAIM4C,Y;;;;;AACJ,0BAAqB;AAAA;;AAAA;;AAAA,sCAANC,IAAM;AAANA,MAAAA,IAAM;AAAA;;AACnB,oDAASA,IAAT;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,KADK;AAEXC,MAAAA,aAAa,EAAE;AAFJ,KAAb;AAIA,UAAKC,0BAAL,GAAkC,aAAatD,SAAS,EAAxD;AACA,UAAKuD,8BAAL,GAAsC,aAAavD,SAAS,EAA5D;AACA,UAAKwD,SAAL,GAAiB,aAAaxD,SAAS,EAAvC;;AAEA,UAAKyD,YAAL,GAAoB,YAAM;AACxB,YAAKC,QAAL,CAAc;AACZN,QAAAA,IAAI,EAAE;AADM,OAAd,EAEG,YAAM;AACP,YAAI,MAAKE,0BAAL,CAAgCK,OAApC,EAA6C;AAC3CnD,UAAAA,uBAAuB,CAAC,MAAK8C,0BAAL,CAAgCK,OAAjC,EAA0C,KAA1C,CAAvB;AACD;AACF,OAND;AAOD,KARD;;AAUA,UAAKC,aAAL,GAAqB,YAAM;AACzB,UAAI,MAAKT,KAAL,CAAWC,IAAX,KAAoB,IAAxB,EAA8B;AAC5B,cAAKK,YAAL;AACD,OAFD,MAEO;AACL,cAAKI,WAAL;AACD;AACF,KAND;;AAQA,UAAKC,gBAAL,GAAwB,UAAAC,QAAQ;AAAA,aAAI,YAAM;AACxC,cAAKL,QAAL,CAAc;AACZL,UAAAA,aAAa,EAAEU;AADH,SAAd;AAGD,OAJ+B;AAAA,KAAhC;;AAMA,UAAKC,cAAL,GAAsB,YAAM;AAC1B,YAAKC,KAAL,CAAWC,UAAX;;AACA,YAAKX,8BAAL,CAAoCI,OAApC,IAA+CnD,uBAAuB,CAAC,MAAK+C,8BAAL,CAAoCI,OAArC,EAA8C,KAA9C,CAAtE;AACD,KAHD;;AAlCmB;AAsCpB;;;;WAED,kBAAS;AAAA;;AAAA,wBAqBH,KAAKM,KArBF;AAAA,UAELE,OAFK,eAELA,OAFK;AAAA,UAGLC,UAHK,eAGLA,UAHK;AAAA,UAILC,WAJK,eAILA,WAJK;AAAA,UAKLC,aALK,eAKLA,aALK;AAAA,UAMLC,YANK,eAMLA,YANK;AAAA,UAOLC,OAPK,eAOLA,OAPK;AAAA,UAQLN,UARK,eAQLA,UARK;AAAA,UASLO,cATK,eASLA,cATK;AAAA,UAULC,YAVK,eAULA,YAVK;AAAA,UAWLC,gBAXK,eAWLA,gBAXK;AAAA,UAYLC,QAZK,eAYLA,QAZK;AAAA,6CAaLC,QAbK;AAAA,UAaLA,QAbK,qCAaM,KAbN;AAAA,UAcLC,QAdK,eAcLA,QAdK;AAAA,UAeLC,QAfK,eAeLA,QAfK;AAAA,UAgBLC,cAhBK,eAgBLA,cAhBK;AAAA,UAiBLC,IAjBK,eAiBLA,IAjBK;AAAA,UAmBHC,qBAnBG,eAkBLC,UAlBK,CAmBHD,qBAnBG;AAAA,UAuBLE,YAvBK,GAwBH,KAAKC,OAxBF,CAuBLD,YAvBK;AAAA,wBA4BH,KAAKjC,KA5BF;AAAA,UA0BLC,IA1BK,eA0BLA,IA1BK;AAAA,UA2BLC,aA3BK,eA2BLA,aA3BK;AA6BP,UAAMiC,cAAc,GAAGlC,IAAI,GAAG,aAAatD,OAAO,CAACgD,aAAR,CAAsBhD,OAAO,CAACyF,QAA9B,EAAwC,IAAxC,EAA8C1C,IAA9C,EAAoD,aAAa/C,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AACvI0C,QAAAA,SAAS,EAAE7C,MAAM,CAAC8C,QADqH;AAEvIC,QAAAA,OAAO,EAAE,KAAKjC;AAFyH,OAA7B,CAAjE,CAAhB,GAGrB,IAHN;AAIA,UAAMkC,oBAAoB,GAAGxB,OAAO,CAACyB,GAAR,CAAY,UAACC,MAAD,EAASC,KAAT,EAAmB;AAC1D,YAAMC,YAAY,GAAG,MAAI,CAAC5C,KAAL,WAAc0C,MAAM,CAACG,GAArB,SAA2BpD,MAAM,CAACqD,MAAlC,OAAgD,IAArE;AACA,YAAMC,IAAI,GAAGH,YAAY,GAAGzF,cAAH,GAAoBC,gBAA7C;AACA,YAAMiF,SAAS,GAAGrF,UAAU,CAACwC,MAAM,CAACwD,sBAAR,EAAgCJ,YAAY,IAAIpD,MAAM,CAACS,IAAvD,EAA6D0C,KAAK,KAAK,CAAV,IAAenD,MAAM,CAACyD,KAAnF,EAA0FjC,OAAO,CAACkC,MAAR,KAAmB,CAAnB,IAAwBP,KAAK,KAAK3B,OAAO,CAACkC,MAAR,GAAiB,CAAnD,IAAwD1D,MAAM,CAAC2D,IAAzJ,CAA5B;;AACA,YAAMC,oBAAoB,GAAG,MAAI,CAACC,uBAAL,CAA6BX,MAAM,CAACG,GAApC,CAA7B;;AACA,YAAMS,wBAAwB,GAAGF,oBAAoB,GAAG,aAAazG,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAChG0C,UAAAA,SAAS,EAAE7C,MAAM,CAAC+D;AAD8E,SAA7B,EAElE,aAAa5G,OAAO,CAACgD,aAAR,CAAsB7B,OAAtB,EAA+B;AAC7C0F,UAAAA,IAAI,EAAE,OADuC;AAE7CC,UAAAA,MAAM,EAAE;AAFqC,SAA/B,EAGbL,oBAHa,CAFqD,CAAhB,GAKzB,IAL5B;AAMA,YAAMM,aAAa,aAAMhB,MAAM,CAACG,GAAb,gBAAnB;AACA,YAAMc,eAAe,GAAG3G,UAAU,CAACwC,MAAM,CAACoE,aAAR,CAAlC;AACA,eAAO,aAAajH,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC/CkD,UAAAA,GAAG,EAAEH,MAAM,CAACG,GADmC;AAE/CR,UAAAA,SAAS,EAAEA;AAFoC,SAA7B,EAGjB,aAAa1F,OAAO,CAACgD,aAAR,CAAsB,QAAtB,EAAgC;AAC9C4C,UAAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACsB,YAAL,CAAkBnB,MAAM,CAACG,GAAzB,CAAN;AAAA,WADqC;AAE9CR,UAAAA,SAAS,EAAEsB,eAFmC;AAG9CG,UAAAA,EAAE,YAAKpB,MAAM,CAACG,GAAZ,iBAH4C;AAI9CkB,UAAAA,IAAI,EAAE,QAJwC;AAK9C,2BAAiBL,aAL6B;AAM9C,2BAAiBd;AAN6B,SAAhC,EAOb,aAAajG,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC3C0C,UAAAA,SAAS,EAAE7C,MAAM,CAACwE;AADyB,SAA7B,EAEb,aAAarH,OAAO,CAACgD,aAAR,CAAsB,IAAtB,EAA4B;AAC1C0C,UAAAA,SAAS,EAAE7C,MAAM,CAACyE;AADwB,SAA5B,EAEb,aAAatH,OAAO,CAACgD,aAAR,CAAsB3B,WAAtB,EAAmC;AACjDkG,UAAAA,SAAS,EAAE,MAAI,CAACpD,KAAL,CAAWY,QAAX,IAAuBgB,MAAM,CAAChB,QAA9B,GAAyC,SAAzC,GAAqDyC;AADf,SAAnC,EAEbzB,MAAM,CAAC0B,KAFM,CAFA,CAFA,EAMG,aAAazH,OAAO,CAACgD,aAAR,CAAsB,MAAtB,EAA8B;AAC5D0C,UAAAA,SAAS,EAAE7C,MAAM,CAAC6E;AAD0C,SAA9B,EAE7B,aAAa1H,OAAO,CAACgD,aAAR,CAAsBpC,MAAtB,EAA8B;AAC5CsC,UAAAA,MAAM,EAAEkD,IADoC;AAE5CuB,UAAAA,KAAK,EAAE;AAFqC,SAA9B,CAFgB,CANhB,CAPA,EAkBVhB,wBAlBU,CAHI,EAqBa,aAAa3G,OAAO,CAACgD,aAAR,CAAsBhB,aAAtB,EAAqC;AACjFmF,UAAAA,EAAE,EAAEJ,aAD6E;AAEjFzD,UAAAA,IAAI,EAAE2C;AAF2E,SAArC,EAG3C,aAAajG,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC3C0C,UAAAA,SAAS,EAAE7C,MAAM,CAAC+E;AADyB,SAA7B,EAEb,aAAa5H,OAAO,CAACgD,aAAR,CAAsBV,OAAtB,EAA+B;AAC7CyC,UAAAA,QAAQ,EAAE,CAACkB,YAAD,IAAiB,CAAC1C,aAAlB,IAAmC,CAACD,IADD;AAE7CuE,UAAAA,IAAI,EAAE,MAAI,CAACnE;AAFkC,SAA/B,EAGb,MAAI,CAACoE,oBAAL,CAA0B/B,MAA1B,CAHa,CAFA,CAH8B,CArB1B,CAApB;AA8BD,OA3C4B,CAA7B;AA4CA,UAAMgC,mBAAmB,GAAGpD,cAAc,GAAGA,cAAc,CAAC4B,MAAlB,GAA2B,CAArE;AACA,UAAMyB,gBAAgB,GAAG/C,QAAQ,IAAI8C,mBAAmB,GAAG,CAAlC,GAAsC5C,IAAI,CAAC8C,SAAL,CAAe,sCAAf,EAAuD;AACpHC,QAAAA,KAAK,EAAEH;AAD6G,OAAvD,CAAtC,GAEpB5C,IAAI,CAAC8C,SAAL,CAAe,6BAAf,CAFL;AAGA,UAAME,iBAAiB,GAAG,aAAanI,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAClEoF,QAAAA,GAAG,EAAE,KAAK5E;AADwD,OAA7B,EAEpC,aAAaxD,OAAO,CAACgD,aAAR,CAAsBzB,QAAtB,EAAgC;AAC9CqE,QAAAA,OAAO,EAAE,KAAK9B,aADgC;AAE9CiB,QAAAA,QAAQ,EAAEA;AAFoC,OAAhC,EAGbiD,gBAHa,CAFuB,CAAvC;AAMA,UAAMK,kBAAkB,GAAG/C,YAAY,IAAI;AACzCgD,QAAAA,QAAQ,EAAEnD,IAAI,CAAC8C,SAAL,CAAe,0CAAf,CAD+B;AAEzCM,QAAAA,MAAM,EAAEpD,IAAI,CAAC8C,SAAL,CAAe,wCAAf;AAFiC,OAA3C;AAIA,UAAMO,kBAAkB,GAAG,KAAKC,gBAAL,CAAsBpE,OAAtB,CAA3B;AACA,UAAMqE,oBAAoB,GAAG,aAAa1I,OAAO,CAACgD,aAAR,CAAsBN,wBAAtB,EAAgD;AACxFiG,QAAAA,uBAAuB,EAAEH,kBAD+D;AAExFI,QAAAA,WAAW,EAAET,iBAF2E;AAGxFU,QAAAA,SAAS,EAAE/D,QAH6E;AAIxFC,QAAAA,QAAQ,EAAEA,QAJ8E;AAKxF+D,QAAAA,0BAA0B,EAAEzE,OAAO,CAACkC,MAAR,GAAiBiC,kBAAkB,CAACjC,MALwB;AAMxFwC,QAAAA,gBAAgB,EAAE7D;AANsE,OAAhD,EAOvCA,cAAc,GAAG,IAAH,GAAU,aAAalF,OAAO,CAACgD,aAAR,CAAsBrB,WAAtB,EAAmC;AACzEqH,QAAAA,WAAW,EAAEnE,gBAAgB,IAAIM,IAAI,CAAC8C,SAAL,CAAe,wBAAf,EAAyC;AACxE3C,UAAAA,YAAY,EAAE+C,kBAAkB,CAACE;AADuC,SAAzC,CADwC;AAIzEU,QAAAA,QAAQ,EAAEzE,aAJ+D;AAKzE0E,QAAAA,MAAM,EAAE3E,WALiE;AAMzE4E,QAAAA,OAAO,EAAE1E,YANgE;AAOzE2E,QAAAA,KAAK,EAAE9E,UAPkE;AAQzEI,QAAAA,OAAO,EAAEA,OARgE;AASzE+C,QAAAA,KAAK,EAAE5C,gBAAgB,IAAIM,IAAI,CAAC8C,SAAL,CAAe,wBAAf,EAAyC;AAClE3C,UAAAA,YAAY,EAAE+C,kBAAkB,CAACE;AADiC,SAAzC,CAT8C;AAYzEc,QAAAA,WAAW,EAAE,IAZ4D;AAazEC,QAAAA,MAAM,EAAE,aAAatJ,OAAO,CAACgD,aAAR,CAAsB,MAAtB,EAA8B;AACjD0C,UAAAA,SAAS,EAAE7C,MAAM,CAAC0G;AAD+B,SAA9B,EAElBtG,KAFkB,CAboD;AAgBzEuG,QAAAA,WAAW,EAAE,IAhB4D;AAiBzEC,QAAAA,kBAAkB,EAAE7E,YAjBqD;AAkBzEG,QAAAA,QAAQ,EAAEA;AAlB+D,OAAnC,CAPE,CAA1C;AA2BA,UAAM2E,+BAA+B,GAAGrJ,UAAU,CAACwC,MAAM,CAAC8G,sBAAR,CAAlD;AACA,UAAMC,0BAA0B,GAAG,aAAa5J,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC3E0C,QAAAA,SAAS,EAAEgE;AADgE,OAA7B,EAE7C,aAAa1J,OAAO,CAACgD,aAAR,CAAsBd,aAAtB,EAAqC;AACnD2E,QAAAA,IAAI,EAAE,OAD6C;AAEnDgD,QAAAA,OAAO,EAAE;AAF0C,OAArC,EAGb7B,gBAHa,CAFgC,EAK1B,aAAahI,OAAO,CAACgD,aAAR,CAAsBzB,QAAtB,EAAgC;AACjE6E,QAAAA,IAAI,EAAE9F,gBAD2D;AAEjEwJ,QAAAA,KAAK,EAAE,IAF0D;AAGjEC,QAAAA,kBAAkB,EAAE5E,IAAI,CAAC8C,SAAL,CAAe,wBAAf,CAH6C;AAIjErC,QAAAA,OAAO,EAAE,KAAKjC;AAJmD,OAAhC,CALa,CAAhD;AAWA,UAAMqG,yBAAyB,GAAG,aAAahK,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC1E0C,QAAAA,SAAS,EAAEgE;AAD+D,OAA7B,EAE5C,aAAa1J,OAAO,CAACgD,aAAR,CAAsBzB,QAAtB,EAAgC;AAC9C6E,QAAAA,IAAI,EAAE9F,gBADwC;AAE9CwJ,QAAAA,KAAK,EAAE,IAFuC;AAG9CC,QAAAA,kBAAkB,EAAE5E,IAAI,CAAC8C,SAAL,CAAe,wBAAf,CAH0B;AAI9CrC,QAAAA,OAAO,EAAE,KAAKjC;AAJgC,OAAhC,CAF+B,EAO3C,aAAa3D,OAAO,CAACgD,aAAR,CAAsBd,aAAtB,EAAqC;AACpD2E,QAAAA,IAAI,EAAE,OAD8C;AAEpDgD,QAAAA,OAAO,EAAE;AAF2C,OAArC,EAGd7B,gBAHc,CAP8B,EAUzB,aAAahI,OAAO,CAACgD,aAAR,CAAsBzB,QAAtB,EAAgC;AACjEqE,QAAAA,OAAO,EAAE,KAAKjC,YADmD;AAEjEsG,QAAAA,OAAO,EAAE;AAFwD,OAAhC,EAGhC9E,IAAI,CAAC8C,SAAL,CAAe,sBAAf,CAHgC,CAVY,CAA/C;AAcA,UAAMiC,6BAA6B,GAAG7J,UAAU,CAACwC,MAAM,CAACsH,sBAAR,CAAhD;AACA,UAAMC,0BAA0B,GAAG,aAAapK,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC3E0C,QAAAA,SAAS,EAAEwE;AADgE,OAA7B,EAE7C,aAAalK,OAAO,CAACgD,aAAR,CAAsBzB,QAAtB,EAAgC;AAC9CqE,QAAAA,OAAO,EAAE,KAAK1B,cADgC;AAE9Ca,QAAAA,QAAQ,EAAE,CAAC,KAAKsF,iBAAL;AAFmC,OAAhC,EAGblF,IAAI,CAAC8C,SAAL,CAAe,iCAAf,CAHa,CAFgC,EAKO,aAAajI,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC/FoF,QAAAA,GAAG,EAAE,KAAK3E;AADqF,OAA7B,EAEjE,aAAazD,OAAO,CAACgD,aAAR,CAAsBzB,QAAtB,EAAgC;AAC9CqE,QAAAA,OAAO,EAAE,KAAKjC,YADgC;AAE9CsG,QAAAA,OAAO,EAAE;AAFqC,OAAhC,EAGb9E,IAAI,CAAC8C,SAAL,CAAe,sBAAf,CAHa,CAFoD,CALpB,CAAhD;AAWA,UAAMqC,yBAAyB,GAAG,aAAatK,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC1E0C,QAAAA,SAAS,EAAE7C,MAAM,CAAC0H;AADwD,OAA7B,EAE5C,KAAKF,iBAAL,KAA2B,aAAarK,OAAO,CAACgD,aAAR,CAAsBzB,QAAtB,EAAgC;AACzEqE,QAAAA,OAAO,EAAExB,UADgE;AAEzEoG,QAAAA,SAAS,EAAE;AAF8D,OAAhC,EAGxCrF,IAAI,CAAC8C,SAAL,CAAe,iCAAf,CAHwC,CAAxC,GAGqD,aAAajI,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAChG0C,QAAAA,SAAS,EAAE7C,MAAM,CAAC4H;AAD8E,OAA7B,EAElE,aAAazK,OAAO,CAACgD,aAAR,CAAsB3B,WAAtB,EAAmC;AACjDkG,QAAAA,SAAS,EAAE;AADsC,OAAnC,EAEb,aAAavH,OAAO,CAACgD,aAAR,CAAsB,GAAtB,EAA2B,IAA3B,EAAiCmC,IAAI,CAAC8C,SAAL,CAAe,kCAAf,CAAjC,CAFA,CAFqD,CALtB,CAA/C;AAUA,UAAMyC,uBAAuB,GAAG,CAAC/F,cAAD,IAAmBA,cAAc,CAAC4B,MAAf,GAAwB,CAA3E;AACA,UAAMoE,UAAU,GAAG,CAAC1F,QAAD,GAAY,aAAajF,OAAO,CAACgD,aAAR,CAAsBJ,aAAtB,EAAqC;AAC/EgI,QAAAA,MAAM,EAAEF;AADuE,OAArC,EAEzC,aAAa1K,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC3C0C,QAAAA,SAAS,EAAE7C,MAAM,CAACgI,aADyB;AAE3C,qBAAa;AAF8B,OAA7B,EAGb,CAAClG,cAAc,IAAI,EAAnB,EAAuBmB,GAAvB,CAA2B,UAAAC,MAAM,EAAI;AACtC,eAAO,aAAa/F,OAAO,CAACgD,aAAR,CAAsBZ,KAAtB,EAA6B;AAC/C8D,UAAAA,GAAG,EAAEH,MAAM,CAACG,GADmC;AAE/C4E,UAAAA,QAAQ,EAAE,oBAAM;AACd/E,YAAAA,MAAM,CAAC+E,QAAP,CAAgB/E,MAAM,CAACG,GAAvB;AACD,WAJ8C;AAK/CnB,UAAAA,QAAQ,EAAEA;AALqC,SAA7B,EAMjBgB,MAAM,CAAC0B,KANU,CAApB;AAOD,OARE,CAHa,CAF4B,CAAzB,GAaZ,IAbP;AAcA,UAAMsD,sCAAsC,GAAG1K,UAAU,CAACwC,MAAM,CAACmI,6BAAR,CAAzD;AACA,UAAMC,uCAAuC,GAAG5K,UAAU,CAACwC,MAAM,CAACqI,8BAAR,CAA1D;AACA,UAAMC,sBAAsB,GAAG/F,qBAAqB,GAAG,aAAapF,OAAO,CAACgD,aAAR,CAAsBR,OAAtB,EAA+B;AACjGuH,QAAAA,kBAAkB,EAAE/B,gBAD6E;AAEjG1E,QAAAA,IAAI,EAAEA,IAF2F;AAGjG8H,QAAAA,OAAO,EAAE,KAAKzH,YAHmF;AAIjG0H,QAAAA,SAAS,EAAE,KAAKrH,gBAAL,CAAsB,IAAtB,CAJsF;AAKjGsH,QAAAA,MAAM,EAAE,KAAKtH,gBAAL,CAAsB,KAAtB;AALyF,OAA/B,EAMjEgG,yBANiE,EAMtC,aAAahK,OAAO,CAACgD,aAAR,CAAsBlC,YAAtB,EAAoC;AAC7E4E,QAAAA,SAAS,EAAEqF,sCADkE;AAE7EQ,QAAAA,MAAM,EAAE;AAFqE,OAApC,EAGxC1F,oBAHwC,EAGlByE,yBAHkB,CANyB,CAAhB,GASG,aAAatK,OAAO,CAACgD,aAAR,CAAsBR,OAAtB,EAA+B;AACjGuH,QAAAA,kBAAkB,EAAE/B,gBAD6E;AAEjG1E,QAAAA,IAAI,EAAEA,IAF2F;AAGjG8H,QAAAA,OAAO,EAAE,KAAKzH,YAHmF;AAIjG0H,QAAAA,SAAS,EAAE,KAAKrH,gBAAL,CAAsB,IAAtB,CAJsF;AAKjGsH,QAAAA,MAAM,EAAE,KAAKtH,gBAAL,CAAsB,KAAtB;AALyF,OAA/B,EAMjE,aAAahE,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC3C0C,QAAAA,SAAS,EAAE7C,MAAM,CAAC2I;AADyB,OAA7B,EAEb5B,0BAFa,EAEe,aAAa5J,OAAO,CAACgD,aAAR,CAAsBlC,YAAtB,EAAoC;AAC9E4E,QAAAA,SAAS,EAAEuF,uCADmE;AAE9EM,QAAAA,MAAM,EAAE;AAFsE,OAApC,EAGzC1F,oBAHyC,CAF5B,EAKUuE,0BALV,CANoD,CATpE;AAqBA,UAAMqB,cAAc,GAAGzG,QAAQ,GAAG,aAAahF,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC1EmE,QAAAA,EAAE,EAAE,iBADsE;AAE1EzB,QAAAA,SAAS,EAAE7C,MAAM,CAAC6I;AAFwD,OAA7B,EAG5C,aAAa1L,OAAO,CAACgD,aAAR,CAAsB3B,WAAtB,EAAmC;AACjDkG,QAAAA,SAAS,EAAE;AADsC,OAAnC,EAEbvC,QAFa,CAH+B,CAAhB,GAKf,IALhB;AAMA,aAAO,aAAahF,OAAO,CAACgD,aAAR,CAAsB/B,mBAAmB,CAAC0K,QAA1C,EAAoD;AACtEvC,QAAAA,KAAK,EAAE;AAD+D,OAApD,EAEjB,aAAapJ,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC3C0C,QAAAA,SAAS,EAAE7C,MAAM,CAAC+I;AADyB,OAA7B,EAEblD,oBAFa,EAESyC,sBAFT,EAEiCR,UAFjC,EAE6Cc,cAF7C,EAE6DjG,cAF7D,EAE6E,aAAaxF,OAAO,CAACgD,aAAR,CAAsBhC,kBAAtB,EAA0C;AAClJ6K,QAAAA,OAAO,EAAE9L,GAAG,CAAC+L,MADqI;AAElJC,QAAAA,OAAO,EAAE,KAAKpI;AAFoI,OAA1C,CAF1F,CAFI,CAApB;AAQD;;;WAED,6BAAoB;AAAA,yBAId,KAAKQ,KAJS;AAAA,UAEhBQ,cAFgB,gBAEhBA,cAFgB;AAAA,UAGhBL,UAHgB,gBAGhBA,UAHgB;AAKlB,UAAM0H,cAAc,GAAGC,OAAO,CAACtH,cAAc,IAAIA,cAAc,CAAC4B,MAAf,GAAwB,CAA3C,CAA9B;AACA,UAAM2F,YAAY,GAAGD,OAAO,CAAC3H,UAAU,IAAIA,UAAU,KAAK,EAA9B,CAA5B;AACA,aAAO0H,cAAc,IAAIE,YAAzB;AACD;;;WAED,iCAAwBhG,GAAxB,EAA6B;AAAA,UAEzBvB,cAFyB,GAGvB,KAAKR,KAHkB,CAEzBQ,cAFyB;;AAK3B,UAAI,CAACA,cAAL,EAAqB;AACnB,eAAO6C,SAAP;AACD;;AAED,UAAMzB,MAAM,GAAGpB,cAAc,CAACwH,IAAf,CAAoB,UAAApG,MAAM;AAAA,eAAIA,MAAM,CAACG,GAAP,KAAeA,GAAnB;AAAA,OAA1B,CAAf;AACA,aAAOH,MAAM,IAAI,IAAV,GAAiByB,SAAjB,GAA6BzB,MAAM,CAAC0B,KAA3C;AACD;;;WAED,uCAA8BvB,GAA9B,EAAmC;AAAA,UAE/BvB,cAF+B,GAG7B,KAAKR,KAHwB,CAE/BQ,cAF+B;;AAKjC,UAAI,CAACA,cAAL,EAAqB;AACnB,eAAO6C,SAAP;AACD;;AAED,UAAMzB,MAAM,GAAGpB,cAAc,CAACwH,IAAf,CAAoB,UAAApG,MAAM;AAAA,eAAIA,MAAM,CAACG,GAAP,KAAeA,GAAnB;AAAA,OAA1B,CAAf;AACA,aAAOH,MAAM,IAAI,IAAV,GAAiByB,SAAjB,GAA6BzB,MAAM,CAAC+E,QAA3C;AACD;;;WAED,uBAAc;AACZ,WAAKlH,QAAL,CAAc;AACZN,QAAAA,IAAI,EAAE;AADM,OAAd;AAGD;;;WAED,oBAAW4C,GAAX,EAAgB;AACd,WAAKtC,QAAL,+BACMsC,GADN,SACYpD,MAAM,CAACqD,MADnB,GAC8B,IAD9B;AAGD;;;WAED,qBAAYD,GAAZ,EAAiB;AACf,WAAKtC,QAAL,+BACMsC,GADN,SACYpD,MAAM,CAACqD,MADnB,GAC8B,KAD9B;AAGD;;;WAED,sBAAaD,GAAb,EAAkB;AAChB,UAAI,KAAK7C,KAAL,WAAc6C,GAAd,SAAoBpD,MAAM,CAACqD,MAA3B,OAAyC,IAA7C,EAAmD;AACjD,aAAKiG,WAAL,CAAiBlG,GAAjB;AACD,OAFD,MAEO;AACL,aAAKmG,UAAL,CAAgBnG,GAAhB;AACD;AACF;;;WAED,4BAAmBA,GAAnB,EAAwB;AACtB,WAAKtC,QAAL,+BACMsC,GADN,SACYpD,MAAM,CAACwJ,QADnB,GACgC,IADhC;AAGD;;;WAED,6BAAoBpG,GAApB,EAAyB;AACvB,WAAKtC,QAAL,+BACMsC,GADN,SACYpD,MAAM,CAACwJ,QADnB,GACgC,KADhC;AAGD;;;WAED,8BAAqBpG,GAArB,EAA0B;AACxB,UAAI,KAAK7C,KAAL,WAAc6C,GAAd,SAAoBpD,MAAM,CAACwJ,QAA3B,OAA2C,IAA/C,EAAqD;AACnD,aAAKC,mBAAL,CAAyBrG,GAAzB;AACD,OAFD,MAEO;AACL,aAAKsG,kBAAL,CAAwBtG,GAAxB;AACD;AACF;;;WAED,0BAAiB7B,OAAjB,EAA0B;AAAA;;AACxB,UAAMoI,kBAAkB,GAAG,EAA3B;AACAC,MAAAA,kBAAkB,CAACrI,OAAD,CAAlB,CAA4BsI,OAA5B,CAAoC,UAAA5G,MAAM,EAAI;AAAA,YAE1CG,GAF0C,GAKxCH,MALwC,CAE1CG,GAF0C;AAAA,YAG1CuB,KAH0C,GAKxC1B,MALwC,CAG1C0B,KAH0C;AAAA,YAI1C1C,QAJ0C,GAKxCgB,MALwC,CAI1ChB,QAJ0C;AAM5C0H,QAAAA,kBAAkB,CAACG,IAAnB,CAAwB;AACtBC,UAAAA,cAAc,EAAE,MAAI,CAAC/E,oBAAL,CAA0B/B,MAA1B,CADM;AAEtB+G,UAAAA,WAAW,EAAEb,OAAO,CAAC,MAAI,CAAC5I,KAAL,WAAc6C,GAAd,SAAoBpD,MAAM,CAACwJ,QAA3B,EAAD,CAFE;AAGtBpG,UAAAA,GAAG,EAAHA,GAHsB;AAItB6G,UAAAA,OAAO,EAAEtF,KAJa;AAKtB1C,UAAAA,QAAQ,EAARA,QALsB;AAMtBiI,UAAAA,QAAQ,EAAE;AAAA,mBAAM,MAAI,CAACC,oBAAL,CAA0B/G,GAA1B,CAAN;AAAA;AANY,SAAxB;AAQD,OAdD;AAeA,aAAOuG,kBAAP;AACD;;;WAED,8BAAqB1G,MAArB,EAA6B;AAC3B,UAAMZ,IAAI,GAAG,KAAKhB,KAAL,CAAWgB,IAAxB;AACA,UAAM+H,cAAc,GAAG,KAAKC,6BAAL,CAAmCpH,MAAM,CAACG,GAA1C,CAAvB;AACA,UAAMkH,aAAa,GAAGF,cAAc,IAAI,IAAlB,GAAyB1F,SAAzB,GAAqC,YAAM;AAC/D0F,QAAAA,cAAc,CAACnH,MAAM,CAACG,GAAR,CAAd;AACD,OAFD;AAGA,UAAMmH,iBAAiB,GAAG,CAACtH,MAAM,CAACuH,eAAR,IAA2B,aAAatN,OAAO,CAACgD,aAAR,CAAsBzB,QAAtB,EAAgC;AAChGuI,QAAAA,KAAK,EAAE,IADyF;AAEhG/E,QAAAA,QAAQ,EAAEqI,aAAa,IAAI,IAFqE;AAGhGxH,QAAAA,OAAO,EAAEwH,aAHuF;AAIhGrD,QAAAA,kBAAkB,EAAE5E,IAAI,CAAC8C,SAAL,CAAe,4BAAf,EAA6C;AAC/DsF,UAAAA,UAAU,EAAExH,MAAM,CAAC0B;AAD4C,SAA7C;AAJ4E,OAAhC,EAO/DtC,IAAI,CAAC8C,SAAL,CAAe,uBAAf,CAP+D,CAAlE;AAQA,aAAO,aAAajI,OAAO,CAACgD,aAAR,CAAsB,KAAtB,EAA6B;AAC/CoF,QAAAA,GAAG,EAAE,KAAK1E;AADqC,OAA7B,EAEjB,aAAa1D,OAAO,CAACgD,aAAR,CAAsBvB,OAAtB,EAA+B;AAC7C+L,QAAAA,QAAQ,EAAE,IADmC;AAE7CC,QAAAA,OAAO,EAAE;AAFoC,OAA/B,EAGb1H,MAAM,CAACA,MAHM,EAGEsH,iBAHF,CAFI,CAApB;AAMD;;;;EAhYwBpN,S;;AAoY3BkD,YAAY,CAACuK,WAAb,GAA2B5L,mBAA3B;;AAEA,SAAS4K,kBAAT,CAA4BrI,OAA5B,EAAqC;AACnC,SAAOA,OAAO,CAAC0B,MAAR,CAAe,UAAAA,MAAM;AAAA,WAAIA,MAAM,CAAC4H,QAAP,KAAoB,IAAxB;AAAA,GAArB,CAAP;AACD;;AAED,SAAS/B,OAAT,CAAiBzH,KAAjB,EAAwB;AACtB,MAAMgB,IAAI,GAAG/E,OAAO,EAApB;AACA,MAAMiF,UAAU,GAAGlF,aAAa,EAAhC;AACA,SAAO,aAAaH,OAAO,CAACgD,aAAR,CAAsBG,YAAtB,EAAoCyK,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB1J,KAAlB,EAAyB;AAC/EgB,IAAAA,IAAI,EAAEA,IADyE;AAE/EE,IAAAA,UAAU,EAAEA;AAFmE,GAAzB,CAApC,CAApB;AAID;;AAED,SAASuG,OAAT","sourcesContent":["import { Key } from '../../types.js';\nimport React$1, { Component, createRef } from 'react';\nimport { useMediaQuery } from '../../utilities/media-query/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { classNames } from '../../utilities/css.js';\nimport { CancelSmallMinor, SearchMinor, ChevronUpMinor, ChevronDownMinor } from '@shopify/polaris-icons';\nimport { focusFirstFocusableNode } from '../../utilities/focus.js';\nimport { Icon as Icon$1 } from '../Icon/Icon.js';\nimport { Scrollable as Scrollable$1 } from '../Scrollable/Scrollable.js';\nimport { KeypressListener as KeypressListener$1 } from '../KeypressListener/KeypressListener.js';\nimport { WithinFilterContext } from '../../utilities/within-filter-context.js';\nimport { Badge as Badge$1 } from '../Badge/Badge.js';\nimport { TextStyle as TextStyle$1 } from '../TextStyle/TextStyle.js';\nimport { Button as Button$1 } from '../Button/Button.js';\nimport { Stack as Stack$1 } from '../Stack/Stack.js';\nimport { TextField as TextField$1 } from '../TextField/TextField.js';\nimport { ScrollLock as ScrollLock$1 } from '../ScrollLock/ScrollLock.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { Collapsible as Collapsible$1 } from '../Collapsible/Collapsible.js';\nimport { DisplayText as DisplayText$1 } from '../DisplayText/DisplayText.js';\nimport { Tag as Tag$1 } from '../Tag/Tag.js';\nimport { Focus as Focus$1 } from '../Focus/Focus.js';\nimport { Sheet as Sheet$1 } from '../Sheet/Sheet.js';\nimport { ConnectedFilterControl as ConnectedFilterControl$1 } from './components/ConnectedFilterControl/ConnectedFilterControl.js';\nimport { TagsWrapper as TagsWrapper$1 } from './components/TagsWrapper/TagsWrapper.js';\nimport styles from './Filters.scss.js';\n\nvar Suffix;\n\n(function (Suffix) {\n  Suffix[\"Filter\"] = \"Filter\";\n  Suffix[\"Shortcut\"] = \"Shortcut\";\n})(Suffix || (Suffix = {}));\n\nvar _ref = /*#__PURE__*/React$1.createElement(ScrollLock$1, null);\n\nvar _ref2 = /*#__PURE__*/React$1.createElement(Icon$1, {\n  source: SearchMinor\n});\n\nclass FiltersInner extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      open: false,\n      readyForFocus: false\n    };\n    this.moreFiltersButtonContainer = /*#__PURE__*/createRef();\n    this.moreFiltersDoneButtonContainer = /*#__PURE__*/createRef();\n    this.focusNode = /*#__PURE__*/createRef();\n\n    this.closeFilters = () => {\n      this.setState({\n        open: false\n      }, () => {\n        if (this.moreFiltersButtonContainer.current) {\n          focusFirstFocusableNode(this.moreFiltersButtonContainer.current, false);\n        }\n      });\n    };\n\n    this.toggleFilters = () => {\n      if (this.state.open === true) {\n        this.closeFilters();\n      } else {\n        this.openFilters();\n      }\n    };\n\n    this.setReadyForFocus = newState => () => {\n      this.setState({\n        readyForFocus: newState\n      });\n    };\n\n    this.handleClearAll = () => {\n      this.props.onClearAll();\n      this.moreFiltersDoneButtonContainer.current && focusFirstFocusableNode(this.moreFiltersDoneButtonContainer.current, false);\n    };\n  }\n\n  render() {\n    const {\n      filters,\n      queryValue,\n      onQueryBlur,\n      onQueryChange,\n      onQueryFocus,\n      focused,\n      onClearAll,\n      appliedFilters,\n      onQueryClear,\n      queryPlaceholder,\n      children,\n      disabled = false,\n      helpText,\n      hideTags,\n      hideQueryField,\n      i18n,\n      mediaQuery: {\n        isNavigationCollapsed\n      }\n    } = this.props;\n    const {\n      resourceName\n    } = this.context;\n    const {\n      open,\n      readyForFocus\n    } = this.state;\n    const backdropMarkup = open ? /*#__PURE__*/React$1.createElement(React$1.Fragment, null, _ref, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Backdrop,\n      onClick: this.closeFilters\n    })) : null;\n    const filtersContentMarkup = filters.map((filter, index) => {\n      const filterIsOpen = this.state[`${filter.key}${Suffix.Filter}`] === true;\n      const icon = filterIsOpen ? ChevronUpMinor : ChevronDownMinor;\n      const className = classNames(styles.FilterTriggerContainer, filterIsOpen && styles.open, index === 0 && styles.first, filters.length !== 1 && index === filters.length - 1 && styles.last);\n      const appliedFilterContent = this.getAppliedFilterContent(filter.key);\n      const appliedFilterBadgeMarkup = appliedFilterContent ? /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.AppliedFilterBadgeContainer\n      }, /*#__PURE__*/React$1.createElement(Badge$1, {\n        size: \"small\",\n        status: \"new\"\n      }, appliedFilterContent)) : null;\n      const collapsibleID = `${filter.key}Collapsible`;\n      const buttonClassName = classNames(styles.FilterTrigger);\n      return /*#__PURE__*/React$1.createElement(\"div\", {\n        key: filter.key,\n        className: className\n      }, /*#__PURE__*/React$1.createElement(\"button\", {\n        onClick: () => this.toggleFilter(filter.key),\n        className: buttonClassName,\n        id: `${filter.key}ToggleButton`,\n        type: \"button\",\n        \"aria-controls\": collapsibleID,\n        \"aria-expanded\": filterIsOpen\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.FilterTriggerLabelContainer\n      }, /*#__PURE__*/React$1.createElement(\"h3\", {\n        className: styles.FilterTriggerTitle\n      }, /*#__PURE__*/React$1.createElement(TextStyle$1, {\n        variation: this.props.disabled || filter.disabled ? 'subdued' : undefined\n      }, filter.label)), /*#__PURE__*/React$1.createElement(\"span\", {\n        className: styles.FilterTriggerIcon\n      }, /*#__PURE__*/React$1.createElement(Icon$1, {\n        source: icon,\n        color: \"base\"\n      }))), appliedFilterBadgeMarkup), /*#__PURE__*/React$1.createElement(Collapsible$1, {\n        id: collapsibleID,\n        open: filterIsOpen\n      }, /*#__PURE__*/React$1.createElement(\"div\", {\n        className: styles.FilterNodeContainer\n      }, /*#__PURE__*/React$1.createElement(Focus$1, {\n        disabled: !filterIsOpen || !readyForFocus || !open,\n        root: this.focusNode\n      }, this.generateFilterMarkup(filter)))));\n    });\n    const appliedFiltersCount = appliedFilters ? appliedFilters.length : 0;\n    const moreFiltersLabel = hideTags && appliedFiltersCount > 0 ? i18n.translate('Polaris.Filters.moreFiltersWithCount', {\n      count: appliedFiltersCount\n    }) : i18n.translate('Polaris.Filters.moreFilters');\n    const rightActionMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: this.moreFiltersButtonContainer\n    }, /*#__PURE__*/React$1.createElement(Button$1, {\n      onClick: this.toggleFilters,\n      disabled: disabled\n    }, moreFiltersLabel));\n    const filterResourceName = resourceName || {\n      singular: i18n.translate('Polaris.ResourceList.defaultItemSingular'),\n      plural: i18n.translate('Polaris.ResourceList.defaultItemPlural')\n    };\n    const transformedFilters = this.transformFilters(filters);\n    const filtersControlMarkup = /*#__PURE__*/React$1.createElement(ConnectedFilterControl$1, {\n      rightPopoverableActions: transformedFilters,\n      rightAction: rightActionMarkup,\n      auxiliary: children,\n      disabled: disabled,\n      forceShowMorefiltersButton: filters.length > transformedFilters.length,\n      queryFieldHidden: hideQueryField\n    }, hideQueryField ? null : /*#__PURE__*/React$1.createElement(TextField$1, {\n      placeholder: queryPlaceholder || i18n.translate('Polaris.Filters.filter', {\n        resourceName: filterResourceName.plural\n      }),\n      onChange: onQueryChange,\n      onBlur: onQueryBlur,\n      onFocus: onQueryFocus,\n      value: queryValue,\n      focused: focused,\n      label: queryPlaceholder || i18n.translate('Polaris.Filters.filter', {\n        resourceName: filterResourceName.plural\n      }),\n      labelHidden: true,\n      prefix: /*#__PURE__*/React$1.createElement(\"span\", {\n        className: styles.SearchIcon\n      }, _ref2),\n      clearButton: true,\n      onClearButtonClick: onQueryClear,\n      disabled: disabled\n    }));\n    const filtersContainerHeaderClassname = classNames(styles.FiltersContainerHeader);\n    const filtersDesktopHeaderMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: filtersContainerHeaderClassname\n    }, /*#__PURE__*/React$1.createElement(DisplayText$1, {\n      size: \"small\",\n      element: \"h3\"\n    }, moreFiltersLabel), /*#__PURE__*/React$1.createElement(Button$1, {\n      icon: CancelSmallMinor,\n      plain: true,\n      accessibilityLabel: i18n.translate('Polaris.Filters.cancel'),\n      onClick: this.closeFilters\n    }));\n    const filtersMobileHeaderMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: filtersContainerHeaderClassname\n    }, /*#__PURE__*/React$1.createElement(Button$1, {\n      icon: CancelSmallMinor,\n      plain: true,\n      accessibilityLabel: i18n.translate('Polaris.Filters.cancel'),\n      onClick: this.closeFilters\n    }), /*#__PURE__*/React$1.createElement(DisplayText$1, {\n      size: \"small\",\n      element: \"h3\"\n    }, moreFiltersLabel), /*#__PURE__*/React$1.createElement(Button$1, {\n      onClick: this.closeFilters,\n      primary: true\n    }, i18n.translate('Polaris.Filters.done')));\n    const filtersDesktopFooterClassname = classNames(styles.FiltersContainerFooter);\n    const filtersDesktopFooterMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: filtersDesktopFooterClassname\n    }, /*#__PURE__*/React$1.createElement(Button$1, {\n      onClick: this.handleClearAll,\n      disabled: !this.hasAppliedFilters()\n    }, i18n.translate('Polaris.Filters.clearAllFilters')), /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: this.moreFiltersDoneButtonContainer\n    }, /*#__PURE__*/React$1.createElement(Button$1, {\n      onClick: this.closeFilters,\n      primary: true\n    }, i18n.translate('Polaris.Filters.done'))));\n    const filtersMobileFooterMarkup = /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.FiltersMobileContainerFooter\n    }, this.hasAppliedFilters() ? /*#__PURE__*/React$1.createElement(Button$1, {\n      onClick: onClearAll,\n      fullWidth: true\n    }, i18n.translate('Polaris.Filters.clearAllFilters')) : /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.EmptyFooterState\n    }, /*#__PURE__*/React$1.createElement(TextStyle$1, {\n      variation: \"subdued\"\n    }, /*#__PURE__*/React$1.createElement(\"p\", null, i18n.translate('Polaris.Filters.noFiltersApplied')))));\n    const shouldHideTagsContainer = !appliedFilters || appliedFilters.length < 1;\n    const tagsMarkup = !hideTags ? /*#__PURE__*/React$1.createElement(TagsWrapper$1, {\n      hidden: shouldHideTagsContainer\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.TagsContainer,\n      \"aria-live\": \"polite\"\n    }, (appliedFilters || []).map(filter => {\n      return /*#__PURE__*/React$1.createElement(Tag$1, {\n        key: filter.key,\n        onRemove: () => {\n          filter.onRemove(filter.key);\n        },\n        disabled: disabled\n      }, filter.label);\n    }))) : null;\n    const filtersMobileContainerContentClassName = classNames(styles.FiltersMobileContainerContent);\n    const filtersDesktopContainerContentClassName = classNames(styles.FiltersDesktopContainerContent);\n    const filtersContainerMarkup = isNavigationCollapsed ? /*#__PURE__*/React$1.createElement(Sheet$1, {\n      accessibilityLabel: moreFiltersLabel,\n      open: open,\n      onClose: this.closeFilters,\n      onEntered: this.setReadyForFocus(true),\n      onExit: this.setReadyForFocus(false)\n    }, filtersMobileHeaderMarkup, /*#__PURE__*/React$1.createElement(Scrollable$1, {\n      className: filtersMobileContainerContentClassName,\n      shadow: true\n    }, filtersContentMarkup, filtersMobileFooterMarkup)) : /*#__PURE__*/React$1.createElement(Sheet$1, {\n      accessibilityLabel: moreFiltersLabel,\n      open: open,\n      onClose: this.closeFilters,\n      onEntered: this.setReadyForFocus(true),\n      onExit: this.setReadyForFocus(false)\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.FiltersContainer\n    }, filtersDesktopHeaderMarkup, /*#__PURE__*/React$1.createElement(Scrollable$1, {\n      className: filtersDesktopContainerContentClassName,\n      shadow: true\n    }, filtersContentMarkup), filtersDesktopFooterMarkup));\n    const helpTextMarkup = helpText ? /*#__PURE__*/React$1.createElement(\"div\", {\n      id: \"FiltersHelpText\",\n      className: styles.HelpText\n    }, /*#__PURE__*/React$1.createElement(TextStyle$1, {\n      variation: \"subdued\"\n    }, helpText)) : null;\n    return /*#__PURE__*/React$1.createElement(WithinFilterContext.Provider, {\n      value: true\n    }, /*#__PURE__*/React$1.createElement(\"div\", {\n      className: styles.Filters\n    }, filtersControlMarkup, filtersContainerMarkup, tagsMarkup, helpTextMarkup, backdropMarkup, /*#__PURE__*/React$1.createElement(KeypressListener$1, {\n      keyCode: Key.Escape,\n      handler: this.closeFilters\n    })));\n  }\n\n  hasAppliedFilters() {\n    const {\n      appliedFilters,\n      queryValue\n    } = this.props;\n    const filtersApplied = Boolean(appliedFilters && appliedFilters.length > 0);\n    const queryApplied = Boolean(queryValue && queryValue !== '');\n    return filtersApplied || queryApplied;\n  }\n\n  getAppliedFilterContent(key) {\n    const {\n      appliedFilters\n    } = this.props;\n\n    if (!appliedFilters) {\n      return undefined;\n    }\n\n    const filter = appliedFilters.find(filter => filter.key === key);\n    return filter == null ? undefined : filter.label;\n  }\n\n  getAppliedFilterRemoveHandler(key) {\n    const {\n      appliedFilters\n    } = this.props;\n\n    if (!appliedFilters) {\n      return undefined;\n    }\n\n    const filter = appliedFilters.find(filter => filter.key === key);\n    return filter == null ? undefined : filter.onRemove;\n  }\n\n  openFilters() {\n    this.setState({\n      open: true\n    });\n  }\n\n  openFilter(key) {\n    this.setState({\n      [`${key}${Suffix.Filter}`]: true\n    });\n  }\n\n  closeFilter(key) {\n    this.setState({\n      [`${key}${Suffix.Filter}`]: false\n    });\n  }\n\n  toggleFilter(key) {\n    if (this.state[`${key}${Suffix.Filter}`] === true) {\n      this.closeFilter(key);\n    } else {\n      this.openFilter(key);\n    }\n  }\n\n  openFilterShortcut(key) {\n    this.setState({\n      [`${key}${Suffix.Shortcut}`]: true\n    });\n  }\n\n  closeFilterShortcut(key) {\n    this.setState({\n      [`${key}${Suffix.Shortcut}`]: false\n    });\n  }\n\n  toggleFilterShortcut(key) {\n    if (this.state[`${key}${Suffix.Shortcut}`] === true) {\n      this.closeFilterShortcut(key);\n    } else {\n      this.openFilterShortcut(key);\n    }\n  }\n\n  transformFilters(filters) {\n    const transformedActions = [];\n    getShortcutFilters(filters).forEach(filter => {\n      const {\n        key,\n        label,\n        disabled\n      } = filter;\n      transformedActions.push({\n        popoverContent: this.generateFilterMarkup(filter),\n        popoverOpen: Boolean(this.state[`${key}${Suffix.Shortcut}`]),\n        key,\n        content: label,\n        disabled,\n        onAction: () => this.toggleFilterShortcut(key)\n      });\n    });\n    return transformedActions;\n  }\n\n  generateFilterMarkup(filter) {\n    const i18n = this.props.i18n;\n    const removeCallback = this.getAppliedFilterRemoveHandler(filter.key);\n    const removeHandler = removeCallback == null ? undefined : () => {\n      removeCallback(filter.key);\n    };\n    const clearButtonMarkup = !filter.hideClearButton && /*#__PURE__*/React$1.createElement(Button$1, {\n      plain: true,\n      disabled: removeHandler == null,\n      onClick: removeHandler,\n      accessibilityLabel: i18n.translate('Polaris.Filters.clearLabel', {\n        filterName: filter.label\n      })\n    }, i18n.translate('Polaris.Filters.clear'));\n    return /*#__PURE__*/React$1.createElement(\"div\", {\n      ref: this.focusNode\n    }, /*#__PURE__*/React$1.createElement(Stack$1, {\n      vertical: true,\n      spacing: \"tight\"\n    }, filter.filter, clearButtonMarkup));\n  }\n\n}\n\nFiltersInner.contextType = ResourceListContext;\n\nfunction getShortcutFilters(filters) {\n  return filters.filter(filter => filter.shortcut === true);\n}\n\nfunction Filters(props) {\n  const i18n = useI18n();\n  const mediaQuery = useMediaQuery();\n  return /*#__PURE__*/React$1.createElement(FiltersInner, Object.assign({}, props, {\n    i18n: i18n,\n    mediaQuery: mediaQuery\n  }));\n}\n\nexport { Filters };\n"]},"metadata":{},"sourceType":"module"}